/*! For license information please see 105.ab1bdaf0.chunk.js.LICENSE.txt */
(self.webpackChunkeccomerce_app=self.webpackChunkeccomerce_app||[]).push([[105],{5302:function(e,t,n){"use strict";n.d(t,{z:function(){return a}});n(2791);var r=n(3504),i=n(184),a=function(e){var t=e.children,n=e.\u0441lickHandler,a=(e.size,e.className),o=e.type,s=e.disabled,u=e.link,c=void 0!==u&&u,l=e.linkTo,h="bg-accent h-10 rounded w-[8.4rem] text-white  ".concat(a||""," ").concat(s?"bg-disabled":"");return c?(0,i.jsx)(r.OL,{to:l,className:"".concat(h," flex items-center justify-center"),children:t}):(0,i.jsx)("button",{type:o,onClick:n,className:h,disabled:s,children:t})}},1347:function(e,t,n){"use strict";n.d(t,{c:function(){return a}});n(2791);var r=n(3504),i=n(184),a=function(e){var t=e.children,n=e.link;return(0,i.jsx)("div",{className:"lg:h-[17.8rem] h-32 bg-primary xl:px-5",children:(0,i.jsxs)("div",{className:"flex flex-col justify-center h-full max-w-8xl ml-2 tn:ml-5 xl:mx-auto",children:[(0,i.jsx)("h1",{className:"font-josefin-sans text-4xl text-text font-bold capitalize",children:t}),(0,i.jsxs)("div",{className:"font-lato font-medium",children:[(0,i.jsx)(r.OL,{to:"/",children:"Home"}),(0,i.jsxs)(r.OL,{className:"text-accent ml-1 capitalize",to:"/".concat(n),children:[". ",t]})]})]})})}},2756:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Dw}});var r=n.p+"static/media/contact_help.f8c917d77b8054092416.png",i=n(1347),a=n(2791),o=n(77),s=n.n(o),u=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===c}(e)}(e)};var c="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function l(e,t){return!1!==t.clone&&t.isMergeableObject(e)?f((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function h(e,t,n){return e.concat(t).map((function(e){return l(e,n)}))}function f(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||h,n.isMergeableObject=n.isMergeableObject||u;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):function(e,t,n){var r={};return n.isMergeableObject(e)&&Object.keys(e).forEach((function(t){r[t]=l(e[t],n)})),Object.keys(t).forEach((function(i){n.isMergeableObject(t[i])&&e[i]?r[i]=f(e[i],t[i],n):r[i]=l(t[i],n)})),r}(e,t,n):l(t,n)}f.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return f(e,n,t)}),{})};var p=f,v="object"==typeof global&&global&&global.Object===Object&&global,d="object"==typeof self&&self&&self.Object===Object&&self,y=v||d||Function("return this")(),m=y.Symbol,g=Object.prototype,k=g.hasOwnProperty,b=g.toString,w=m?m.toStringTag:void 0;var _=function(e){var t=k.call(e,w),n=e[w];try{e[w]=void 0;var r=!0}catch(a){}var i=b.call(e);return r&&(t?e[w]=n:delete e[w]),i},E=Object.prototype.toString;var x=function(e){return E.call(e)},T=m?m.toStringTag:void 0;var I=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":T&&T in Object(e)?_(e):x(e)};var S=function(e,t){return function(n){return e(t(n))}},A=S(Object.getPrototypeOf,Object);var O=function(e){return null!=e&&"object"==typeof e},C=Function.prototype,N=Object.prototype,D=C.toString,R=N.hasOwnProperty,F=D.call(Object);var j=function(e){if(!O(e)||"[object Object]"!=I(e))return!1;var t=A(e);if(null===t)return!0;var n=R.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&D.call(n)==F};var P=function(){this.__data__=[],this.size=0};var L=function(e,t){return e===t||e!==e&&t!==t};var M=function(e,t){for(var n=e.length;n--;)if(L(e[n][0],t))return n;return-1},U=Array.prototype.splice;var V=function(e){var t=this.__data__,n=M(t,e);return!(n<0)&&(n==t.length-1?t.pop():U.call(t,n,1),--this.size,!0)};var Z=function(e){var t=this.__data__,n=M(t,e);return n<0?void 0:t[n][1]};var B=function(e){return M(this.__data__,e)>-1};var z=function(e,t){var n=this.__data__,r=M(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function q(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}q.prototype.clear=P,q.prototype.delete=V,q.prototype.get=Z,q.prototype.has=B,q.prototype.set=z;var H=q;var G=function(){this.__data__=new H,this.size=0};var K=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var W=function(e){return this.__data__.get(e)};var $=function(e){return this.__data__.has(e)};var X=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var Y=function(e){if(!X(e))return!1;var t=I(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},J=y["__core-js_shared__"],Q=function(){var e=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var ee=function(e){return!!Q&&Q in e},te=Function.prototype.toString;var ne=function(e){if(null!=e){try{return te.call(e)}catch(t){}try{return e+""}catch(t){}}return""},re=/^\[object .+?Constructor\]$/,ie=Function.prototype,ae=Object.prototype,oe=ie.toString,se=ae.hasOwnProperty,ue=RegExp("^"+oe.call(se).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ce=function(e){return!(!X(e)||ee(e))&&(Y(e)?ue:re).test(ne(e))};var le=function(e,t){return null==e?void 0:e[t]};var he=function(e,t){var n=le(e,t);return ce(n)?n:void 0},fe=he(y,"Map"),pe=he(Object,"create");var ve=function(){this.__data__=pe?pe(null):{},this.size=0};var de=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ye=Object.prototype.hasOwnProperty;var me=function(e){var t=this.__data__;if(pe){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return ye.call(t,e)?t[e]:void 0},ge=Object.prototype.hasOwnProperty;var ke=function(e){var t=this.__data__;return pe?void 0!==t[e]:ge.call(t,e)};var be=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=pe&&void 0===t?"__lodash_hash_undefined__":t,this};function we(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}we.prototype.clear=ve,we.prototype.delete=de,we.prototype.get=me,we.prototype.has=ke,we.prototype.set=be;var _e=we;var Ee=function(){this.size=0,this.__data__={hash:new _e,map:new(fe||H),string:new _e}};var xe=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Te=function(e,t){var n=e.__data__;return xe(t)?n["string"==typeof t?"string":"hash"]:n.map};var Ie=function(e){var t=Te(this,e).delete(e);return this.size-=t?1:0,t};var Se=function(e){return Te(this,e).get(e)};var Ae=function(e){return Te(this,e).has(e)};var Oe=function(e,t){var n=Te(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Ce(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ce.prototype.clear=Ee,Ce.prototype.delete=Ie,Ce.prototype.get=Se,Ce.prototype.has=Ae,Ce.prototype.set=Oe;var Ne=Ce;var De=function(e,t){var n=this.__data__;if(n instanceof H){var r=n.__data__;if(!fe||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ne(r)}return n.set(e,t),this.size=n.size,this};function Re(e){var t=this.__data__=new H(e);this.size=t.size}Re.prototype.clear=G,Re.prototype.delete=K,Re.prototype.get=W,Re.prototype.has=$,Re.prototype.set=De;var Fe=Re;var je=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},Pe=function(){try{var e=he(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();var Le=function(e,t,n){"__proto__"==t&&Pe?Pe(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Me=Object.prototype.hasOwnProperty;var Ue=function(e,t,n){var r=e[t];Me.call(e,t)&&L(r,n)&&(void 0!==n||t in e)||Le(e,t,n)};var Ve=function(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),i?Le(n,s,u):Ue(n,s,u)}return n};var Ze=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var Be=function(e){return O(e)&&"[object Arguments]"==I(e)},ze=Object.prototype,qe=ze.hasOwnProperty,He=ze.propertyIsEnumerable,Ge=Be(function(){return arguments}())?Be:function(e){return O(e)&&qe.call(e,"callee")&&!He.call(e,"callee")},Ke=Ge,We=Array.isArray;var $e=function(){return!1},Xe="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ye=Xe&&"object"==typeof module&&module&&!module.nodeType&&module,Je=Ye&&Ye.exports===Xe?y.Buffer:void 0,Qe=(Je?Je.isBuffer:void 0)||$e,et=/^(?:0|[1-9]\d*)$/;var tt=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&et.test(e))&&e>-1&&e%1==0&&e<t};var nt=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},rt={};rt["[object Float32Array]"]=rt["[object Float64Array]"]=rt["[object Int8Array]"]=rt["[object Int16Array]"]=rt["[object Int32Array]"]=rt["[object Uint8Array]"]=rt["[object Uint8ClampedArray]"]=rt["[object Uint16Array]"]=rt["[object Uint32Array]"]=!0,rt["[object Arguments]"]=rt["[object Array]"]=rt["[object ArrayBuffer]"]=rt["[object Boolean]"]=rt["[object DataView]"]=rt["[object Date]"]=rt["[object Error]"]=rt["[object Function]"]=rt["[object Map]"]=rt["[object Number]"]=rt["[object Object]"]=rt["[object RegExp]"]=rt["[object Set]"]=rt["[object String]"]=rt["[object WeakMap]"]=!1;var it=function(e){return O(e)&&nt(e.length)&&!!rt[I(e)]};var at=function(e){return function(t){return e(t)}},ot="object"==typeof exports&&exports&&!exports.nodeType&&exports,st=ot&&"object"==typeof module&&module&&!module.nodeType&&module,ut=st&&st.exports===ot&&v.process,ct=function(){try{var e=st&&st.require&&st.require("util").types;return e||ut&&ut.binding&&ut.binding("util")}catch(t){}}(),lt=ct&&ct.isTypedArray,ht=lt?at(lt):it,ft=Object.prototype.hasOwnProperty;var pt=function(e,t){var n=We(e),r=!n&&Ke(e),i=!n&&!r&&Qe(e),a=!n&&!r&&!i&&ht(e),o=n||r||i||a,s=o?Ze(e.length,String):[],u=s.length;for(var c in e)!t&&!ft.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||tt(c,u))||s.push(c);return s},vt=Object.prototype;var dt=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||vt)},yt=S(Object.keys,Object),mt=Object.prototype.hasOwnProperty;var gt=function(e){if(!dt(e))return yt(e);var t=[];for(var n in Object(e))mt.call(e,n)&&"constructor"!=n&&t.push(n);return t};var kt=function(e){return null!=e&&nt(e.length)&&!Y(e)};var bt=function(e){return kt(e)?pt(e):gt(e)};var wt=function(e,t){return e&&Ve(t,bt(t),e)};var _t=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},Et=Object.prototype.hasOwnProperty;var xt=function(e){if(!X(e))return _t(e);var t=dt(e),n=[];for(var r in e)("constructor"!=r||!t&&Et.call(e,r))&&n.push(r);return n};var Tt=function(e){return kt(e)?pt(e,!0):xt(e)};var It=function(e,t){return e&&Ve(t,Tt(t),e)},St="object"==typeof exports&&exports&&!exports.nodeType&&exports,At=St&&"object"==typeof module&&module&&!module.nodeType&&module,Ot=At&&At.exports===St?y.Buffer:void 0,Ct=Ot?Ot.allocUnsafe:void 0;var Nt=function(e,t){if(t)return e.slice();var n=e.length,r=Ct?Ct(n):new e.constructor(n);return e.copy(r),r};var Dt=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var Rt=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a};var Ft=function(){return[]},jt=Object.prototype.propertyIsEnumerable,Pt=Object.getOwnPropertySymbols,Lt=Pt?function(e){return null==e?[]:(e=Object(e),Rt(Pt(e),(function(t){return jt.call(e,t)})))}:Ft,Mt=Lt;var Ut=function(e,t){return Ve(e,Mt(e),t)};var Vt=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},Zt=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Vt(t,Mt(e)),e=A(e);return t}:Ft,Bt=Zt;var zt=function(e,t){return Ve(e,Bt(e),t)};var qt=function(e,t,n){var r=t(e);return We(e)?r:Vt(r,n(e))};var Ht=function(e){return qt(e,bt,Mt)};var Gt=function(e){return qt(e,Tt,Bt)},Kt=he(y,"DataView"),Wt=he(y,"Promise"),$t=he(y,"Set"),Xt=he(y,"WeakMap"),Yt="[object Map]",Jt="[object Promise]",Qt="[object Set]",en="[object WeakMap]",tn="[object DataView]",nn=ne(Kt),rn=ne(fe),an=ne(Wt),on=ne($t),sn=ne(Xt),un=I;(Kt&&un(new Kt(new ArrayBuffer(1)))!=tn||fe&&un(new fe)!=Yt||Wt&&un(Wt.resolve())!=Jt||$t&&un(new $t)!=Qt||Xt&&un(new Xt)!=en)&&(un=function(e){var t=I(e),n="[object Object]"==t?e.constructor:void 0,r=n?ne(n):"";if(r)switch(r){case nn:return tn;case rn:return Yt;case an:return Jt;case on:return Qt;case sn:return en}return t});var cn=un,ln=Object.prototype.hasOwnProperty;var hn=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&ln.call(e,"index")&&(n.index=e.index,n.input=e.input),n},fn=y.Uint8Array;var pn=function(e){var t=new e.constructor(e.byteLength);return new fn(t).set(new fn(e)),t};var vn=function(e,t){var n=t?pn(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},dn=/\w*$/;var yn=function(e){var t=new e.constructor(e.source,dn.exec(e));return t.lastIndex=e.lastIndex,t},mn=m?m.prototype:void 0,gn=mn?mn.valueOf:void 0;var kn=function(e){return gn?Object(gn.call(e)):{}};var bn=function(e,t){var n=t?pn(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var wn=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return pn(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return vn(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return bn(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return yn(e);case"[object Symbol]":return kn(e)}},_n=Object.create,En=function(){function e(){}return function(t){if(!X(t))return{};if(_n)return _n(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),xn=En;var Tn=function(e){return"function"!=typeof e.constructor||dt(e)?{}:xn(A(e))};var In=function(e){return O(e)&&"[object Map]"==cn(e)},Sn=ct&&ct.isMap,An=Sn?at(Sn):In;var On=function(e){return O(e)&&"[object Set]"==cn(e)},Cn=ct&&ct.isSet,Nn=Cn?at(Cn):On,Dn="[object Arguments]",Rn="[object Function]",Fn="[object Object]",jn={};jn[Dn]=jn["[object Array]"]=jn["[object ArrayBuffer]"]=jn["[object DataView]"]=jn["[object Boolean]"]=jn["[object Date]"]=jn["[object Float32Array]"]=jn["[object Float64Array]"]=jn["[object Int8Array]"]=jn["[object Int16Array]"]=jn["[object Int32Array]"]=jn["[object Map]"]=jn["[object Number]"]=jn["[object Object]"]=jn["[object RegExp]"]=jn["[object Set]"]=jn["[object String]"]=jn["[object Symbol]"]=jn["[object Uint8Array]"]=jn["[object Uint8ClampedArray]"]=jn["[object Uint16Array]"]=jn["[object Uint32Array]"]=!0,jn["[object Error]"]=jn[Rn]=jn["[object WeakMap]"]=!1;var Pn=function e(t,n,r,i,a,o){var s,u=1&n,c=2&n,l=4&n;if(r&&(s=a?r(t,i,a,o):r(t)),void 0!==s)return s;if(!X(t))return t;var h=We(t);if(h){if(s=hn(t),!u)return Dt(t,s)}else{var f=cn(t),p=f==Rn||"[object GeneratorFunction]"==f;if(Qe(t))return Nt(t,u);if(f==Fn||f==Dn||p&&!a){if(s=c||p?{}:Tn(t),!u)return c?zt(t,It(s,t)):Ut(t,wt(s,t))}else{if(!jn[f])return a?t:{};s=wn(t,f,u)}}o||(o=new Fe);var v=o.get(t);if(v)return v;o.set(t,s),Nn(t)?t.forEach((function(i){s.add(e(i,n,r,i,t,o))})):An(t)&&t.forEach((function(i,a){s.set(a,e(i,n,r,a,t,o))}));var d=h?void 0:(l?c?Gt:Ht:c?Tt:bt)(t);return je(d||t,(function(i,a){d&&(i=t[a=i]),Ue(s,a,e(i,n,r,a,t,o))})),s};var Ln=function(e){return Pn(e,4)};var Mn=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i};var Un=function(e){return"symbol"==typeof e||O(e)&&"[object Symbol]"==I(e)};function Vn(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(Vn.Cache||Ne),n}Vn.Cache=Ne;var Zn=Vn;var Bn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zn=/\\(\\)?/g,qn=function(e){var t=Zn(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Bn,(function(e,n,r,i){t.push(r?i.replace(zn,"$1"):n||e)})),t})),Hn=qn;var Gn=function(e){if("string"==typeof e||Un(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t},Kn=m?m.prototype:void 0,Wn=Kn?Kn.toString:void 0;var $n=function e(t){if("string"==typeof t)return t;if(We(t))return Mn(t,e)+"";if(Un(t))return Wn?Wn.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};var Xn=function(e){return null==e?"":$n(e)};var Yn=function(e){return We(e)?Mn(e,Gn):Un(e)?[e]:Dt(Hn(Xn(e)))};var Jn=function(e,t){},Qn=n(2110),er=n.n(Qn);var tr=function(e){return Pn(e,5)};function nr(){return nr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nr.apply(this,arguments)}function rr(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function ir(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function ar(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var or=function(e){return Array.isArray(e)&&0===e.length},sr=function(e){return"function"===typeof e},ur=function(e){return null!==e&&"object"===typeof e},cr=function(e){return String(Math.floor(Number(e)))===e},lr=function(e){return"[object String]"===Object.prototype.toString.call(e)},hr=function(e){return 0===a.Children.count(e)},fr=function(e){return ur(e)&&sr(e.then)};function pr(e,t,n,r){void 0===r&&(r=0);for(var i=Yn(t);e&&r<i.length;)e=e[i[r++]];return void 0===e?n:e}function vr(e,t,n){for(var r=Ln(e),i=r,a=0,o=Yn(t);a<o.length-1;a++){var s=o[a],u=pr(e,o.slice(0,a+1));if(u&&(ur(u)||Array.isArray(u)))i=i[s]=Ln(u);else{var c=o[a+1];i=i[s]=cr(c)&&Number(c)>=0?[]:{}}}return(0===a?e:i)[o[a]]===n?e:(void 0===n?delete i[o[a]]:i[o[a]]=n,0===a&&void 0===n&&delete r[o[a]],r)}function dr(e,t,n,r){void 0===n&&(n=new WeakMap),void 0===r&&(r={});for(var i=0,a=Object.keys(e);i<a.length;i++){var o=a[i],s=e[o];ur(s)?n.get(s)||(n.set(s,!0),r[o]=Array.isArray(s)?[]:{},dr(s,t,n,r[o])):r[o]=t}return r}var yr=(0,a.createContext)(void 0);yr.displayName="FormikContext";var mr=yr.Provider,gr=yr.Consumer;function kr(){var e=(0,a.useContext)(yr);return e||Jn(!1),e}function br(e,t){switch(t.type){case"SET_VALUES":return nr({},e,{values:t.payload});case"SET_TOUCHED":return nr({},e,{touched:t.payload});case"SET_ERRORS":return s()(e.errors,t.payload)?e:nr({},e,{errors:t.payload});case"SET_STATUS":return nr({},e,{status:t.payload});case"SET_ISSUBMITTING":return nr({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return nr({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return nr({},e,{values:vr(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return nr({},e,{touched:vr(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return nr({},e,{errors:vr(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return nr({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return nr({},e,{touched:dr(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":case"SUBMIT_SUCCESS":return nr({},e,{isSubmitting:!1});default:return e}}var wr={},_r={};function Er(e){var t=e.validateOnChange,n=void 0===t||t,r=e.validateOnBlur,i=void 0===r||r,o=e.validateOnMount,u=void 0!==o&&o,c=e.isInitialValid,l=e.enableReinitialize,h=void 0!==l&&l,f=e.onSubmit,v=ir(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),d=nr({validateOnChange:n,validateOnBlur:i,validateOnMount:u,onSubmit:f},v),y=(0,a.useRef)(d.initialValues),m=(0,a.useRef)(d.initialErrors||wr),g=(0,a.useRef)(d.initialTouched||_r),k=(0,a.useRef)(d.initialStatus),b=(0,a.useRef)(!1),w=(0,a.useRef)({});(0,a.useEffect)((function(){return b.current=!0,function(){b.current=!1}}),[]);var _=(0,a.useReducer)(br,{values:d.initialValues,errors:d.initialErrors||wr,touched:d.initialTouched||_r,status:d.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),E=_[0],x=_[1],T=(0,a.useCallback)((function(e,t){return new Promise((function(n,r){var i=d.validate(e,t);null==i?n(wr):fr(i)?i.then((function(e){n(e||wr)}),(function(e){r(e)})):n(i)}))}),[d.validate]),I=(0,a.useCallback)((function(e,t){var n=d.validationSchema,r=sr(n)?n(t):n,i=t&&r.validateAt?r.validateAt(t,e):function(e,t,n,r){void 0===n&&(n=!1);void 0===r&&(r={});var i=Tr(e);return t[n?"validateSync":"validate"](i,{abortEarly:!1,context:r})}(e,r);return new Promise((function(e,t){i.then((function(){e(wr)}),(function(n){"ValidationError"===n.name?e(function(e){var t={};if(e.inner){if(0===e.inner.length)return vr(t,e.path,e.message);var n=e.inner,r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var a;if(r){if(i>=n.length)break;a=n[i++]}else{if((i=n.next()).done)break;a=i.value}var o=a;pr(t,o.path)||(t=vr(t,o.path,o.message))}}return t}(n)):t(n)}))}))}),[d.validationSchema]),S=(0,a.useCallback)((function(e,t){return new Promise((function(n){return n(w.current[e].validate(t))}))}),[]),A=(0,a.useCallback)((function(e){var t=Object.keys(w.current).filter((function(e){return sr(w.current[e].validate)})),n=t.length>0?t.map((function(t){return S(t,pr(e,t))})):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(n).then((function(e){return e.reduce((function(e,n,r){return"DO_NOT_DELETE_YOU_WILL_BE_FIRED"===n||n&&(e=vr(e,t[r],n)),e}),{})}))}),[S]),O=(0,a.useCallback)((function(e){return Promise.all([A(e),d.validationSchema?I(e):{},d.validate?T(e):{}]).then((function(e){var t=e[0],n=e[1],r=e[2];return p.all([t,n,r],{arrayMerge:Ir})}))}),[d.validate,d.validationSchema,A,T,I]),C=Ar((function(e){return void 0===e&&(e=E.values),x({type:"SET_ISVALIDATING",payload:!0}),O(e).then((function(e){return b.current&&(x({type:"SET_ISVALIDATING",payload:!1}),x({type:"SET_ERRORS",payload:e})),e}))}));(0,a.useEffect)((function(){u&&!0===b.current&&s()(y.current,d.initialValues)&&C(y.current)}),[u,C]);var N=(0,a.useCallback)((function(e){var t=e&&e.values?e.values:y.current,n=e&&e.errors?e.errors:m.current?m.current:d.initialErrors||{},r=e&&e.touched?e.touched:g.current?g.current:d.initialTouched||{},i=e&&e.status?e.status:k.current?k.current:d.initialStatus;y.current=t,m.current=n,g.current=r,k.current=i;var a=function(){x({type:"RESET_FORM",payload:{isSubmitting:!!e&&!!e.isSubmitting,errors:n,touched:r,status:i,values:t,isValidating:!!e&&!!e.isValidating,submitCount:e&&e.submitCount&&"number"===typeof e.submitCount?e.submitCount:0}})};if(d.onReset){var o=d.onReset(E.values,X);fr(o)?o.then(a):a()}else a()}),[d.initialErrors,d.initialStatus,d.initialTouched]);(0,a.useEffect)((function(){!0!==b.current||s()(y.current,d.initialValues)||(h&&(y.current=d.initialValues,N()),u&&C(y.current))}),[h,d.initialValues,N,u,C]),(0,a.useEffect)((function(){h&&!0===b.current&&!s()(m.current,d.initialErrors)&&(m.current=d.initialErrors||wr,x({type:"SET_ERRORS",payload:d.initialErrors||wr}))}),[h,d.initialErrors]),(0,a.useEffect)((function(){h&&!0===b.current&&!s()(g.current,d.initialTouched)&&(g.current=d.initialTouched||_r,x({type:"SET_TOUCHED",payload:d.initialTouched||_r}))}),[h,d.initialTouched]),(0,a.useEffect)((function(){h&&!0===b.current&&!s()(k.current,d.initialStatus)&&(k.current=d.initialStatus,x({type:"SET_STATUS",payload:d.initialStatus}))}),[h,d.initialStatus,d.initialTouched]);var D=Ar((function(e){if(w.current[e]&&sr(w.current[e].validate)){var t=pr(E.values,e),n=w.current[e].validate(t);return fr(n)?(x({type:"SET_ISVALIDATING",payload:!0}),n.then((function(e){return e})).then((function(t){x({type:"SET_FIELD_ERROR",payload:{field:e,value:t}}),x({type:"SET_ISVALIDATING",payload:!1})}))):(x({type:"SET_FIELD_ERROR",payload:{field:e,value:n}}),Promise.resolve(n))}return d.validationSchema?(x({type:"SET_ISVALIDATING",payload:!0}),I(E.values,e).then((function(e){return e})).then((function(t){x({type:"SET_FIELD_ERROR",payload:{field:e,value:t[e]}}),x({type:"SET_ISVALIDATING",payload:!1})}))):Promise.resolve()})),R=(0,a.useCallback)((function(e,t){var n=t.validate;w.current[e]={validate:n}}),[]),F=(0,a.useCallback)((function(e){delete w.current[e]}),[]),j=Ar((function(e,t){return x({type:"SET_TOUCHED",payload:e}),(void 0===t?i:t)?C(E.values):Promise.resolve()})),P=(0,a.useCallback)((function(e){x({type:"SET_ERRORS",payload:e})}),[]),L=Ar((function(e,t){var r=sr(e)?e(E.values):e;return x({type:"SET_VALUES",payload:r}),(void 0===t?n:t)?C(r):Promise.resolve()})),M=(0,a.useCallback)((function(e,t){x({type:"SET_FIELD_ERROR",payload:{field:e,value:t}})}),[]),U=Ar((function(e,t,r){return x({type:"SET_FIELD_VALUE",payload:{field:e,value:t}}),(void 0===r?n:r)?C(vr(E.values,e,t)):Promise.resolve()})),V=(0,a.useCallback)((function(e,t){var n,r=t,i=e;if(!lr(e)){e.persist&&e.persist();var a=e.target?e.target:e.currentTarget,o=a.type,s=a.name,u=a.id,c=a.value,l=a.checked,h=(a.outerHTML,a.options),f=a.multiple;r=t||(s||u),i=/number|range/.test(o)?(n=parseFloat(c),isNaN(n)?"":n):/checkbox/.test(o)?function(e,t,n){if("boolean"===typeof e)return Boolean(t);var r=[],i=!1,a=-1;if(Array.isArray(e))r=e,i=(a=e.indexOf(n))>=0;else if(!n||"true"==n||"false"==n)return Boolean(t);if(t&&n&&!i)return r.concat(n);if(!i)return r;return r.slice(0,a).concat(r.slice(a+1))}(pr(E.values,r),l,c):h&&f?function(e){return Array.from(e).filter((function(e){return e.selected})).map((function(e){return e.value}))}(h):c}r&&U(r,i)}),[U,E.values]),Z=Ar((function(e){if(lr(e))return function(t){return V(t,e)};V(e)})),B=Ar((function(e,t,n){return void 0===t&&(t=!0),x({type:"SET_FIELD_TOUCHED",payload:{field:e,value:t}}),(void 0===n?i:n)?C(E.values):Promise.resolve()})),z=(0,a.useCallback)((function(e,t){e.persist&&e.persist();var n=e.target,r=n.name,i=n.id,a=(n.outerHTML,t||(r||i));B(a,!0)}),[B]),q=Ar((function(e){if(lr(e))return function(t){return z(t,e)};z(e)})),H=(0,a.useCallback)((function(e){sr(e)?x({type:"SET_FORMIK_STATE",payload:e}):x({type:"SET_FORMIK_STATE",payload:function(){return e}})}),[]),G=(0,a.useCallback)((function(e){x({type:"SET_STATUS",payload:e})}),[]),K=(0,a.useCallback)((function(e){x({type:"SET_ISSUBMITTING",payload:e})}),[]),W=Ar((function(){return x({type:"SUBMIT_ATTEMPT"}),C().then((function(e){var t=e instanceof Error;if(!t&&0===Object.keys(e).length){var n;try{if(void 0===(n=Y()))return}catch(r){throw r}return Promise.resolve(n).then((function(e){return b.current&&x({type:"SUBMIT_SUCCESS"}),e})).catch((function(e){if(b.current)throw x({type:"SUBMIT_FAILURE"}),e}))}if(b.current&&(x({type:"SUBMIT_FAILURE"}),t))throw e}))})),$=Ar((function(e){e&&e.preventDefault&&sr(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&sr(e.stopPropagation)&&e.stopPropagation(),W().catch((function(e){console.warn("Warning: An unhandled error was caught from submitForm()",e)}))})),X={resetForm:N,validateForm:C,validateField:D,setErrors:P,setFieldError:M,setFieldTouched:B,setFieldValue:U,setStatus:G,setSubmitting:K,setTouched:j,setValues:L,setFormikState:H,submitForm:W},Y=Ar((function(){return f(E.values,X)})),J=Ar((function(e){e&&e.preventDefault&&sr(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&sr(e.stopPropagation)&&e.stopPropagation(),N()})),Q=(0,a.useCallback)((function(e){return{value:pr(E.values,e),error:pr(E.errors,e),touched:!!pr(E.touched,e),initialValue:pr(y.current,e),initialTouched:!!pr(g.current,e),initialError:pr(m.current,e)}}),[E.errors,E.touched,E.values]),ee=(0,a.useCallback)((function(e){return{setValue:function(t,n){return U(e,t,n)},setTouched:function(t,n){return B(e,t,n)},setError:function(t){return M(e,t)}}}),[U,B,M]),te=(0,a.useCallback)((function(e){var t=ur(e),n=t?e.name:e,r=pr(E.values,n),i={name:n,value:r,onChange:Z,onBlur:q};if(t){var a=e.type,o=e.value,s=e.as,u=e.multiple;"checkbox"===a?void 0===o?i.checked=!!r:(i.checked=!(!Array.isArray(r)||!~r.indexOf(o)),i.value=o):"radio"===a?(i.checked=r===o,i.value=o):"select"===s&&u&&(i.value=i.value||[],i.multiple=!0)}return i}),[q,Z,E.values]),ne=(0,a.useMemo)((function(){return!s()(y.current,E.values)}),[y.current,E.values]),re=(0,a.useMemo)((function(){return"undefined"!==typeof c?ne?E.errors&&0===Object.keys(E.errors).length:!1!==c&&sr(c)?c(d):c:E.errors&&0===Object.keys(E.errors).length}),[c,ne,E.errors,d]);return nr({},E,{initialValues:y.current,initialErrors:m.current,initialTouched:g.current,initialStatus:k.current,handleBlur:q,handleChange:Z,handleReset:J,handleSubmit:$,resetForm:N,setErrors:P,setFormikState:H,setFieldTouched:B,setFieldValue:U,setFieldError:M,setStatus:G,setSubmitting:K,setTouched:j,setValues:L,submitForm:W,validateForm:C,validateField:D,isValid:re,dirty:ne,unregisterField:F,registerField:R,getFieldProps:te,getFieldMeta:Q,getFieldHelpers:ee,validateOnBlur:i,validateOnChange:n,validateOnMount:u})}function xr(e){var t=Er(e),n=e.component,r=e.children,i=e.render,o=e.innerRef;return(0,a.useImperativeHandle)(o,(function(){return t})),(0,a.createElement)(mr,{value:t},n?(0,a.createElement)(n,t):i?i(t):r?sr(r)?r(t):hr(r)?null:a.Children.only(r):null)}function Tr(e){var t=Array.isArray(e)?[]:{};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=String(n);!0===Array.isArray(e[r])?t[r]=e[r].map((function(e){return!0===Array.isArray(e)||j(e)?Tr(e):""!==e?e:void 0})):j(e[r])?t[r]=Tr(e[r]):t[r]=""!==e[r]?e[r]:void 0}return t}function Ir(e,t,n){var r=e.slice();return t.forEach((function(t,i){if("undefined"===typeof r[i]){var a=!1!==n.clone&&n.isMergeableObject(t);r[i]=a?p(Array.isArray(t)?[]:{},t,n):t}else n.isMergeableObject(t)?r[i]=p(e[i],t,n):-1===e.indexOf(t)&&r.push(t)})),r}var Sr="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?a.useLayoutEffect:a.useEffect;function Ar(e){var t=(0,a.useRef)(e);return Sr((function(){t.current=e})),(0,a.useCallback)((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.current.apply(void 0,n)}),[])}function Or(e){var t=e.validate,n=e.name,r=e.render,i=e.children,o=e.as,s=e.component,u=ir(e,["validate","name","render","children","as","component"]),c=ir(kr(),["validate","validationSchema"]);var l=c.registerField,h=c.unregisterField;(0,a.useEffect)((function(){return l(n,{validate:t}),function(){h(n)}}),[l,h,n,t]);var f=c.getFieldProps(nr({name:n},u)),p=c.getFieldMeta(n),v={field:f,form:c};if(r)return r(nr({},v,{meta:p}));if(sr(i))return i(nr({},v,{meta:p}));if(s){if("string"===typeof s){var d=u.innerRef,y=ir(u,["innerRef"]);return(0,a.createElement)(s,nr({ref:d},f,y),i)}return(0,a.createElement)(s,nr({field:f,form:c},u),i)}var m=o||"input";if("string"===typeof m){var g=u.innerRef,k=ir(u,["innerRef"]);return(0,a.createElement)(m,nr({ref:g},f,k),i)}return(0,a.createElement)(m,nr({},f,u),i)}var Cr=(0,a.forwardRef)((function(e,t){var n=e.action,r=ir(e,["action"]),i=null!=n?n:"#",o=kr(),s=o.handleReset,u=o.handleSubmit;return(0,a.createElement)("form",Object.assign({onSubmit:u,ref:t,onReset:s,action:i},r))}));function Nr(e){var t=function(t){return(0,a.createElement)(gr,null,(function(n){return n||Jn(!1),(0,a.createElement)(e,Object.assign({},t,{formik:n}))}))},n=e.displayName||e.name||e.constructor&&e.constructor.name||"Component";return t.WrappedComponent=e,t.displayName="FormikConnect("+n+")",er()(t,e)}Cr.displayName="Form";var Dr=function(e,t,n){var r=Rr(e);return r.splice(t,0,n),r},Rr=function(e){if(e){if(Array.isArray(e))return[].concat(e);var t=Object.keys(e).map((function(e){return parseInt(e)})).reduce((function(e,t){return t>e?t:e}),0);return Array.from(nr({},e,{length:t+1}))}return[]},Fr=function(e){function t(t){var n;return(n=e.call(this,t)||this).updateArrayField=function(e,t,r){var i=n.props,a=i.name;(0,i.formik.setFormikState)((function(n){var i="function"===typeof r?r:e,o="function"===typeof t?t:e,s=vr(n.values,a,e(pr(n.values,a))),u=r?i(pr(n.errors,a)):void 0,c=t?o(pr(n.touched,a)):void 0;return or(u)&&(u=void 0),or(c)&&(c=void 0),nr({},n,{values:s,errors:r?vr(n.errors,a,u):n.errors,touched:t?vr(n.touched,a,c):n.touched})}))},n.push=function(e){return n.updateArrayField((function(t){return[].concat(Rr(t),[tr(e)])}),!1,!1)},n.handlePush=function(e){return function(){return n.push(e)}},n.swap=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=Rr(e),i=r[t];return r[t]=r[n],r[n]=i,r}(n,e,t)}),!0,!0)},n.handleSwap=function(e,t){return function(){return n.swap(e,t)}},n.move=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=Rr(e),i=r[t];return r.splice(t,1),r.splice(n,0,i),r}(n,e,t)}),!0,!0)},n.handleMove=function(e,t){return function(){return n.move(e,t)}},n.insert=function(e,t){return n.updateArrayField((function(n){return Dr(n,e,t)}),(function(t){return Dr(t,e,null)}),(function(t){return Dr(t,e,null)}))},n.handleInsert=function(e,t){return function(){return n.insert(e,t)}},n.replace=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=Rr(e);return r[t]=n,r}(n,e,t)}),!1,!1)},n.handleReplace=function(e,t){return function(){return n.replace(e,t)}},n.unshift=function(e){var t=-1;return n.updateArrayField((function(n){var r=n?[e].concat(n):[e];return t<0&&(t=r.length),r}),(function(e){var n=e?[null].concat(e):[null];return t<0&&(t=n.length),n}),(function(e){var n=e?[null].concat(e):[null];return t<0&&(t=n.length),n})),t},n.handleUnshift=function(e){return function(){return n.unshift(e)}},n.handleRemove=function(e){return function(){return n.remove(e)}},n.handlePop=function(){return function(){return n.pop()}},n.remove=n.remove.bind(ar(n)),n.pop=n.pop.bind(ar(n)),n}rr(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){this.props.validateOnChange&&this.props.formik.validateOnChange&&!s()(pr(e.formik.values,e.name),pr(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},n.remove=function(e){var t;return this.updateArrayField((function(n){var r=n?Rr(n):[];return t||(t=r[e]),sr(r.splice)&&r.splice(e,1),r}),!0,!0),t},n.pop=function(){var e;return this.updateArrayField((function(t){var n=t;return e||(e=n&&n.pop&&n.pop()),n}),!0,!0),e},n.render=function(){var e={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},t=this.props,n=t.component,r=t.render,i=t.children,o=t.name,s=nr({},e,{form:ir(t.formik,["validate","validationSchema"]),name:o});return n?(0,a.createElement)(n,s):r?r(s):i?"function"===typeof i?i(s):hr(i)?null:a.Children.only(i):null},t}(a.Component);Fr.defaultProps={validateOnChange:!0};var jr,Pr,Lr=function(e){function t(){return e.apply(this,arguments)||this}rr(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e){return pr(this.props.formik.errors,this.props.name)!==pr(e.formik.errors,this.props.name)||pr(this.props.formik.touched,this.props.name)!==pr(e.formik.touched,this.props.name)||Object.keys(this.props).length!==Object.keys(e).length},n.render=function(){var e=this.props,t=e.component,n=e.formik,r=e.render,i=e.children,o=e.name,s=ir(e,["component","formik","render","children","name"]),u=pr(n.touched,o),c=pr(n.errors,o);return u&&c?r?sr(r)?r(c):null:i?sr(i)?i(c):null:t?(0,a.createElement)(t,s,c):c:null},t}(a.Component),Mr=Nr(Lr),Ur=(a.Component,n(2982));function Vr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Br(e,t,n){return t&&Zr(e.prototype,t),n&&Zr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}try{jr=Map}catch(Rw){}try{Pr=Set}catch(Rw){}function zr(e,t,n){if(!e||"object"!==typeof e||"function"===typeof e)return e;if(e.nodeType&&"cloneNode"in e)return e.cloneNode(!0);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);if(Array.isArray(e))return e.map(qr);if(jr&&e instanceof jr)return new Map(Array.from(e.entries()));if(Pr&&e instanceof Pr)return new Set(Array.from(e.values()));if(e instanceof Object){t.push(e);var r=Object.create(e);for(var i in n.push(r),e){var a=t.findIndex((function(t){return t===e[i]}));r[i]=a>-1?n[a]:zr(e[i],t,n)}return r}return e}function qr(e){return zr(e,[],[])}var Hr=Object.prototype.toString,Gr=Error.prototype.toString,Kr=RegExp.prototype.toString,Wr="undefined"!==typeof Symbol?Symbol.prototype.toString:function(){return""},$r=/^Symbol\((.*)\)(.*)$/;function Xr(e){return e!=+e?"NaN":0===e&&1/e<0?"-0":""+e}function Yr(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==e||!0===e||!1===e)return""+e;var n=typeof e;if("number"===n)return Xr(e);if("string"===n)return t?'"'.concat(e,'"'):e;if("function"===n)return"[Function "+(e.name||"anonymous")+"]";if("symbol"===n)return Wr.call(e).replace($r,"Symbol($1)");var r=Hr.call(e).slice(8,-1);return"Date"===r?isNaN(e.getTime())?""+e:e.toISOString(e):"Error"===r||e instanceof Error?"["+Gr.call(e)+"]":"RegExp"===r?Kr.call(e):null}function Jr(e,t){var n=Yr(e,t);return null!==n?n:JSON.stringify(e,(function(e,n){var r=Yr(this[e],t);return null!==r?r:n}),2)}var Qr={default:"${path} is invalid",required:"${path} is a required field",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:function(e){var t=e.path,n=e.type,r=e.value,i=e.originalValue,a=null!=i&&i!==r,o="".concat(t," must be a `").concat(n,"` type, ")+"but the final value was: `".concat(Jr(r,!0),"`")+(a?" (cast from the value `".concat(Jr(i,!0),"`)."):".");return null===r&&(o+='\n If "null" is intended as an empty value be sure to mark the schema as `.nullable()`'),o},defined:"${path} must be defined"},ei={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},ti={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},ni={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},ri={isValue:"${path} field must be ${value}"},ii={noUnknown:"${path} field has unspecified keys: ${unknown}"},ai={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},oi=(Object.assign(Object.create(null),{mixed:Qr,string:ei,number:ti,date:ni,object:ii,array:ai,boolean:ri}),n(7805)),si=n.n(oi),ui=function(e){return e&&e.__isYupSchema__},ci=function(){function e(t,n){if(Vr(this,e),this.fn=void 0,this.refs=t,this.refs=t,"function"!==typeof n){if(!si()(n,"is"))throw new TypeError("`is:` is required for `when()` conditions");if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");var r=n.is,i=n.then,a=n.otherwise,o="function"===typeof r?r:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every((function(e){return e===r}))};this.fn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.pop(),s=t.pop(),u=o.apply(void 0,t)?i:a;if(u)return"function"===typeof u?u(s):s.concat(u.resolve(r))}}else this.fn=n}return Br(e,[{key:"resolve",value:function(e,t){var n=this.refs.map((function(e){return e.getValue(null==t?void 0:t.value,null==t?void 0:t.parent,null==t?void 0:t.context)})),r=this.fn.apply(e,n.concat(e,t));if(void 0===r||r===e)return e;if(!ui(r))throw new TypeError("conditions must return a schema object");return r.resolve(t)}}]),e}(),li=ci;function hi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fi(e,t){return fi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},fi(e,t)}function pi(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fi(e,t)}function vi(e){return vi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vi(e)}function di(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function yi(e){return yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yi(e)}function mi(e,t){if(t&&("object"===yi(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return hi(e)}function gi(e){var t=di();return function(){var n,r=vi(e);if(t){var i=vi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return mi(this,n)}}function ki(e,t,n){return ki=di()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&fi(i,n.prototype),i},ki.apply(null,arguments)}function bi(e){var t="function"===typeof Map?new Map:void 0;return bi=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return ki(e,arguments,vi(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),fi(n,e)},bi(e)}function wi(e){return null==e?[]:[].concat(e)}function _i(){return _i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_i.apply(this,arguments)}var Ei=/\$\{\s*(\w+)\s*\}/g,xi=function(e){pi(n,e);var t=gi(n);function n(e,r,i,a){var o;return Vr(this,n),(o=t.call(this)).value=void 0,o.path=void 0,o.type=void 0,o.errors=void 0,o.params=void 0,o.inner=void 0,o.name="ValidationError",o.value=r,o.path=i,o.type=a,o.errors=[],o.inner=[],wi(e).forEach((function(e){var t;n.isError(e)?((t=o.errors).push.apply(t,(0,Ur.Z)(e.errors)),o.inner=o.inner.concat(e.inner.length?e.inner:e)):o.errors.push(e)})),o.message=o.errors.length>1?"".concat(o.errors.length," errors occurred"):o.errors[0],Error.captureStackTrace&&Error.captureStackTrace(hi(o),n),o}return Br(n,null,[{key:"formatError",value:function(e,t){var n=t.label||t.path||"this";return n!==t.path&&(t=_i({},t,{path:n})),"string"===typeof e?e.replace(Ei,(function(e,n){return Jr(t[n])})):"function"===typeof e?e(t):e}},{key:"isError",value:function(e){return e&&"ValidationError"===e.name}}]),n}(bi(Error));function Ti(e,t){var n=e.endEarly,r=e.tests,i=e.args,a=e.value,o=e.errors,s=e.sort,u=e.path,c=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(t),l=r.length,h=[];if(o=o||[],!l)return o.length?c(new xi(o,a,u)):c(null,a);for(var f=0;f<r.length;f++){(0,r[f])(i,(function(e){if(e){if(!xi.isError(e))return c(e,a);if(n)return e.value=a,c(e,a);h.push(e)}if(--l<=0){if(h.length&&(s&&h.sort(s),o.length&&h.push.apply(h,(0,Ur.Z)(o)),o=h),o.length)return void c(new xi(o,a,u),a);c(null,a)}}))}}var Ii=n(7702),Si=n.n(Ii),Ai=n(2758),Oi="$",Ci=".";var Ni=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Vr(this,e),this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,"string"!==typeof t)throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),""===t)throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Oi,this.isValue=this.key[0]===Ci,this.isSibling=!this.isContext&&!this.isValue;var r=this.isContext?Oi:this.isValue?Ci:"";this.path=this.key.slice(r.length),this.getter=this.path&&(0,Ai.getter)(this.path,!0),this.map=n.map}return Br(e,[{key:"getValue",value:function(e,t,n){var r=this.isContext?n:this.isValue?e:t;return this.getter&&(r=this.getter(r||{})),this.map&&(r=this.map(r)),r}},{key:"cast",value:function(e,t){return this.getValue(e,null==t?void 0:t.parent,null==t?void 0:t.context)}},{key:"resolve",value:function(){return this}},{key:"describe",value:function(){return{type:"ref",key:this.key}}},{key:"toString",value:function(){return"Ref(".concat(this.key,")")}}],[{key:"isRef",value:function(e){return e&&e.__isYupRef}}]),e}();function Di(){return Di=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Di.apply(this,arguments)}function Ri(e){function t(t,n){var r=t.value,i=t.path,a=void 0===i?"":i,o=t.label,s=t.options,u=t.originalValue,c=t.sync,l=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["value","path","label","options","originalValue","sync"]),h=e.name,f=e.test,p=e.params,v=e.message,d=s.parent,y=s.context;function m(e){return Ni.isRef(e)?e.getValue(r,d,y):e}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Si()(Di({value:r,originalValue:u,label:o,path:e.path||a},p,e.params),m),n=new xi(xi.formatError(e.message||v,t),r,t.path,e.type||h);return n.params=t,n}var k=Di({path:a,parent:d,type:h,createError:g,resolve:m,options:s,originalValue:u},l);if(c){var b;try{var w;if("function"===typeof(null==(w=b=f.call(k,r,k))?void 0:w.then))throw new Error('Validation test of type: "'.concat(k.type,'" returned a Promise during a synchronous validate. ')+"This test will finish after the validate call has returned")}catch(_){return void n(_)}xi.isError(b)?n(b):b?n(null,b):n(g())}else try{Promise.resolve(f.call(k,r,k)).then((function(e){xi.isError(e)?n(e):e?n(null,e):n(g())})).catch(n)}catch(_){n(_)}}return t.OPTIONS=e,t}Ni.prototype.__isYupRef=!0;var Fi=function(e){return e.substr(0,e.length-1).substr(1)};function ji(e,t,n){var r,i,a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return t?((0,Ai.forEach)(t,(function(s,u,c){var l=u?Fi(s):s;if((e=e.resolve({context:o,parent:r,value:n})).innerType){var h=c?parseInt(l,10):0;if(n&&h>=n.length)throw new Error("Yup.reach cannot resolve an array item at index: ".concat(s,", in the path: ").concat(t,". ")+"because there is no value at that index. ");r=n,n=n&&n[h],e=e.innerType}if(!c){if(!e.fields||!e.fields[l])throw new Error("The schema does not contain the path: ".concat(t,". ")+"(failed at: ".concat(a,' which is a type: "').concat(e._type,'")'));r=n,n=n&&n[l],e=e.fields[l]}i=l,a=u?"["+s+"]":"."+s})),{schema:e,parent:r,parentPath:i}):{parent:r,parentPath:t,schema:e}}var Pi=n(885),Li=n(181);function Mi(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,Li.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}var Ui=function(){function e(){Vr(this,e),this.list=void 0,this.refs=void 0,this.list=new Set,this.refs=new Map}return Br(e,[{key:"size",get:function(){return this.list.size+this.refs.size}},{key:"describe",value:function(){var e,t=[],n=Mi(this.list);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(r)}}catch(s){n.e(s)}finally{n.f()}var i,a=Mi(this.refs);try{for(a.s();!(i=a.n()).done;){var o=(0,Pi.Z)(i.value,2)[1];t.push(o.describe())}}catch(s){a.e(s)}finally{a.f()}return t}},{key:"toArray",value:function(){return Array.from(this.list).concat(Array.from(this.refs.values()))}},{key:"resolveAll",value:function(e){return this.toArray().reduce((function(t,n){return t.concat(Ni.isRef(n)?e(n):n)}),[])}},{key:"add",value:function(e){Ni.isRef(e)?this.refs.set(e.key,e):this.list.add(e)}},{key:"delete",value:function(e){Ni.isRef(e)?this.refs.delete(e.key):this.list.delete(e)}},{key:"clone",value:function(){var t=new e;return t.list=new Set(this.list),t.refs=new Map(this.refs),t}},{key:"merge",value:function(e,t){var n=this.clone();return e.list.forEach((function(e){return n.add(e)})),e.refs.forEach((function(e){return n.add(e)})),t.list.forEach((function(e){return n.delete(e)})),t.refs.forEach((function(e){return n.delete(e)})),n}}]),e}();function Vi(){return Vi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vi.apply(this,arguments)}var Zi=function(){function e(t){var n=this;Vr(this,e),this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this._typeError=void 0,this._whitelist=new Ui,this._blacklist=new Ui,this.exclusiveTests=Object.create(null),this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation((function(){n.typeError(Qr.notType)})),this.type=(null==t?void 0:t.type)||"mixed",this.spec=Vi({strip:!1,strict:!1,abortEarly:!0,recursive:!0,nullable:!1,presence:"optional"},null==t?void 0:t.spec)}return Br(e,[{key:"_type",get:function(){return this.type}},{key:"_typeCheck",value:function(e){return!0}},{key:"clone",value:function(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;var t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeError=this._typeError,t._whitelistError=this._whitelistError,t._blacklistError=this._blacklistError,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.exclusiveTests=Vi({},this.exclusiveTests),t.deps=(0,Ur.Z)(this.deps),t.conditions=(0,Ur.Z)(this.conditions),t.tests=(0,Ur.Z)(this.tests),t.transforms=(0,Ur.Z)(this.transforms),t.spec=qr(Vi({},this.spec,e)),t}},{key:"label",value:function(e){var t=this.clone();return t.spec.label=e,t}},{key:"meta",value:function(){if(0===arguments.length)return this.spec.meta;var e=this.clone();return e.spec.meta=Object.assign(e.spec.meta||{},arguments.length<=0?void 0:arguments[0]),e}},{key:"withMutation",value:function(e){var t=this._mutate;this._mutate=!0;var n=e(this);return this._mutate=t,n}},{key:"concat",value:function(e){if(!e||e===this)return this;if(e.type!==this.type&&"mixed"!==this.type)throw new TypeError("You cannot `concat()` schema's of different types: ".concat(this.type," and ").concat(e.type));var t=this,n=e.clone(),r=Vi({},t.spec,n.spec);return n.spec=r,n._typeError||(n._typeError=t._typeError),n._whitelistError||(n._whitelistError=t._whitelistError),n._blacklistError||(n._blacklistError=t._blacklistError),n._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),n.tests=t.tests,n.exclusiveTests=t.exclusiveTests,n.withMutation((function(t){e.tests.forEach((function(e){t.test(e.OPTIONS)}))})),n.transforms=[].concat((0,Ur.Z)(t.transforms),(0,Ur.Z)(n.transforms)),n}},{key:"isType",value:function(e){return!(!this.spec.nullable||null!==e)||this._typeCheck(e)}},{key:"resolve",value:function(e){var t=this;if(t.conditions.length){var n=t.conditions;(t=t.clone()).conditions=[],t=(t=n.reduce((function(t,n){return n.resolve(t,e)}),t)).resolve(e)}return t}},{key:"cast",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.resolve(Vi({value:e},t)),r=n._cast(e,t);if(void 0!==e&&!1!==t.assert&&!0!==n.isType(r)){var i=Jr(e),a=Jr(r);throw new TypeError("The value of ".concat(t.path||"field"," could not be cast to a value ")+'that satisfies the schema type: "'.concat(n._type,'". \n\n')+"attempted value: ".concat(i," \n")+(a!==i?"result of cast: ".concat(a):""))}return r}},{key:"_cast",value:function(e,t){var n=this,r=void 0===e?e:this.transforms.reduce((function(t,r){return r.call(n,t,e,n)}),e);return void 0===r&&(r=this.getDefault()),r}},{key:"_validate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=n.sync,a=n.path,o=n.from,s=void 0===o?[]:o,u=n.originalValue,c=void 0===u?e:u,l=n.strict,h=void 0===l?this.spec.strict:l,f=n.abortEarly,p=void 0===f?this.spec.abortEarly:f,v=e;h||(v=this._cast(v,Vi({assert:!1},n)));var d={value:v,path:a,options:n,originalValue:c,schema:this,label:this.spec.label,sync:i,from:s},y=[];this._typeError&&y.push(this._typeError);var m=[];this._whitelistError&&m.push(this._whitelistError),this._blacklistError&&m.push(this._blacklistError),Ti({args:d,value:v,path:a,sync:i,tests:y,endEarly:p},(function(e){e?r(e,v):Ti({tests:t.tests.concat(m),args:d,path:a,sync:i,value:v,endEarly:p},r)}))}},{key:"validate",value:function(e,t,n){var r=this.resolve(Vi({},t,{value:e}));return"function"===typeof n?r._validate(e,t,n):new Promise((function(n,i){return r._validate(e,t,(function(e,t){e?i(e):n(t)}))}))}},{key:"validateSync",value:function(e,t){var n;return this.resolve(Vi({},t,{value:e}))._validate(e,Vi({},t,{sync:!0}),(function(e,t){if(e)throw e;n=t})),n}},{key:"isValid",value:function(e,t){return this.validate(e,t).then((function(){return!0}),(function(e){if(xi.isError(e))return!1;throw e}))}},{key:"isValidSync",value:function(e,t){try{return this.validateSync(e,t),!0}catch(n){if(xi.isError(n))return!1;throw n}}},{key:"_getDefault",value:function(){var e=this.spec.default;return null==e?e:"function"===typeof e?e.call(this):qr(e)}},{key:"getDefault",value:function(e){return this.resolve(e||{})._getDefault()}},{key:"default",value:function(e){if(0===arguments.length)return this._getDefault();var t=this.clone({default:e});return t}},{key:"strict",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.clone();return t.spec.strict=e,t}},{key:"_isPresent",value:function(e){return null!=e}},{key:"defined",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qr.defined;return this.test({message:e,name:"defined",exclusive:!0,test:function(e){return void 0!==e}})}},{key:"required",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qr.required;return this.clone({presence:"required"}).withMutation((function(t){return t.test({message:e,name:"required",exclusive:!0,test:function(e){return this.schema._isPresent(e)}})}))}},{key:"notRequired",value:function(){var e=this.clone({presence:"optional"});return e.tests=e.tests.filter((function(e){return"required"!==e.OPTIONS.name})),e}},{key:"nullable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.clone({nullable:!1!==e});return t}},{key:"transform",value:function(e){var t=this.clone();return t.transforms.push(e),t}},{key:"test",value:function(){var e;if(void 0===(e=1===arguments.length?"function"===typeof(arguments.length<=0?void 0:arguments[0])?{test:arguments.length<=0?void 0:arguments[0]}:arguments.length<=0?void 0:arguments[0]:2===arguments.length?{name:arguments.length<=0?void 0:arguments[0],test:arguments.length<=1?void 0:arguments[1]}:{name:arguments.length<=0?void 0:arguments[0],message:arguments.length<=1?void 0:arguments[1],test:arguments.length<=2?void 0:arguments[2]}).message&&(e.message=Qr.default),"function"!==typeof e.test)throw new TypeError("`test` is a required parameters");var t=this.clone(),n=Ri(e),r=e.exclusive||e.name&&!0===t.exclusiveTests[e.name];if(e.exclusive&&!e.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return e.name&&(t.exclusiveTests[e.name]=!!e.exclusive),t.tests=t.tests.filter((function(t){if(t.OPTIONS.name===e.name){if(r)return!1;if(t.OPTIONS.test===n.OPTIONS.test)return!1}return!0})),t.tests.push(n),t}},{key:"when",value:function(e,t){Array.isArray(e)||"string"===typeof e||(t=e,e=".");var n=this.clone(),r=wi(e).map((function(e){return new Ni(e)}));return r.forEach((function(e){e.isSibling&&n.deps.push(e.key)})),n.conditions.push(new li(r,t)),n}},{key:"typeError",value:function(e){var t=this.clone();return t._typeError=Ri({message:e,name:"typeError",test:function(e){return!(void 0!==e&&!this.schema.isType(e))||this.createError({params:{type:this.schema._type}})}}),t}},{key:"oneOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qr.oneOf,n=this.clone();return e.forEach((function(e){n._whitelist.add(e),n._blacklist.delete(e)})),n._whitelistError=Ri({message:t,name:"oneOf",test:function(e){if(void 0===e)return!0;var t=this.schema._whitelist,n=t.resolveAll(this.resolve);return!!n.includes(e)||this.createError({params:{values:t.toArray().join(", "),resolved:n}})}}),n}},{key:"notOneOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qr.notOneOf,n=this.clone();return e.forEach((function(e){n._blacklist.add(e),n._whitelist.delete(e)})),n._blacklistError=Ri({message:t,name:"notOneOf",test:function(e){var t=this.schema._blacklist,n=t.resolveAll(this.resolve);return!n.includes(e)||this.createError({params:{values:t.toArray().join(", "),resolved:n}})}}),n}},{key:"strip",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.clone();return t.spec.strip=e,t}},{key:"describe",value:function(){var e=this.clone(),t=e.spec,n=t.label,r={meta:t.meta,label:n,type:e.type,oneOf:e._whitelist.describe(),notOneOf:e._blacklist.describe(),tests:e.tests.map((function(e){return{name:e.OPTIONS.name,params:e.OPTIONS.params}})).filter((function(e,t,n){return n.findIndex((function(t){return t.name===e.name}))===t}))};return r}}]),e}();Zi.prototype.__isYupSchema__=!0;for(var Bi=function(){var e=qi[zi];Zi.prototype["".concat(e,"At")]=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=ji(this,t,n,r.context),a=i.parent,o=i.parentPath,s=i.schema;return s[e](a&&a[o],Vi({},r,{parent:a,path:t}))}},zi=0,qi=["validate","validateSync"];zi<qi.length;zi++)Bi();for(var Hi=0,Gi=["equals","is"];Hi<Gi.length;Hi++){var Ki=Gi[Hi];Zi.prototype[Ki]=Zi.prototype.oneOf}for(var Wi=0,$i=["not","nope"];Wi<$i.length;Wi++){var Xi=$i[Wi];Zi.prototype[Xi]=Zi.prototype.notOneOf}Zi.prototype.optional=Zi.prototype.notRequired;var Yi=Zi;Yi.prototype;var Ji=function(e){return null==e};var Qi=function(e){pi(n,e);var t=gi(n);function n(){var e;return Vr(this,n),(e=t.call(this,{type:"boolean"})).withMutation((function(){e.transform((function(e){if(!this.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e}))})),e}return Br(n,[{key:"_typeCheck",value:function(e){return e instanceof Boolean&&(e=e.valueOf()),"boolean"===typeof e}},{key:"isTrue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ri.isValue;return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test:function(e){return Ji(e)||!0===e}})}},{key:"isFalse",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ri.isValue;return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test:function(e){return Ji(e)||!1===e}})}}]),n}(Zi);function ea(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=vi(e)););return e}function ta(){return ta="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ea(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ta.apply(this,arguments)}Qi.prototype;var na=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,ra=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,ia=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,aa=function(e){return Ji(e)||e===e.trim()},oa={}.toString();function sa(){return new ua}var ua=function(e){pi(n,e);var t=gi(n);function n(){var e;return Vr(this,n),(e=t.call(this,{type:"string"})).withMutation((function(){e.transform((function(e){if(this.isType(e))return e;if(Array.isArray(e))return e;var t=null!=e&&e.toString?e.toString():e;return t===oa?e:t}))})),e}return Br(n,[{key:"_typeCheck",value:function(e){return e instanceof String&&(e=e.valueOf()),"string"===typeof e}},{key:"_isPresent",value:function(e){return ta(vi(n.prototype),"_isPresent",this).call(this,e)&&!!e.length}},{key:"length",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ei.length;return this.test({message:t,name:"length",exclusive:!0,params:{length:e},test:function(t){return Ji(t)||t.length===this.resolve(e)}})}},{key:"min",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ei.min;return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(t){return Ji(t)||t.length>=this.resolve(e)}})}},{key:"max",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ei.max;return this.test({name:"max",exclusive:!0,message:t,params:{max:e},test:function(t){return Ji(t)||t.length<=this.resolve(e)}})}},{key:"matches",value:function(e,t){var n,r,i=!1;if(t)if("object"===typeof t){var a=t.excludeEmptyString;i=void 0!==a&&a,n=t.message,r=t.name}else n=t;return this.test({name:r||"matches",message:n||ei.matches,params:{regex:e},test:function(t){return Ji(t)||""===t&&i||-1!==t.search(e)}})}},{key:"email",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ei.email;return this.matches(na,{name:"email",message:e,excludeEmptyString:!0})}},{key:"url",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ei.url;return this.matches(ra,{name:"url",message:e,excludeEmptyString:!0})}},{key:"uuid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ei.uuid;return this.matches(ia,{name:"uuid",message:e,excludeEmptyString:!1})}},{key:"ensure",value:function(){return this.default("").transform((function(e){return null===e?"":e}))}},{key:"trim",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ei.trim;return this.transform((function(e){return null!=e?e.trim():e})).test({message:e,name:"trim",test:aa})}},{key:"lowercase",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ei.lowercase;return this.transform((function(e){return Ji(e)?e:e.toLowerCase()})).test({message:e,name:"string_case",exclusive:!0,test:function(e){return Ji(e)||e===e.toLowerCase()}})}},{key:"uppercase",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ei.uppercase;return this.transform((function(e){return Ji(e)?e:e.toUpperCase()})).test({message:e,name:"string_case",exclusive:!0,test:function(e){return Ji(e)||e===e.toUpperCase()}})}}]),n}(Zi);sa.prototype=ua.prototype;var ca=function(e){pi(n,e);var t=gi(n);function n(){var e;return Vr(this,n),(e=t.call(this,{type:"number"})).withMutation((function(){e.transform((function(e){var t=e;if("string"===typeof t){if(""===(t=t.replace(/\s/g,"")))return NaN;t=+t}return this.isType(t)?t:parseFloat(t)}))})),e}return Br(n,[{key:"_typeCheck",value:function(e){return e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&!function(e){return e!=+e}(e)}},{key:"min",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ti.min;return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(t){return Ji(t)||t>=this.resolve(e)}})}},{key:"max",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ti.max;return this.test({message:t,name:"max",exclusive:!0,params:{max:e},test:function(t){return Ji(t)||t<=this.resolve(e)}})}},{key:"lessThan",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ti.lessThan;return this.test({message:t,name:"max",exclusive:!0,params:{less:e},test:function(t){return Ji(t)||t<this.resolve(e)}})}},{key:"moreThan",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ti.moreThan;return this.test({message:t,name:"min",exclusive:!0,params:{more:e},test:function(t){return Ji(t)||t>this.resolve(e)}})}},{key:"positive",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ti.positive;return this.moreThan(0,e)}},{key:"negative",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ti.negative;return this.lessThan(0,e)}},{key:"integer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ti.integer;return this.test({name:"integer",message:e,test:function(e){return Ji(e)||Number.isInteger(e)}})}},{key:"truncate",value:function(){return this.transform((function(e){return Ji(e)?e:0|e}))}},{key:"round",value:function(e){var t,n=["ceil","floor","round","trunc"];if("trunc"===(e=(null==(t=e)?void 0:t.toLowerCase())||"round"))return this.truncate();if(-1===n.indexOf(e.toLowerCase()))throw new TypeError("Only valid options for round() are: "+n.join(", "));return this.transform((function(t){return Ji(t)?t:Math[e](t)}))}}]),n}(Zi);ca.prototype;var la=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;var ha=new Date("");function fa(){return new pa}var pa=function(e){pi(n,e);var t=gi(n);function n(){var e;return Vr(this,n),(e=t.call(this,{type:"date"})).withMutation((function(){e.transform((function(e){return this.isType(e)?e:(e=function(e){var t,n,r=[1,4,5,6,7,10,11],i=0;if(n=la.exec(e)){for(var a,o=0;a=r[o];++o)n[a]=+n[a]||0;n[2]=(+n[2]||1)-1,n[3]=+n[3]||1,n[7]=n[7]?String(n[7]).substr(0,3):0,void 0!==n[8]&&""!==n[8]||void 0!==n[9]&&""!==n[9]?("Z"!==n[8]&&void 0!==n[9]&&(i=60*n[10]+n[11],"+"===n[9]&&(i=0-i)),t=Date.UTC(n[1],n[2],n[3],n[4],n[5]+i,n[6],n[7])):t=+new Date(n[1],n[2],n[3],n[4],n[5],n[6],n[7])}else t=Date.parse?Date.parse(e):NaN;return t}(e),isNaN(e)?ha:new Date(e))}))})),e}return Br(n,[{key:"_typeCheck",value:function(e){return t=e,"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(e.getTime());var t}},{key:"prepareParam",value:function(e,t){var n;if(Ni.isRef(e))n=e;else{var r=this.cast(e);if(!this._typeCheck(r))throw new TypeError("`".concat(t,"` must be a Date or a value that can be `cast()` to a Date"));n=r}return n}},{key:"min",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ni.min,n=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(e){return Ji(e)||e>=this.resolve(n)}})}},{key:"max",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ni.max,n=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},test:function(e){return Ji(e)||e<=this.resolve(n)}})}}]),n}(Zi);pa.INVALID_DATE=ha,fa.prototype=pa.prototype,fa.INVALID_DATE=ha;var va=n(7499),da=n.n(va),ya=n(567),ma=n.n(ya),ga=n(9029),ka=n.n(ga),ba=n(6514),wa=n.n(ba);function _a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=new Set,i=new Set(t.map((function(e){var t=(0,Pi.Z)(e,2),n=t[0],r=t[1];return"".concat(n,"-").concat(r)})));function a(e,t){var a=(0,Ai.split)(e)[0];r.add(a),i.has("".concat(t,"-").concat(a))||n.push([t,a])}var o=function(t){if(si()(e,t)){var n=e[t];r.add(t),Ni.isRef(n)&&n.isSibling?a(n.path,t):ui(n)&&"deps"in n&&n.deps.forEach((function(e){return a(e,t)}))}};for(var s in e)o(s);return wa().array(Array.from(r),n).reverse()}function Ea(e,t){var n=1/0;return e.some((function(e,r){var i;if(-1!==(null==(i=t.path)?void 0:i.indexOf(e)))return n=r,!0})),n}function xa(e){return function(t,n){return Ea(e,t)-Ea(e,n)}}function Ta(){return Ta=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ta.apply(this,arguments)}var Ia=function(e){return"[object Object]"===Object.prototype.toString.call(e)};function Sa(e,t){var n=Object.keys(e.fields);return Object.keys(t).filter((function(e){return-1===n.indexOf(e)}))}var Aa=xa([]),Oa=function(e){pi(n,e);var t=gi(n);function n(e){var r;return Vr(this,n),(r=t.call(this,{type:"object"})).fields=Object.create(null),r._sortErrors=Aa,r._nodes=[],r._excludedEdges=[],r.withMutation((function(){r.transform((function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){e=null}return this.isType(e)?e:null})),e&&r.shape(e)})),r}return Br(n,[{key:"_typeCheck",value:function(e){return Ia(e)||"function"===typeof e}},{key:"_cast",value:function(e){var t,r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=ta(vi(n.prototype),"_cast",this).call(this,e,i);if(void 0===a)return this.getDefault();if(!this._typeCheck(a))return a;var o,s=this.fields,u=null!=(t=i.stripUnknown)?t:this.spec.noUnknown,c=this._nodes.concat(Object.keys(a).filter((function(e){return-1===r._nodes.indexOf(e)}))),l={},h=Ta({},i,{parent:l,__validating:i.__validating||!1}),f=!1,p=Mi(c);try{for(p.s();!(o=p.n()).done;){var v=o.value,d=s[v],y=si()(a,v);if(d){var m=void 0,g=a[v];h.path=(i.path?"".concat(i.path,"."):"")+v;var k="spec"in(d=d.resolve({value:g,context:i.context,parent:l}))?d.spec:void 0,b=null==k?void 0:k.strict;if(null==k?void 0:k.strip){f=f||v in a;continue}void 0!==(m=i.__validating&&b?a[v]:d.cast(a[v],h))&&(l[v]=m)}else y&&!u&&(l[v]=a[v]);l[v]!==a[v]&&(f=!0)}}catch(w){p.e(w)}finally{p.f()}return f?l:a}},{key:"_validate",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,a=[],o=r.sync,s=r.from,u=void 0===s?[]:s,c=r.originalValue,l=void 0===c?e:c,h=r.abortEarly,f=void 0===h?this.spec.abortEarly:h,p=r.recursive,v=void 0===p?this.spec.recursive:p;u=[{schema:this,value:l}].concat((0,Ur.Z)(u)),r.__validating=!0,r.originalValue=l,r.from=u,ta(vi(n.prototype),"_validate",this).call(this,e,r,(function(e,n){if(e){if(!xi.isError(e)||f)return void i(e,n);a.push(e)}if(v&&Ia(n)){l=l||n;var s=t._nodes.map((function(e){return function(i,a){var o=-1===e.indexOf(".")?(r.path?"".concat(r.path,"."):"")+e:"".concat(r.path||"",'["').concat(e,'"]'),s=t.fields[e];s&&"validate"in s?s.validate(n[e],Ta({},r,{path:o,from:u,strict:!0,parent:n,originalValue:l[e]}),a):a(null)}}));Ti({sync:o,tests:s,value:n,errors:a,endEarly:f,sort:t._sortErrors,path:r.path},i)}else i(a[0]||null,n)}))}},{key:"clone",value:function(e){var t=ta(vi(n.prototype),"clone",this).call(this,e);return t.fields=Ta({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}},{key:"concat",value:function(e){for(var t=this,r=ta(vi(n.prototype),"concat",this).call(this,e),i=r.fields,a=0,o=Object.entries(this.fields);a<o.length;a++){var s=(0,Pi.Z)(o[a],2),u=s[0],c=s[1],l=i[u];void 0===l?i[u]=c:l instanceof Zi&&c instanceof Zi&&(i[u]=c.concat(l))}return r.withMutation((function(){return r.shape(i,t._excludedEdges)}))}},{key:"getDefaultFromShape",value:function(){var e=this,t={};return this._nodes.forEach((function(n){var r=e.fields[n];t[n]="default"in r?r.getDefault():void 0})),t}},{key:"_getDefault",value:function(){return"default"in this.spec?ta(vi(n.prototype),"_getDefault",this).call(this):this._nodes.length?this.getDefaultFromShape():void 0}},{key:"shape",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.clone(),r=Object.assign(n.fields,e);return n.fields=r,n._sortErrors=xa(Object.keys(r)),t.length&&(Array.isArray(t[0])||(t=[t]),n._excludedEdges=[].concat((0,Ur.Z)(n._excludedEdges),(0,Ur.Z)(t))),n._nodes=_a(r,n._excludedEdges),n}},{key:"pick",value:function(e){var t,n={},r=Mi(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;this.fields[i]&&(n[i]=this.fields[i])}}catch(a){r.e(a)}finally{r.f()}return this.clone().withMutation((function(e){return e.fields={},e.shape(n)}))}},{key:"omit",value:function(e){var t=this.clone(),n=t.fields;t.fields={};var r,i=Mi(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete n[a]}}catch(o){i.e(o)}finally{i.f()}return t.withMutation((function(){return t.shape(n)}))}},{key:"from",value:function(e,t,n){var r=(0,Ai.getter)(e,!0);return this.transform((function(i){if(null==i)return i;var a=i;return si()(i,e)&&(a=Ta({},i),n||delete a[e],a[t]=r(i)),a}))}},{key:"noUnknown",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ii.noUnknown;"string"===typeof e&&(t=e,e=!0);var n=this.test({name:"noUnknown",exclusive:!0,message:t,test:function(t){if(null==t)return!0;var n=Sa(this.schema,t);return!e||0===n.length||this.createError({params:{unknown:n.join(", ")}})}});return n.spec.noUnknown=e,n}},{key:"unknown",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ii.noUnknown;return this.noUnknown(!e,t)}},{key:"transformKeys",value:function(e){return this.transform((function(t){return t&&ka()(t,(function(t,n){return e(n)}))}))}},{key:"camelCase",value:function(){return this.transformKeys(ma())}},{key:"snakeCase",value:function(){return this.transformKeys(da())}},{key:"constantCase",value:function(){return this.transformKeys((function(e){return da()(e).toUpperCase()}))}},{key:"describe",value:function(){var e=ta(vi(n.prototype),"describe",this).call(this);return e.fields=Si()(this.fields,(function(e){return e.describe()})),e}}]),n}(Zi);function Ca(e){return new Oa(e)}function Na(){return Na=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Na.apply(this,arguments)}Ca.prototype=Oa.prototype;var Da=function(e){pi(n,e);var t=gi(n);function n(e){var r;return Vr(this,n),(r=t.call(this,{type:"array"})).innerType=void 0,r.innerType=e,r.withMutation((function(){r.transform((function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){e=null}return this.isType(e)?e:null}))})),r}return Br(n,[{key:"_typeCheck",value:function(e){return Array.isArray(e)}},{key:"_subType",get:function(){return this.innerType}},{key:"_cast",value:function(e,t){var r=this,i=ta(vi(n.prototype),"_cast",this).call(this,e,t);if(!this._typeCheck(i)||!this.innerType)return i;var a=!1,o=i.map((function(e,n){var i=r.innerType.cast(e,Na({},t,{path:"".concat(t.path||"","[").concat(n,"]")}));return i!==e&&(a=!0),i}));return a?o:i}},{key:"_validate",value:function(e){var t,r,i=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0,s=[],u=a.sync,c=a.path,l=this.innerType,h=null!=(t=a.abortEarly)?t:this.spec.abortEarly,f=null!=(r=a.recursive)?r:this.spec.recursive,p=null!=a.originalValue?a.originalValue:e;ta(vi(n.prototype),"_validate",this).call(this,e,a,(function(e,t){if(e){if(!xi.isError(e)||h)return void o(e,t);s.push(e)}if(f&&l&&i._typeCheck(t)){p=p||t;for(var n=new Array(t.length),r=function(e){var r=t[e],i="".concat(a.path||"","[").concat(e,"]"),o=Na({},a,{path:i,strict:!0,parent:t,index:e,originalValue:p[e]});n[e]=function(e,t){return l.validate(r,o,t)}},v=0;v<t.length;v++)r(v);Ti({sync:u,path:c,value:t,errors:s,endEarly:h,tests:n},o)}else o(s[0]||null,t)}))}},{key:"clone",value:function(e){var t=ta(vi(n.prototype),"clone",this).call(this,e);return t.innerType=this.innerType,t}},{key:"concat",value:function(e){var t=ta(vi(n.prototype),"concat",this).call(this,e);return t.innerType=this.innerType,e.innerType&&(t.innerType=t.innerType?t.innerType.concat(e.innerType):e.innerType),t}},{key:"of",value:function(e){var t=this.clone();if(!ui(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+Jr(e));return t.innerType=e,t}},{key:"length",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ai.length;return this.test({message:t,name:"length",exclusive:!0,params:{length:e},test:function(t){return Ji(t)||t.length===this.resolve(e)}})}},{key:"min",value:function(e,t){return t=t||ai.min,this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(t){return Ji(t)||t.length>=this.resolve(e)}})}},{key:"max",value:function(e,t){return t=t||ai.max,this.test({message:t,name:"max",exclusive:!0,params:{max:e},test:function(t){return Ji(t)||t.length<=this.resolve(e)}})}},{key:"ensure",value:function(){var e=this;return this.default((function(){return[]})).transform((function(t,n){return e._typeCheck(t)?t:null==n?[]:[].concat(n)}))}},{key:"compact",value:function(e){var t=e?function(t,n,r){return!e(t,n,r)}:function(e){return!!e};return this.transform((function(e){return null!=e?e.filter(t):e}))}},{key:"describe",value:function(){var e=ta(vi(n.prototype),"describe",this).call(this);return this.innerType&&(e.innerType=this.innerType.describe()),e}},{key:"nullable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return ta(vi(n.prototype),"nullable",this).call(this,e)}},{key:"defined",value:function(){return ta(vi(n.prototype),"defined",this).call(this)}},{key:"required",value:function(e){return ta(vi(n.prototype),"required",this).call(this,e)}}]),n}(Zi);Da.prototype;var Ra=n(5302),Fa=n(1413),ja=n(5861),Pa=n(7757),La=n.n(Pa),Ma=n(4942),Ua=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Va={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,h=(3&a)<<4|s>>4,f=(15&s)<<2|c>>6,p=63&c;u||(p=64,o||(f=64)),r.push(n[l],n[h],n[f],n[p])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ua(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Za=function(e){return function(e){var t=Ua(e);return Va.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ba=function(e){try{return Va.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};var za=function(){function e(){var t=this;Vr(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Br(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function qa(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ha(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qa())}function Ga(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ka(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Wa(){var e=qa();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}var $a=function(e){pi(n,e);var t=gi(n);function n(e,r,i){var a;return Vr(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(hi(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(hi(a),Xa.prototype.create),a}return Br(n)}(bi(Error)),Xa=function(){function e(t,n,r){Vr(this,e),this.service=t,this.serviceName=n,this.errors=r}return Br(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Ya(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new $a(n,a,t);return o}}]),e}();function Ya(e,t){return e.replace(Ja,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Ja=/\{\$([^}]+)}/g;function Qa(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(eo(s)&&eo(u)){if(!Qa(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var h=l[c];if(!n.includes(h))return!1}return!0}function eo(e){return null!==e&&"object"===typeof e}function to(e){for(var t=[],n=function(){var e=(0,Pi.Z)(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function no(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=(0,Pi.Z)(n,2),i=r[0],a=r[1];t[decodeURIComponent(i)]=decodeURIComponent(a)}})),t}function ro(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var io=function(){function e(t,n){var r=this;Vr(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Br(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Mi(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=ao),void 0===r.error&&(r.error=ao),void 0===r.complete&&(r.complete=ao);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function ao(){}function oo(e){return e&&e._delegate?e._delegate:e}var so=function(){function e(t,n,r){Vr(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Br(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),uo="[DEFAULT]",co=function(){function e(t,n){Vr(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Br(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new za;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:uo})}catch(u){}var t,n=Mi(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,Pi.Z)(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uo;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=(0,ja.Z)(Pa.mark((function e(){var t;return Pa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,Ur.Z)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),(0,Ur.Z)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uo;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uo;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Mi(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=(0,Pi.Z)(i.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);r===l&&c.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Mi(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(_b){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===uo?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(_b){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uo;return this.component?this.component.multipleInstances?e:uo:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var lo,ho,fo=function(){function e(t){Vr(this,e),this.name=t,this.providers=new Map}return Br(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new co(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),po=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ho||(ho={}));var vo={debug:ho.DEBUG,verbose:ho.VERBOSE,info:ho.INFO,warn:ho.WARN,error:ho.ERROR,silent:ho.SILENT},yo=ho.INFO,mo=(lo={},(0,Ma.Z)(lo,ho.DEBUG,"log"),(0,Ma.Z)(lo,ho.VERBOSE,"log"),(0,Ma.Z)(lo,ho.INFO,"info"),(0,Ma.Z)(lo,ho.WARN,"warn"),(0,Ma.Z)(lo,ho.ERROR,"error"),lo),go=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=mo[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},ko=function(){function e(t){Vr(this,e),this.name=t,this._logLevel=yo,this._logHandler=go,this._userLogHandler=null,po.push(this)}return Br(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in ho))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?vo[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ho.DEBUG].concat(t)),this._logHandler.apply(this,[this,ho.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ho.VERBOSE].concat(t)),this._logHandler.apply(this,[this,ho.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ho.INFO].concat(t)),this._logHandler.apply(this,[this,ho.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ho.WARN].concat(t)),this._logHandler.apply(this,[this,ho.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ho.ERROR].concat(t)),this._logHandler.apply(this,[this,ho.ERROR].concat(t))}}]),e}();var bo,wo;var _o=new WeakMap,Eo=new WeakMap,xo=new WeakMap,To=new WeakMap,Io=new WeakMap;var So={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Eo.get(e);if("objectStoreNames"===t)return e.objectStoreNames||xo.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Co(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Ao(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(wo||(wo=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(No(this),n),Co(_o.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Co(e.apply(No(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[No(this),t].concat(r));return xo.set(a,t.sort?t.sort():[t]),Co(a)}}function Oo(e){return"function"===typeof e?Ao(e):(e instanceof IDBTransaction&&function(e){if(!Eo.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Eo.set(e,t)}}(e),function(e,t){return t.some((function(t){return e instanceof t}))}(e,bo||(bo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,So):e)}function Co(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Co(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&_o.set(t,e)})).catch((function(){})),Io.set(t,e),t}(e);if(To.has(e))return To.get(e);var t=Oo(e);return t!==e&&(To.set(e,t),Io.set(t,e)),t}var No=function(e){return Io.get(e)};var Do,Ro,Fo=["get","getKey","getAll","getAllKeys","count"],jo=["put","add","delete","clear"],Po=new Map;function Lo(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Po.get(t))return Po.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=jo.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Fo.includes(n))){var a=function(){var e=(0,ja.Z)(Pa.mark((function e(t){var a,o,s,u,c,l,h=arguments;return Pa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=h.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=h[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Po.set(t,a),a}}}So=function(e){return(0,Fa.Z)((0,Fa.Z)({},e),{},{get:function(t,n,r){return Lo(t,n)||e.get(t,n,r)},has:function(t,n){return!!Lo(t,n)||e.has(t,n)}})}(So);var Mo=function(){function e(t){Vr(this,e),this.container=t}return Br(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Uo="@firebase/app",Vo="0.7.24",Zo=new ko("@firebase/app"),Bo="[DEFAULT]",zo=(Do={},(0,Ma.Z)(Do,Uo,"fire-core"),(0,Ma.Z)(Do,"@firebase/app-compat","fire-core-compat"),(0,Ma.Z)(Do,"@firebase/analytics","fire-analytics"),(0,Ma.Z)(Do,"@firebase/analytics-compat","fire-analytics-compat"),(0,Ma.Z)(Do,"@firebase/app-check","fire-app-check"),(0,Ma.Z)(Do,"@firebase/app-check-compat","fire-app-check-compat"),(0,Ma.Z)(Do,"@firebase/auth","fire-auth"),(0,Ma.Z)(Do,"@firebase/auth-compat","fire-auth-compat"),(0,Ma.Z)(Do,"@firebase/database","fire-rtdb"),(0,Ma.Z)(Do,"@firebase/database-compat","fire-rtdb-compat"),(0,Ma.Z)(Do,"@firebase/functions","fire-fn"),(0,Ma.Z)(Do,"@firebase/functions-compat","fire-fn-compat"),(0,Ma.Z)(Do,"@firebase/installations","fire-iid"),(0,Ma.Z)(Do,"@firebase/installations-compat","fire-iid-compat"),(0,Ma.Z)(Do,"@firebase/messaging","fire-fcm"),(0,Ma.Z)(Do,"@firebase/messaging-compat","fire-fcm-compat"),(0,Ma.Z)(Do,"@firebase/performance","fire-perf"),(0,Ma.Z)(Do,"@firebase/performance-compat","fire-perf-compat"),(0,Ma.Z)(Do,"@firebase/remote-config","fire-rc"),(0,Ma.Z)(Do,"@firebase/remote-config-compat","fire-rc-compat"),(0,Ma.Z)(Do,"@firebase/storage","fire-gcs"),(0,Ma.Z)(Do,"@firebase/storage-compat","fire-gcs-compat"),(0,Ma.Z)(Do,"@firebase/firestore","fire-fst"),(0,Ma.Z)(Do,"@firebase/firestore-compat","fire-fst-compat"),(0,Ma.Z)(Do,"fire-js","fire-js"),(0,Ma.Z)(Do,"firebase","fire-js-all"),Do),qo=new Map,Ho=new Map;function Go(e,t){try{e.container.addComponent(t)}catch(n){Zo.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Ko(e){var t=e.name;if(Ho.has(t))return Zo.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ho.set(t,e);var n,r=Mi(qo.values());try{for(r.s();!(n=r.n()).done;){Go(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Wo(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var $o=(Ro={},(0,Ma.Z)(Ro,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,Ma.Z)(Ro,"bad-app-name","Illegal App name: '{$appName}"),(0,Ma.Z)(Ro,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,Ma.Z)(Ro,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,Ma.Z)(Ro,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,Ma.Z)(Ro,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,Ma.Z)(Ro,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),(0,Ma.Z)(Ro,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),(0,Ma.Z)(Ro,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),(0,Ma.Z)(Ro,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),Ro),Xo=new Xa("app","Firebase",$o),Yo=function(){function e(t,n,r){var i=this;Vr(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new so("app",(function(){return i}),"PUBLIC"))}return Br(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Xo.create("app-deleted",{appName:this._name})}}]),e}(),Jo="9.8.1";function Qo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bo,t=qo.get(e);if(!t)throw Xo.create("no-app",{appName:e});return t}function es(e,t,n){var r,i=null!==(r=zo[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Zo.warn(s.join(" "))}Ko(new so("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var ts="firebase-heartbeat-store",ns=null;function rs(){return ns||(ns=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Co(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Co(s.result),e.oldVersion,e.newVersion,Co(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(ts)}}).catch((function(e){throw Xo.create("storage-open",{originalErrorMessage:e.message})}))),ns}function is(e){return as.apply(this,arguments)}function as(){return as=(0,ja.Z)(Pa.mark((function e(t){var n;return Pa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,rs();case 3:return n=e.sent,e.abrupt("return",n.transaction(ts).objectStore(ts).get(us(t)));case 7:throw e.prev=7,e.t0=e.catch(0),Xo.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),as.apply(this,arguments)}function os(e,t){return ss.apply(this,arguments)}function ss(){return ss=(0,ja.Z)(Pa.mark((function e(t,n){var r,i,a;return Pa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,rs();case 3:return r=e.sent,i=r.transaction(ts,"readwrite"),a=i.objectStore(ts),e.next=8,a.put(n,us(t));case 8:return e.abrupt("return",i.done);case 11:throw e.prev=11,e.t0=e.catch(0),Xo.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),ss.apply(this,arguments)}function us(e){return"".concat(e.name,"!").concat(e.options.appId)}var cs=function(){function e(t){var n=this;Vr(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new ps(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Br(e,[{key:"triggerHeartbeat",value:function(){var e=(0,ja.Z)(Pa.mark((function e(){var t,n,r;return Pa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=ls(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=(0,ja.Z)(Pa.mark((function e(){var t,n,r,i,a;return Pa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=ls(),n=hs(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Za(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ls(){return(new Date).toISOString().substring(0,10)}function hs(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Mi(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),vs(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),vs(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var fs,ps=function(){function e(t){Vr(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Br(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=(0,ja.Z)(Pa.mark((function e(){return Pa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("object"===typeof indexedDB){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=(0,ja.Z)(Pa.mark((function e(){var t;return Pa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,is(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=(0,ja.Z)(Pa.mark((function e(t){var n,r;return Pa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",os(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=(0,ja.Z)(Pa.mark((function e(t){var n,r;return Pa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",os(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat((0,Ur.Z)(r.heartbeats),(0,Ur.Z)(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function vs(e){return Za(JSON.stringify({version:2,heartbeats:e})).length}fs="",Ko(new so("platform-logger",(function(e){return new Mo(e)}),"PRIVATE")),Ko(new so("heartbeat",(function(e){return new cs(e)}),"PRIVATE")),es(Uo,Vo,fs),es(Uo,Vo,"esm2017"),es("fire-js","");function ds(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var ys;Object.create;function ms(){return(0,Ma.Z)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var gs=ms,ks=new Xa("auth","Firebase",ms()),bs=new ko("@firebase/auth");function ws(e){if(bs.logLevel<=ho.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];bs.error.apply(bs,["Auth (".concat(Jo,"): ").concat(e)].concat(n))}}function _s(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ts.apply(void 0,[e].concat(n))}function Es(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ts.apply(void 0,[e].concat(n))}function xs(e,t,n){var r=Object.assign(Object.assign({},gs()),(0,Ma.Z)({},t,n));return new Xa("auth","Firebase",r).create(t,{appName:e.name})}function Ts(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=(0,Ur.Z)(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat((0,Ur.Z)(o)))}return ks.create.apply(ks,[e].concat(n))}function Is(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Ts.apply(void 0,[t].concat(r))}}function Ss(e){var t="INTERNAL ASSERTION FAILED: "+e;throw ws(t),new Error(t)}function As(e,t){e||Ss(t)}var Os=new Map;function Cs(e){As(e instanceof Function,"Expected a class definition");var t=Os.get(e);return t?(As(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Os.set(e,t),t)}function Ns(e,t){var n=Wo(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(Qa(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;_s(r,"already-initialized")}return n.initialize({options:t})}function Ds(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Rs(){return"http:"===Fs()||"https:"===Fs()}function Fs(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var js=function(){function e(t,n){Vr(this,e),this.shortDelay=t,this.longDelay=n,As(n>t,"Short delay should be less than long delay!"),this.isMobile=Ha()||Ka()}return Br(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Rs()||Ga()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Ps(e,t){As(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Ls=function(){function e(){Vr(this,e)}return Br(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Ms=(ys={},(0,Ma.Z)(ys,"CREDENTIAL_MISMATCH","custom-token-mismatch"),(0,Ma.Z)(ys,"MISSING_CUSTOM_TOKEN","internal-error"),(0,Ma.Z)(ys,"INVALID_IDENTIFIER","invalid-email"),(0,Ma.Z)(ys,"MISSING_CONTINUE_URI","internal-error"),(0,Ma.Z)(ys,"INVALID_PASSWORD","wrong-password"),(0,Ma.Z)(ys,"MISSING_PASSWORD","internal-error"),(0,Ma.Z)(ys,"EMAIL_EXISTS","email-already-in-use"),(0,Ma.Z)(ys,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),(0,Ma.Z)(ys,"INVALID_IDP_RESPONSE","invalid-credential"),(0,Ma.Z)(ys,"INVALID_PENDING_TOKEN","invalid-credential"),(0,Ma.Z)(ys,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),(0,Ma.Z)(ys,"MISSING_REQ_TYPE","internal-error"),(0,Ma.Z)(ys,"EMAIL_NOT_FOUND","user-not-found"),(0,Ma.Z)(ys,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),(0,Ma.Z)(ys,"EXPIRED_OOB_CODE","expired-action-code"),(0,Ma.Z)(ys,"INVALID_OOB_CODE","invalid-action-code"),(0,Ma.Z)(ys,"MISSING_OOB_CODE","internal-error"),(0,Ma.Z)(ys,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),(0,Ma.Z)(ys,"INVALID_ID_TOKEN","invalid-user-token"),(0,Ma.Z)(ys,"TOKEN_EXPIRED","user-token-expired"),(0,Ma.Z)(ys,"USER_NOT_FOUND","user-token-expired"),(0,Ma.Z)(ys,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),(0,Ma.Z)(ys,"INVALID_CODE","invalid-verification-code"),(0,Ma.Z)(ys,"INVALID_SESSION_INFO","invalid-verification-id"),(0,Ma.Z)(ys,"INVALID_TEMPORARY_PROOF","invalid-credential"),(0,Ma.Z)(ys,"MISSING_SESSION_INFO","missing-verification-id"),(0,Ma.Z)(ys,"SESSION_EXPIRED","code-expired"),(0,Ma.Z)(ys,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),(0,Ma.Z)(ys,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),(0,Ma.Z)(ys,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),(0,Ma.Z)(ys,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),(0,Ma.Z)(ys,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),(0,Ma.Z)(ys,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),(0,Ma.Z)(ys,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),(0,Ma.Z)(ys,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),(0,Ma.Z)(ys,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),(0,Ma.Z)(ys,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),(0,Ma.Z)(ys,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),ys),Us=new js(3e4,6e4);function Vs(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Zs(e,t,n,r){return Bs.apply(this,arguments)}function Bs(){return Bs=(0,ja.Z)(La().mark((function e(t,n,r,i){var a,o=arguments;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",zs(t,a,(0,ja.Z)(La().mark((function e(){var a,o,s,u;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=to(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Ls.fetch()(Ks(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Bs.apply(this,arguments)}function zs(e,t,n){return qs.apply(this,arguments)}function qs(){return(qs=(0,ja.Z)(La().mark((function e(t,n,r){var i,a,o,s,u,c,l,h,f,p;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Ms),n),e.prev=2,a=new Ws(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw $s(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),l=(0,Pi.Z)(c,2),h=l[0],f=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw $s(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw $s(t,"email-already-in-use",s);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!f){e.next=30;break}throw xs(t,p,f);case 30:_s(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof $a)){e.next=37;break}throw e.t0;case 37:_s(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])})))).apply(this,arguments)}function Hs(e,t,n,r){return Gs.apply(this,arguments)}function Gs(){return Gs=(0,ja.Z)(La().mark((function e(t,n,r,i){var a,o,s=arguments;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Zs(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&_s(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Gs.apply(this,arguments)}function Ks(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Ps(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Ws=function(){function e(t){var n=this;Vr(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Es(n.auth,"network-request-failed"))}),Us.get())}))}return Br(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function $s(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Es(e,t,r);return i.customData._tokenResponse=n,i}function Xs(e,t){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,ja.Z)(La().mark((function e(t,n){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zs(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Js(e,t){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,ja.Z)(La().mark((function e(t,n){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zs(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eu(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function tu(){return tu=(0,ja.Z)(La().mark((function e(t){var n,r,i,a,o,s,u=arguments;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=oo(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Is((a=ru(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:eu(nu(a.auth_time)),issuedAtTime:eu(nu(a.iat)),expirationTime:eu(nu(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),tu.apply(this,arguments)}function nu(e){return 1e3*Number(e)}function ru(e){var t=e.split("."),n=(0,Pi.Z)(t,3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return ws("JWT malformed, contained fewer than 3 sections"),null;try{var o=Ba(i);return o?JSON.parse(o):(ws("Failed to decode base64 JWT payload"),null)}catch(s){return ws("Caught error parsing JWT payload as JSON",s),null}}function iu(e,t){return au.apply(this,arguments)}function au(){return au=(0,ja.Z)(La().mark((function e(t,n){var r=arguments;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof $a&&ou(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),au.apply(this,arguments)}function ou(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var su=function(){function e(t){Vr(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Br(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout((0,ja.Z)(La().mark((function t(){return La().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=(0,ja.Z)(La().mark((function e(){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),uu=function(){function e(t,n){Vr(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Br(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function cu(e){return lu.apply(this,arguments)}function lu(){return lu=(0,ja.Z)(La().mark((function e(t){var n,r,i,a,o,s,u,c,l,h,f;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,iu(t,Js(r,{idToken:i}));case 6:Is(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?pu(o.providerUserInfo):[],u=fu(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),h=!!c&&l,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new uu(o.createdAt,o.lastLoginAt),isAnonymous:h},Object.assign(t,f);case 17:case"end":return e.stop()}}),e)}))),lu.apply(this,arguments)}function hu(){return(hu=(0,ja.Z)(La().mark((function e(t){var n;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=oo(t),e.next=3,cu(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fu(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat((0,Ur.Z)(n),(0,Ur.Z)(t))}function pu(e){return e.map((function(e){var t=e.providerId,n=ds(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function vu(e,t){return du.apply(this,arguments)}function du(){return(du=(0,ja.Z)(La().mark((function e(t,n){var r;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zs(t,{},(0,ja.Z)(La().mark((function e(){var r,i,a,o,s,u;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=to({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=Ks(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Ls.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var yu=function(){function e(){Vr(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Br(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Is(e.idToken,"internal-error"),Is("undefined"!==typeof e.idToken,"internal-error"),Is("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=ru(e);return Is(t,"internal-error"),Is("undefined"!==typeof t.exp,"internal-error"),Is("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=(0,ja.Z)(La().mark((function e(t){var n,r=arguments;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Is(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=(0,ja.Z)(La().mark((function e(t,n){var r,i,a,o;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vu(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Ss("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Is("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Is("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Is("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function mu(e,t){Is("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var gu=function(){function e(t){Vr(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=ds(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new su(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?(0,Ur.Z)(a.providerData):[],this.metadata=new uu(a.createdAt||void 0,a.lastLoginAt||void 0)}return Br(e,[{key:"getIdToken",value:function(){var e=(0,ja.Z)(La().mark((function e(t){var n;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iu(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Is(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return tu.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return hu.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Is(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Is(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=(0,ja.Z)(La().mark((function e(t){var n,r,i=arguments;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,cu(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=(0,ja.Z)(La().mark((function e(){var t;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,iu(this,Xs(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,h=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,p=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,v=null!==(o=n.photoURL)&&void 0!==o?o:void 0,d=null!==(s=n.tenantId)&&void 0!==s?s:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,_=n.providerData,E=n.stsTokenManager;Is(k&&E,t,"internal-error");var x=yu.fromJSON(this.name,E);Is("string"===typeof k,t,"internal-error"),mu(h,t.name),mu(f,t.name),Is("boolean"===typeof b,t,"internal-error"),Is("boolean"===typeof w,t,"internal-error"),mu(p,t.name),mu(v,t.name),mu(d,t.name),mu(y,t.name),mu(m,t.name),mu(g,t.name);var T=new e({uid:k,auth:t,email:f,emailVerified:b,displayName:h,isAnonymous:w,photoURL:v,phoneNumber:p,tenantId:d,stsTokenManager:x,createdAt:m,lastLoginAt:g});return _&&Array.isArray(_)&&(T.providerData=_.map((function(e){return Object.assign({},e)}))),y&&(T._redirectEventId=y),T}},{key:"_fromIdTokenResponse",value:function(){var t=(0,ja.Z)(La().mark((function t(n,r){var i,a,o,s=arguments;return La().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new yu).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,cu(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),ku=function(){function e(){Vr(this,e),this.type="NONE",this.storage={}}return Br(e,[{key:"_isAvailable",value:function(){var e=(0,ja.Z)(La().mark((function e(){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=(0,ja.Z)(La().mark((function e(t,n){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=(0,ja.Z)(La().mark((function e(t){var n;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=(0,ja.Z)(La().mark((function e(t){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();ku.type="NONE";var bu=ku;function wu(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var _u=function(){function e(t,n,r){Vr(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=wu(this.userKey,a.apiKey,o),this.fullPersistenceKey=wu("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Br(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=(0,ja.Z)(La().mark((function e(){var t;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?gu._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=(0,ja.Z)(La().mark((function e(t){var n;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=(0,ja.Z)(La().mark((function t(n,r){var i,a,o,s,u,c,l,h,f,p,v,d=arguments;return La().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=d.length>2&&void 0!==d[2]?d[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Cs(bu),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=(0,ja.Z)(La().mark((function e(t){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Cs(bu),s=wu(i,n.config.apiKey,n.name),u=null,c=Mi(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return h=l.value,t.prev=14,t.next=17,h._get(s);case 17:if(!(f=t.sent)){t.next=23;break}return p=gu._fromJSON(n,f),h!==o&&(u=p),o=h,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(v=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&v.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=v[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=(0,ja.Z)(La().mark((function e(t){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Eu(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Su(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(xu(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ou(t))return"Blackberry";if(Cu(t))return"Webos";if(Tu(t))return"Safari";if((t.includes("chrome/")||Iu(t))&&!t.includes("edge/"))return"Chrome";if(Au(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function xu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qa();return/firefox\//i.test(e)}function Tu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qa(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Iu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qa();return/crios\//i.test(e)}function Su(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qa();return/iemobile/i.test(e)}function Au(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qa();return/android/i.test(e)}function Ou(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qa();return/blackberry/i.test(e)}function Cu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qa();return/webos/i.test(e)}function Nu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qa();return/iphone|ipad|ipod/i.test(e)}function Du(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qa();return Nu(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Ru(){return Wa()&&10===document.documentMode}function Fu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qa();return Nu(e)||Au(e)||Cu(e)||Ou(e)||/windows phone/i.test(e)||Su(e)}function ju(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Eu(qa());break;case"Worker":t="".concat(Eu(qa()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Jo,"/").concat(r)}var Pu=function(){function e(t){Vr(this,e),this.auth=t,this.queue=[]}return Br(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=(0,ja.Z)(La().mark((function e(t){var n,r,i,a,o,s,u;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=Mi(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=Mi(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(Rw){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Lu=function(){function e(t,n,r){Vr(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Uu(this),this.idTokenSubscription=new Uu(this),this.beforeStateQueue=new Pu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ks,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Br(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Cs(t)),this._initializationPromise=this.queue((0,ja.Z)(La().mark((function r(){var i,a;return La().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,_u.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=(0,ja.Z)(La().mark((function e(){var t;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=(0,ja.Z)(La().mark((function e(t){var n,r,i,a,o,s,u;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Is(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=(0,ja.Z)(La().mark((function e(t){var n;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=(0,ja.Z)(La().mark((function e(t){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,cu(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=(0,ja.Z)(La().mark((function e(){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=(0,ja.Z)(La().mark((function e(t){var n;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?oo(t):null)&&Is(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=(0,ja.Z)(La().mark((function e(t){var n,r=this,i=arguments;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Is(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue((0,ja.Z)(La().mark((function e(){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=(0,ja.Z)(La().mark((function e(){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue((0,ja.Z)(La().mark((function n(){return La().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Cs(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Xa("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=(0,ja.Z)(La().mark((function e(t,n){var r;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=(0,ja.Z)(La().mark((function e(t){var n;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Is(n=t&&Cs(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,_u.create(this,[Cs(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=(0,ja.Z)(La().mark((function e(t){var n,r;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue((0,ja.Z)(La().mark((function e(){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=(0,ja.Z)(La().mark((function e(t){var n=this;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue((0,ja.Z)(La().mark((function e(){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Is(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=(0,ja.Z)(La().mark((function e(t){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Is(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ju(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=(0,ja.Z)(La().mark((function e(){var t,n,r;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,Ma.Z)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Mu(e){return oo(e)}var Uu=function(){function e(t){var n=this;Vr(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new io(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return Br(e,[{key:"next",get:function(){return Is(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();var Vu=function(){function e(t,n){Vr(this,e),this.providerId=t,this.signInMethod=n}return Br(e,[{key:"toJSON",value:function(){return Ss("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Ss("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Ss("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Ss("not implemented")}}]),e}();function Zu(e,t){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,ja.Z)(La().mark((function e(t,n){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zs(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zu(e,t){return qu.apply(this,arguments)}function qu(){return(qu=(0,ja.Z)(La().mark((function e(t,n){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hs(t,"POST","/v1/accounts:signInWithPassword",Vs(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hu(e,t){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,ja.Z)(La().mark((function e(t,n){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hs(t,"POST","/v1/accounts:signInWithEmailLink",Vs(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ku(e,t){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,ja.Z)(La().mark((function e(t,n){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hs(t,"POST","/v1/accounts:signInWithEmailLink",Vs(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $u=function(e){pi(n,e);var t=gi(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Vr(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Br(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=(0,ja.Z)(La().mark((function e(t){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",zu(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Hu(t,{email:this._email,oobCode:this._password}));case 5:_s(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=(0,ja.Z)(La().mark((function e(t,n){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Zu(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Ku(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:_s(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Vu);function Xu(e,t){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,ja.Z)(La().mark((function e(t,n){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hs(t,"POST","/v1/accounts:signInWithIdp",Vs(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ju=function(e){pi(n,e);var t=gi(n);function n(){var e;return Vr(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Br(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Xu(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Xu(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Xu(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=to(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):_s("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=ds(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Vu);function Qu(e,t){return ec.apply(this,arguments)}function ec(){return(ec=(0,ja.Z)(La().mark((function e(t,n){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zs(t,"POST","/v1/accounts:sendVerificationCode",Vs(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tc(){return(tc=(0,ja.Z)(La().mark((function e(t,n){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hs(t,"POST","/v1/accounts:signInWithPhoneNumber",Vs(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nc(){return(nc=(0,ja.Z)(La().mark((function e(t,n){var r;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hs(t,"POST","/v1/accounts:signInWithPhoneNumber",Vs(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw $s(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var rc=(0,Ma.Z)({},"USER_NOT_FOUND","user-not-found");function ic(){return(ic=(0,ja.Z)(La().mark((function e(t,n){var r;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Hs(t,"POST","/v1/accounts:signInWithPhoneNumber",Vs(t,r),rc));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ac=function(e){pi(n,e);var t=gi(n);function n(e){var r;return Vr(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Br(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return tc.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return nc.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return ic.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Vu);var oc=function(){function e(t){var n,r,i,a,o,s;Vr(this,e);var u=no(ro(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Is(c&&l&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return Br(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=no(ro(e)).link,n=t?no(ro(t)).deep_link_id:null,r=no(ro(e)).deep_link_id;return(r?no(ro(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(_b){return null}}}]),e}();var sc=function(){function e(){Vr(this,e),this.providerId=e.PROVIDER_ID}return Br(e,null,[{key:"credential",value:function(e,t){return $u._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=oc.parseLink(t);return Is(n,"argument-error"),$u._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();sc.PROVIDER_ID="password",sc.EMAIL_PASSWORD_SIGN_IN_METHOD="password",sc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var uc=function(){function e(t){Vr(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Br(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),cc=function(e){pi(n,e);var t=gi(n);function n(){var e;return Vr(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Br(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return(0,Ur.Z)(this.scopes)}}]),n}(uc),lc=function(e){pi(n,e);var t=gi(n);function n(){return Vr(this,n),t.call(this,"facebook.com")}return Br(n,null,[{key:"credential",value:function(e){return Ju._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(_b){return null}}}]),n}(cc);lc.FACEBOOK_SIGN_IN_METHOD="facebook.com",lc.PROVIDER_ID="facebook.com";var hc=function(e){pi(n,e);var t=gi(n);function n(){var e;return Vr(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Br(n,null,[{key:"credential",value:function(e,t){return Ju._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(_b){return null}}}]),n}(cc);hc.GOOGLE_SIGN_IN_METHOD="google.com",hc.PROVIDER_ID="google.com";var fc=function(e){pi(n,e);var t=gi(n);function n(){return Vr(this,n),t.call(this,"github.com")}return Br(n,null,[{key:"credential",value:function(e){return Ju._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(_b){return null}}}]),n}(cc);fc.GITHUB_SIGN_IN_METHOD="github.com",fc.PROVIDER_ID="github.com";var pc=function(e){pi(n,e);var t=gi(n);function n(){return Vr(this,n),t.call(this,"twitter.com")}return Br(n,null,[{key:"credential",value:function(e,t){return Ju._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(_b){return null}}}]),n}(cc);pc.TWITTER_SIGN_IN_METHOD="twitter.com",pc.PROVIDER_ID="twitter.com";var vc=function(){function e(t){Vr(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Br(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=(0,ja.Z)(La().mark((function t(n,r,i){var a,o,s,u,c=arguments;return La().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,gu._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=dc(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=(0,ja.Z)(La().mark((function t(n,r,i){var a;return La().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=dc(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function dc(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var yc=function(e){pi(n,e);var t=gi(n);function n(e,r,i,a){var o,s;return Vr(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(hi(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Br(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}($a);function mc(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw yc._fromErrorAndOperation(e,n,t,r);throw n}))}function gc(e,t){return kc.apply(this,arguments)}function kc(){return kc=(0,ja.Z)(La().mark((function e(t,n){var r,i,a=arguments;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=iu,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",vc._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),kc.apply(this,arguments)}function bc(e,t){return wc.apply(this,arguments)}function wc(){return wc=(0,ja.Z)(La().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,iu(t,mc(i,a,n,t),r);case 6:return Is((o=e.sent).idToken,i,"internal-error"),Is(s=ru(o.idToken),i,"internal-error"),u=s.sub,Is(t.uid===u,i,"user-mismatch"),e.abrupt("return",vc._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&_s(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),wc.apply(this,arguments)}function _c(e,t){return Ec.apply(this,arguments)}function Ec(){return Ec=(0,ja.Z)(La().mark((function e(t,n){var r,i,a,o,s=arguments;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,mc(t,i,n);case 4:return a=e.sent,e.next=7,vc._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Ec.apply(this,arguments)}function xc(e,t){return Zs(e,"POST","/v2/accounts/mfaEnrollment:start",Vs(e,t))}new WeakMap;var Tc="__sak",Ic=function(){function e(t,n){Vr(this,e),this.storageRetriever=t,this.type=n}return Br(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Tc,"1"),this.storage.removeItem(Tc),Promise.resolve(!0)):Promise.resolve(!1)}catch(_b){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Sc=function(e){pi(n,e);var t=gi(n);function n(){var e;return Vr(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=qa();return Tu(e)||Nu(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Fu(),e._shouldAllowMigration=!0,e}return Br(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Ru()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=(0,ja.Z)(La().mark((function e(t,r){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ta(vi(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=(0,ja.Z)(La().mark((function e(t){var r;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ta(vi(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=(0,ja.Z)(La().mark((function e(t){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ta(vi(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Ic);Sc.type="LOCAL";var Ac=Sc,Oc=function(e){pi(n,e);var t=gi(n);function n(){return Vr(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Br(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Ic);Oc.type="SESSION";var Cc=Oc;function Nc(e){return Promise.all(e.map(function(){var e=(0,ja.Z)(La().mark((function e(t){var n;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Dc=function(){function e(t){Vr(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Br(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=(0,ja.Z)(La().mark((function e(t){var n,r,i,a,o,s,u,c;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=(0,ja.Z)(La().mark((function e(t){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Nc(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Rc(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Dc.receivers=[];var Fc=function(){function e(t){Vr(this,e),this.target=t,this.handlers=new Set}return Br(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=(0,ja.Z)(La().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=Rc("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function jc(){return window}function Pc(){return"undefined"!==typeof jc().WorkerGlobalScope&&"function"===typeof jc().importScripts}function Lc(){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,ja.Z)(La().mark((function e(){var t;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Uc(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Vc="firebaseLocalStorageDb",Zc="firebaseLocalStorage",Bc="fbase_key",zc=function(){function e(t){Vr(this,e),this.request=t}return Br(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function qc(e,t){return e.transaction([Zc],t?"readwrite":"readonly").objectStore(Zc)}function Hc(){var e=indexedDB.deleteDatabase(Vc);return new zc(e).toPromise()}function Gc(){var e=indexedDB.open(Vc,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Zc,{keyPath:Bc})}catch(r){n(r)}})),e.addEventListener("success",(0,ja.Z)(La().mark((function n(){var r;return La().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Zc)){n.next=12;break}return r.close(),n.next=5,Hc();case 5:return n.t0=t,n.next=8,Gc();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Kc(e,t,n){return Wc.apply(this,arguments)}function Wc(){return Wc=(0,ja.Z)(La().mark((function e(t,n,r){var i,a;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=qc(t,!0).put((i={},(0,Ma.Z)(i,Bc,n),(0,Ma.Z)(i,"value",r),i)),e.abrupt("return",new zc(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Wc.apply(this,arguments)}function $c(e,t){return Xc.apply(this,arguments)}function Xc(){return Xc=(0,ja.Z)(La().mark((function e(t,n){var r,i;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qc(t,!1).get(n),e.next=3,new zc(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Xc.apply(this,arguments)}function Yc(e,t){var n=qc(e,!0).delete(t);return new zc(n).toPromise()}var Jc=function(){function e(){Vr(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Br(e,[{key:"_openDb",value:function(){var e=(0,ja.Z)(La().mark((function e(){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Gc();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=(0,ja.Z)(La().mark((function e(t){var n,r;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=(0,ja.Z)(La().mark((function e(){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pc()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=(0,ja.Z)(La().mark((function e(){var t=this;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Dc._getInstance(Pc()?self:null),this.receiver._subscribe("keyChanged",function(){var e=(0,ja.Z)(La().mark((function e(n,r){var i;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=(0,ja.Z)(La().mark((function e(t,n){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=(0,ja.Z)(La().mark((function e(){var t,n,r;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lc();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Fc(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=(0,ja.Z)(La().mark((function e(t){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Uc()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=(0,ja.Z)(La().mark((function e(){var t;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Gc();case 5:return t=e.sent,e.next=8,Kc(t,Tc,"1");case 8:return e.next=10,Yc(t,Tc);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=(0,ja.Z)(La().mark((function e(t){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=(0,ja.Z)(La().mark((function e(t,n){var r=this;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite((0,ja.Z)(La().mark((function e(){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Kc(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=(0,ja.Z)(La().mark((function e(t){var n;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return $c(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=(0,ja.Z)(La().mark((function e(t){var n=this;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite((0,ja.Z)(La().mark((function e(){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Yc(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=(0,ja.Z)(La().mark((function e(){var t,n,r,i,a,o,s,u,c,l,h;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=qc(e,!1).getAll();return new zc(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Mi(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(f){i.e(f)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)h=l[c],this.localCache[h]&&!r.has(h)&&(this.notifyListeners(h,null),n.push(h));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((0,ja.Z)(La().mark((function t(){return La().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Jc.type="LOCAL";var Qc=Jc;function el(e,t){return Zs(e,"POST","/v2/accounts/mfaSignIn:start",Vs(e,t))}function tl(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Es("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function nl(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}nl("rcb"),new js(3e4,6e4);var rl="recaptcha";function il(e,t,n){return al.apply(this,arguments)}function al(){return al=(0,ja.Z)(La().mark((function e(t,n,r){var i,a,o,s,u,c,l,h,f;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Is("string"===typeof a,t,"argument-error"),Is(r.type===rl,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Is("enroll"===s.type,t,"internal-error"),e.next=13,xc(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Is("signin"===s.type,t,"internal-error"),Is(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,el(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Qu(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return h=e.sent,f=h.sessionInfo,e.abrupt("return",f);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),al.apply(this,arguments)}var ol=function(){function e(t){Vr(this,e),this.providerId=e.PROVIDER_ID,this.auth=Mu(t)}return Br(e,[{key:"verifyPhoneNumber",value:function(e,t){return il(this.auth,e,oo(t))}}],[{key:"credential",value:function(e,t){return ac._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?ac._fromTokenResponse(n,r):null}}]),e}();function sl(e,t){return t?Cs(t):(Is(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ol.PROVIDER_ID="phone",ol.PHONE_SIGN_IN_METHOD="phone";var ul=function(e){pi(n,e);var t=gi(n);function n(e){var r;return Vr(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Br(n,[{key:"_getIdTokenResponse",value:function(e){return Xu(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Xu(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Xu(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Vu);function cl(e){return _c(e.auth,new ul(e),e.bypassAuthState)}function ll(e){var t=e.auth,n=e.user;return Is(n,t,"internal-error"),bc(n,new ul(e),e.bypassAuthState)}function hl(e){return fl.apply(this,arguments)}function fl(){return(fl=(0,ja.Z)(La().mark((function e(t){var n,r;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Is(r=t.user,n,"internal-error"),e.abrupt("return",gc(r,new ul(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pl=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Vr(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Br(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=(0,ja.Z)(La().mark((function t(n,r){return La().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=(0,ja.Z)(La().mark((function e(t){var n,r,i,a,o,s,u;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cl;case"linkViaPopup":case"linkViaRedirect":return hl;case"reauthViaPopup":case"reauthViaRedirect":return ll;default:_s(this.auth,"internal-error")}}},{key:"resolve",value:function(e){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),vl=new js(2e3,1e4);var dl=function(e){pi(n,e);var t=gi(n);function n(e,r,i,a,o){var s;return Vr(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=hi(s),s}return Br(n,[{key:"executeNotNull",value:function(){var e=(0,ja.Z)(La().mark((function e(){var t;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Is(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=(0,ja.Z)(La().mark((function e(){var t,n=this;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return As(1===this.filter.length,"Popup operations only handle one event"),t=Rc(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Es(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Es(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Es(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,vl.get())}()}}]),n}(pl);dl.currentPopupAction=null;var yl=new Map,ml=function(e){pi(n,e);var t=gi(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Vr(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Br(n,[{key:"execute",value:function(){var e=(0,ja.Z)(La().mark((function e(){var t,r;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=yl.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,gl(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,ta(vi(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:yl.set(this.auth._key(),t);case 21:return this.bypassAuthState||yl.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=(0,ja.Z)(La().mark((function e(t){var r;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",ta(vi(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",ta(vi(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=(0,ja.Z)(La().mark((function e(){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(pl);function gl(e,t){return kl.apply(this,arguments)}function kl(){return(kl=(0,ja.Z)(La().mark((function e(t,n){var r,i,a;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_l(n),i=wl(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bl(e,t){yl.set(e._key(),t)}function wl(e){return Cs(e._redirectPersistence)}function _l(e){return wu("pendingRedirect",e.config.apiKey,e.name)}function El(e,t){return xl.apply(this,arguments)}function xl(){return xl=(0,ja.Z)(La().mark((function e(t,n){var r,i,a,o,s,u=arguments;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=Mu(t),a=sl(i,n),o=new ml(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),xl.apply(this,arguments)}var Tl=function(){function e(t){Vr(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Br(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Sl(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Sl(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Es(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Il(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Il(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Il(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Sl(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Al(e){return Ol.apply(this,arguments)}function Ol(){return Ol=(0,ja.Z)(La().mark((function e(t){var n,r=arguments;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Zs(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Ol.apply(this,arguments)}var Cl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Nl=/^https?/;function Dl(){return(Dl=(0,ja.Z)(La().mark((function e(t){var n,r,i,a,o;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Al(t);case 4:n=e.sent,r=n.authorizedDomains,i=Mi(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Rl(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:_s(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function Rl(e){var t=Ds(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Nl.test(r))return!1;if(Cl.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Fl=new js(3e4,6e4);function jl(){var e=jc().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=(0,Ur.Z)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Pl=null;function Ll(e){return Pl=Pl||function(e){return new Promise((function(t,n){var r,i,a;function o(){jl(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){jl(),n(Es(e,"network-request-failed"))},timeout:Fl.get()})}if(null===(i=null===(r=jc().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=jc().gapi)||void 0===a?void 0:a.load)){var s=nl("iframefcb");return jc()[s]=function(){gapi.load?o():n(Es(e,"network-request-failed"))},tl("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Pl=null,e}))}(e),Pl}var Ml=new js(5e3,15e3),Ul={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Vl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Zl(e){var t=e.config;Is(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Ps(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Jo},i=Vl.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(to(r).slice(1))}function Bl(e){return zl.apply(this,arguments)}function zl(){return zl=(0,ja.Z)(La().mark((function e(t){var n,r;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ll(t);case 2:return n=e.sent,Is(r=jc().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Zl(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ul,dontclear:!0},(function(e){return new Promise(function(){var n=(0,ja.Z)(La().mark((function n(r,i){var a,o,s;return La().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){jc().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Es(t,"network-request-failed"),o=jc().setTimeout((function(){i(a)}),Ml.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),zl.apply(this,arguments)}var ql={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Hl="_blank",Gl="http://localhost",Kl=function(){function e(t){Vr(this,e),this.window=t,this.associatedEvent=null}return Br(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Wl(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},ql),{width:r.toString(),height:i.toString(),top:a,left:o}),c=qa().toLowerCase();n&&(s=Iu(c)?Hl:n),xu(c)&&(t=t||Gl,u.scrollbars="yes");var l=Object.entries(u).reduce((function(e,t){var n=(0,Pi.Z)(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Du(c)&&"_self"!==s)return $l(t||"",s),new Kl(null);var h=window.open(t||"",s,l);Is(h,e,"popup-blocked");try{h.focus()}catch(f){}return new Kl(h)}function $l(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Xl="__/auth/handler",Yl="emulator/auth/handler";function Jl(e,t,n,r,i,a){Is(e.config.authDomain,e,"auth-domain-config-required"),Is(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Jo,eventId:i};if(t instanceof uc){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var c=(0,Pi.Z)(u[s],2),l=c[0],h=c[1];o[l]=h}}if(t instanceof cc){var f=t.getScopes().filter((function(e){return""!==e}));f.length>0&&(o.scopes=f.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,d=Object.keys(p);v<d.length;v++){var y=d[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Xl);return Ps(t,Yl)}(e),"?").concat(to(p).slice(1))}var Ql="webStorageSupport",eh=function(){function e(){Vr(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cc,this._completeRedirectFn=El,this._overrideRedirectResult=bl}return Br(e,[{key:"_openPopup",value:function(){var e=(0,ja.Z)(La().mark((function e(t,n,r,i){var a,o;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return As(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Jl(t,n,r,Ds(),i),e.abrupt("return",Wl(t,o,Rc()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=(0,ja.Z)(La().mark((function e(t,n,r,i){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Jl(t,n,r,Ds(),i),jc().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(As(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=(0,ja.Z)(La().mark((function e(t){var n,r;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bl(t);case 2:return n=e.sent,r=new Tl(t),n.register("authEvent",(function(e){return Is(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Ql,{type:Ql},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),_s(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Dl.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Fu()||Tu()||Nu()}}]),e}(),th=eh,nh=function(e){pi(n,e);var t=gi(n);function n(e){var r;return Vr(this,n),(r=t.call(this,"phone")).credential=e,r}return Br(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Zs(e,"POST","/v2/accounts/mfaEnrollment:finalize",Vs(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Zs(e,"POST","/v2/accounts/mfaSignIn:finalize",Vs(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){Vr(this,e),this.factorId=t}return Br(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Ss("unexpected MultiFactorSessionType")}}}]),e}());(function(){function e(){Vr(this,e)}return Br(e,null,[{key:"assertion",value:function(e){return nh._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var rh,ih="@firebase/auth",ah="0.20.1",oh=function(){function e(t){Vr(this,e),this.auth=t,this.internalListeners=new Map}return Br(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=(0,ja.Z)(La().mark((function e(t){var n;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Is(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();rh="Browser",Ko(new so("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){Is(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Is(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:rh,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ju(rh)},i=new Lu(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Cs);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Ko(new so("auth-internal",(function(e){return function(e){return new oh(e)}(Mu(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),es(ih,ah,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(rh)),es(ih,ah,"esm2017");es("firebase","9.8.1","app");var sh,uh="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},ch={},lh=lh||{},hh=uh||self;function fh(){}function ph(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function vh(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var dh="closure_uid_"+(1e9*Math.random()>>>0),yh=0;function mh(e,t,n){return e.call.apply(e.bind,arguments)}function gh(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function kh(e,t,n){return(kh=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?mh:gh).apply(null,arguments)}function bh(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function wh(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function _h(){this.s=this.s,this.o=this.o}var Eh={};_h.prototype.s=!1,_h.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,dh)&&e[dh]||(e[dh]=++yh)}(this);delete Eh[e]}},_h.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var xh=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Th=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Ih(e){return Array.prototype.concat.apply([],arguments)}function Sh(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ah(e){return/^[\s\xa0]*$/.test(e)}var Oh,Ch=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Nh(e,t){return-1!=e.indexOf(t)}function Dh(e,t){return e<t?-1:e>t?1:0}e:{var Rh=hh.navigator;if(Rh){var Fh=Rh.userAgent;if(Fh){Oh=Fh;break e}}Oh=""}function jh(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Ph(e){var t={};for(var n in e)t[n]=e[n];return t}var Lh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Mh(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Lh.length;a++)n=Lh[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Uh(e){return Uh[" "](e),e}Uh[" "]=fh;var Vh,Zh=Nh(Oh,"Opera"),Bh=Nh(Oh,"Trident")||Nh(Oh,"MSIE"),zh=Nh(Oh,"Edge"),qh=zh||Bh,Hh=Nh(Oh,"Gecko")&&!(Nh(Oh.toLowerCase(),"webkit")&&!Nh(Oh,"Edge"))&&!(Nh(Oh,"Trident")||Nh(Oh,"MSIE"))&&!Nh(Oh,"Edge"),Gh=Nh(Oh.toLowerCase(),"webkit")&&!Nh(Oh,"Edge");function Kh(){var e=hh.document;return e?e.documentMode:void 0}e:{var Wh="",$h=function(){var e=Oh;return Hh?/rv:([^\);]+)(\)|;)/.exec(e):zh?/Edge\/([\d\.]+)/.exec(e):Bh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Gh?/WebKit\/(\S+)/.exec(e):Zh?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if($h&&(Wh=$h?$h[1]:""),Bh){var Xh=Kh();if(null!=Xh&&Xh>parseFloat(Wh)){Vh=String(Xh);break e}}Vh=Wh}var Yh,Jh={};function Qh(){return function(e){var t=Jh;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Ch(String(Vh)).split("."),n=Ch("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Dh(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Dh(0==a[2].length,0==o[2].length)||Dh(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(hh.document&&Bh){var ef=Kh();Yh=ef||(parseInt(Vh,10)||void 0)}else Yh=void 0;var tf=Yh,nf=function(){if(!hh.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{hh.addEventListener("test",fh,t),hh.removeEventListener("test",fh,t)}catch(n){}return e}();function rf(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function af(e,t){if(rf.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Hh){e:{try{Uh(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:of[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&af.Z.h.call(this)}}rf.prototype.h=function(){this.defaultPrevented=!0},wh(af,rf);var of={2:"touch",3:"pen",4:"mouse"};af.prototype.h=function(){af.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var sf="closure_listenable_"+(1e6*Math.random()|0),uf=0;function cf(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++uf,this.ca=this.fa=!1}function lf(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function hf(e){this.src=e,this.g={},this.h=0}function ff(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=xh(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(lf(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function pf(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}hf.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=pf(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new cf(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var vf="closure_lm_"+(1e6*Math.random()|0),df={};function yf(e,t,n,r,i){if(r&&r.once)return gf(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)yf(e,t[a],n,r,i);return null}return n=Tf(n),e&&e[sf]?e.N(t,n,vh(r)?!!r.capture:!!r,i):mf(e,t,n,!1,r,i)}function mf(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=vh(i)?!!i.capture:!!i,s=Ef(e);if(s||(e[vf]=s=new hf(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=_f;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)nf||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(wf(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function gf(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)gf(e,t[a],n,r,i);return null}return n=Tf(n),e&&e[sf]?e.O(t,n,vh(r)?!!r.capture:!!r,i):mf(e,t,n,!0,r,i)}function kf(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)kf(e,t[a],n,r,i);else r=vh(r)?!!r.capture:!!r,n=Tf(n),e&&e[sf]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=pf(a=e.g[t],n,r,i))&&(lf(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Ef(e))&&(t=e.g[t.toString()],e=-1,t&&(e=pf(t,n,r,i)),(n=-1<e?t[e]:null)&&bf(n))}function bf(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[sf])ff(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(wf(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ef(t))?(ff(n,e),0==n.h&&(n.src=null,t[vf]=null)):lf(e)}}}function wf(e){return e in df?df[e]:df[e]="on"+e}function _f(e,t){if(e.ca)e=!0;else{t=new af(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&bf(e),e=n.call(r,t)}return e}function Ef(e){return(e=e[vf])instanceof hf?e:null}var xf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tf(e){return"function"===typeof e?e:(e[xf]||(e[xf]=function(t){return e.handleEvent(t)}),e[xf])}function If(){_h.call(this),this.i=new hf(this),this.P=this,this.I=null}function Sf(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new rf(t,e);else if(t instanceof rf)t.target=t.target||e;else{var i=t;Mh(t=new rf(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Af(o,r,!0,t)&&i}if(i=Af(o=t.g=e,r,!0,t)&&i,i=Af(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Af(o=t.g=n[a],r,!1,t)&&i}function Af(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&ff(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}wh(If,_h),If.prototype[sf]=!0,If.prototype.removeEventListener=function(e,t,n,r){kf(this,e,t,n,r)},If.prototype.M=function(){if(If.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)lf(n[r]);delete t.g[e],t.h--}}this.I=null},If.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},If.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Of=hh.JSON.stringify;function Cf(){var e=Mf,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Nf,Df=function(){function e(){Vr(this,e),this.h=this.g=null}return Br(e,[{key:"add",value:function(e,t){var n=Rf.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Rf=new(function(){function e(t,n){Vr(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Br(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Ff}),(function(e){return e.reset()})),Ff=function(){function e(){Vr(this,e),this.next=this.g=this.h=null}return Br(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function jf(e){hh.setTimeout((function(){throw e}),0)}function Pf(e,t){Nf||function(){var e=hh.Promise.resolve(void 0);Nf=function(){e.then(Uf)}}(),Lf||(Nf(),Lf=!0),Mf.add(e,t)}var Lf=!1,Mf=new Df;function Uf(){for(var e;e=Cf();){try{e.h.call(e.g)}catch(n){jf(n)}var t=Rf;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Lf=!1}function Vf(e,t){If.call(this),this.h=e||1,this.g=t||hh,this.j=kh(this.kb,this),this.l=Date.now()}function Zf(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Bf(e,t,n){if("function"===typeof e)n&&(e=kh(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=kh(e.handleEvent,e)}return 2147483647<Number(t)?-1:hh.setTimeout(e,t||0)}function zf(e){e.g=Bf((function(){e.g=null,e.i&&(e.i=!1,zf(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}wh(Vf,If),(sh=Vf.prototype).da=!1,sh.S=null,sh.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Sf(this,"tick"),this.da&&(Zf(this),this.start()))}},sh.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},sh.M=function(){Vf.Z.M.call(this),Zf(this),delete this.g};var qf=function(e){pi(n,e);var t=gi(n);function n(e,r){var i;return Vr(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Br(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:zf(this)}},{key:"M",value:function(){ta(vi(n.prototype),"M",this).call(this),this.g&&(hh.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(_h);function Hf(e){_h.call(this),this.h=e,this.g={}}wh(Hf,_h);var Gf=[];function Kf(e,t,n,r){Array.isArray(n)||(n&&(Gf[0]=n.toString()),n=Gf);for(var i=0;i<n.length;i++){var a=yf(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Wf(e){jh(e.g,(function(e,t){this.g.hasOwnProperty(t)&&bf(e)}),e),e.g={}}function $f(){this.g=!0}function Xf(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Of(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Hf.prototype.M=function(){Hf.Z.M.call(this),Wf(this)},Hf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},$f.prototype.Aa=function(){this.g=!1},$f.prototype.info=function(){};var Yf={},Jf=null;function Qf(){return Jf=Jf||new If}function ep(e){rf.call(this,Yf.Ma,e)}function tp(e){var t=Qf();Sf(t,new ep(t,e))}function np(e,t){rf.call(this,Yf.STAT_EVENT,e),this.stat=t}function rp(e){var t=Qf();Sf(t,new np(t,e))}function ip(e,t){rf.call(this,Yf.Na,e),this.size=t}function ap(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return hh.setTimeout((function(){e()}),t)}Yf.Ma="serverreachability",wh(ep,rf),Yf.STAT_EVENT="statevent",wh(np,rf),Yf.Na="timingevent",wh(ip,rf);var op={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},sp={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function up(){}function cp(e){return e.h||(e.h=e.i())}function lp(){}up.prototype.h=null;var hp,fp={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function pp(){rf.call(this,"d")}function vp(){rf.call(this,"c")}function dp(){}function yp(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Hf(this),this.P=gp,e=qh?125:void 0,this.W=new Vf(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new mp}function mp(){this.i=null,this.g="",this.h=!1}wh(pp,rf),wh(vp,rf),wh(dp,up),dp.prototype.g=function(){return new XMLHttpRequest},dp.prototype.i=function(){return{}},hp=new dp;var gp=45e3,kp={},bp={};function wp(e,t,n){e.K=1,e.v=qp(Mp(t)),e.s=n,e.U=!0,_p(e,null)}function _p(e,t){e.F=Date.now(),Ip(e),e.A=Mp(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),rv(n.h,"t",r),e.C=0,n=e.l.H,e.h=new mp,e.g=ad(e.l,n?t:null,!e.s),0<e.O&&(e.L=new qf(kh(e.Ia,e,e.g),e.O)),Kf(e.V,e.g,"readystatechange",e.gb),t=e.H?Ph(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),tp(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Ep(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function xp(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Tp(e,n))==bp){4==t&&(e.o=4,rp(14),i=!1),Xf(e.j,e.m,null,"[Incomplete Response]");break}if(r==kp){e.o=4,rp(15),Xf(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Xf(e.j,e.m,r,null),Np(e,r)}Ep(e)&&r!=bp&&r!=kp&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,rp(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Yv(t),t.L=!0,rp(11))):(Xf(e.j,e.m,n,"[Invalid Chunked Response]"),Cp(e),Op(e))}function Tp(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?bp:(n=Number(t.substring(n,r)),isNaN(n)?kp:(r+=1)+n>t.length?bp:(t=t.substr(r,n),e.C=r+n,t))}function Ip(e){e.Y=Date.now()+e.P,Sp(e,e.P)}function Sp(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ap(kh(e.eb,e),t)}function Ap(e){e.B&&(hh.clearTimeout(e.B),e.B=null)}function Op(e){0==e.l.G||e.I||ed(e.l,e)}function Cp(e){Ap(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Zf(e.W),Wf(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Np(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||hv(n.i,e)))if(n.I=e.N,!e.J&&hv(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Qv(n),Bv(n)}Xv(n),rp(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=ap(kh(n.ab,n),6e3));if(1>=lv(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else nd(n,11)}else if((e.J||n.g==e)&&Qv(n),!Ah(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(Nh(l,"spdy")||Nh(l,"quic")||Nh(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(fv(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,zp(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var p=e;if((r=n).oa=id(r,r.H?r.la:null,r.W),p.J){pv(r.i,p);var v=p,d=r.K;d&&v.setTimeout(d),v.B&&(Ap(v),Ip(v)),r.g=p}else $v(r);0<n.l.length&&Hv(n)}else"stop"!=a[0]&&"close"!=a[0]||nd(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?nd(n,7):Zv(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}tp(4)}catch(a){}}function Dp(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ph(e)||"string"===typeof e)Th(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(ph(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(ph(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Rp(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Rp)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Fp(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];jp(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)jp(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function jp(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(sh=yp.prototype).setTimeout=function(e){this.P=e},sh.gb=function(e){e=e.target;var t=this.L;t&&3==Pv(e)?t.l():this.Ia(e)},sh.Ia=function(e){try{if(e==this.g)e:{var t=Pv(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||qh||this.g&&(this.h.h||this.g.ga()||Lv(this.g)))){this.I||4!=t||7==n||tp(8==n||0>=r?3:2),Ap(this);var i=this.g.ba();this.N=i;t:if(Ep(this)){var a=Lv(this.g);e="";var o=a.length,s=4==Pv(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Cp(this),Op(this);var u="";break t}this.h.i=new hh.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ah(c)){var h=c;break t}}h=null}if(!(i=h)){this.i=!1,this.o=3,rp(12),Cp(this),Op(this);break e}Xf(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Np(this,i)}this.U?(xp(this,t,u),qh&&this.i&&3==t&&(Kf(this.V,this.W,"tick",this.fb),this.W.start())):(Xf(this.j,this.m,u,null),Np(this,u)),4==t&&Cp(this),this.i&&!this.I&&(4==t?ed(this.l,this):(this.i=!1,Ip(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,rp(12)):(this.o=0,rp(13)),Cp(this),Op(this)}}}catch(t){}},sh.fb=function(){if(this.g){var e=Pv(this.g),t=this.g.ga();this.C<t.length&&(Ap(this),xp(this,e,t),this.i&&4!=e&&Ip(this))}},sh.cancel=function(){this.I=!0,Cp(this)},sh.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(tp(3),rp(17)),Cp(this),this.o=2,Op(this)):Sp(this,this.Y-e)},(sh=Rp.prototype).R=function(){Fp(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},sh.T=function(){return Fp(this),this.g.concat()},sh.get=function(e,t){return jp(this.h,e)?this.h[e]:t},sh.set=function(e,t){jp(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},sh.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Pp=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Lp(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Lp){this.g=void 0!==t?t:e.g,Up(this,e.j),this.s=e.s,Vp(this,e.i),Zp(this,e.m),this.l=e.l,t=e.h;var n=new Qp;n.i=t.i,t.g&&(n.g=new Rp(t.g),n.h=t.h),Bp(this,n),this.o=e.o}else e&&(n=String(e).match(Pp))?(this.g=!!t,Up(this,n[1]||"",!0),this.s=Hp(n[2]||""),Vp(this,n[3]||"",!0),Zp(this,n[4]),this.l=Hp(n[5]||"",!0),Bp(this,n[6]||"",!0),this.o=Hp(n[7]||"")):(this.g=!!t,this.h=new Qp(null,this.g))}function Mp(e){return new Lp(e)}function Up(e,t,n){e.j=n?Hp(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Vp(e,t,n){e.i=n?Hp(t,!0):t}function Zp(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Bp(e,t,n){t instanceof Qp?(e.h=t,function(e,t){t&&!e.j&&(ev(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(tv(this,t),rv(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Gp(t,Yp)),e.h=new Qp(t,e.g))}function zp(e,t,n){e.h.set(t,n)}function qp(e){return zp(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Hp(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Gp(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Kp),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Kp(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Lp.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Gp(t,Wp,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Gp(t,Wp,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Gp(n,"/"==n.charAt(0)?Xp:$p,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Gp(n,Jp)),e.join("")};var Wp=/[#\/\?@]/g,$p=/[#\?:]/g,Xp=/[#\?]/g,Yp=/[#\?@]/g,Jp=/#/g;function Qp(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ev(e){e.g||(e.g=new Rp,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function tv(e,t){ev(e),t=iv(e,t),jp(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,jp((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Fp(e)))}function nv(e,t){return ev(e),t=iv(e,t),jp(e.g.h,t)}function rv(e,t,n){tv(e,t),0<n.length&&(e.i=null,e.g.set(iv(e,t),Sh(n)),e.h+=n.length)}function iv(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(sh=Qp.prototype).add=function(e,t){ev(this),this.i=null,e=iv(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},sh.forEach=function(e,t){ev(this),this.g.forEach((function(n,r){Th(n,(function(n){e.call(t,n,r,this)}),this)}),this)},sh.T=function(){ev(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},sh.R=function(e){ev(this);var t=[];if("string"===typeof e)nv(this,e)&&(t=Ih(t,this.g.get(iv(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Ih(t,e[n])}return t},sh.set=function(e,t){return ev(this),this.i=null,nv(this,e=iv(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},sh.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},sh.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var av=Br((function e(t,n){Vr(this,e),this.h=t,this.g=n}));function ov(e){this.l=e||uv,hh.PerformanceNavigationTiming?e=0<(e=hh.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(hh.g&&hh.g.Ea&&hh.g.Ea()&&hh.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var sv,uv=10;function cv(e){return!!e.h||!!e.g&&e.g.size>=e.j}function lv(e){return e.h?1:e.g?e.g.size:0}function hv(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function fv(e,t){e.g?e.g.add(t):e.h=t}function pv(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function vv(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Mi(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Sh(e.i)}function dv(){}function yv(){this.g=new dv}function mv(e,t,n){var r=n||"";try{Dp(e,(function(e,n){var i=e;vh(e)&&(i=Of(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function gv(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function kv(e){this.l=e.$b||null,this.j=e.ib||!1}function bv(e,t){If.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=wv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ov.prototype.cancel=function(){if(this.i=vv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Mi(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},dv.prototype.stringify=function(e){return hh.JSON.stringify(e,void 0)},dv.prototype.parse=function(e){return hh.JSON.parse(e,void 0)},wh(kv,up),kv.prototype.g=function(){return new bv(this.l,this.j)},kv.prototype.i=(sv={},function(){return sv}),wh(bv,If);var wv=0;function _v(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Ev(e){e.readyState=4,e.l=null,e.j=null,e.A=null,xv(e)}function xv(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(sh=bv.prototype).open=function(e,t){if(this.readyState!=wv)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,xv(this)},sh.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||hh).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},sh.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ev(this)),this.readyState=wv},sh.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,xv(this)),this.g&&(this.readyState=3,xv(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof hh.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_v(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},sh.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ev(this):xv(this),3==this.readyState&&_v(this)}},sh.Ua=function(e){this.g&&(this.response=this.responseText=e,Ev(this))},sh.Ta=function(e){this.g&&(this.response=e,Ev(this))},sh.ha=function(){this.g&&Ev(this)},sh.setRequestHeader=function(e,t){this.v.append(e,t)},sh.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},sh.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(bv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Tv=hh.JSON.parse;function Iv(e){If.call(this),this.headers=new Rp,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Sv,this.K=this.L=!1}wh(Iv,If);var Sv="",Av=/^https?$/i,Ov=["POST","PUT"];function Cv(e){return"content-type"==e.toLowerCase()}function Nv(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Dv(e),Fv(e)}function Dv(e){e.D||(e.D=!0,Sf(e,"complete"),Sf(e,"error"))}function Rv(e){if(e.h&&"undefined"!=typeof lh&&(!e.C[1]||4!=Pv(e)||2!=e.ba()))if(e.v&&4==Pv(e))Bf(e.Fa,0,e);else if(Sf(e,"readystatechange"),4==Pv(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Pp)[1]||null;if(!a&&hh.self&&hh.self.location){var o=hh.self.location.protocol;a=o.substr(0,o.length-1)}i=!Av.test(a?a.toLowerCase():"")}t=i}if(t)Sf(e,"complete"),Sf(e,"success");else{e.m=6;try{var s=2<Pv(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",Dv(e)}}finally{Fv(e)}}}function Fv(e,t){if(e.g){jv(e);var n=e.g,r=e.C[0]?fh:null;e.g=null,e.C=null,t||Sf(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function jv(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(hh.clearTimeout(e.A),e.A=null)}function Pv(e){return e.g?e.g.readyState:0}function Lv(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Sv:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Mv(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return jh(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):zp(e,t,n))}function Uv(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Vv(e){this.za=0,this.l=[],this.h=new $f,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Uv("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Uv("baseRetryDelayMs",5e3,e),this.$a=Uv("retryDelaySeedMs",1e4,e),this.Ya=Uv("forwardChannelMaxRetries",2,e),this.ra=Uv("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new ov(e&&e.concurrentRequestLimit),this.Ca=new yv,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Zv(e){if(zv(e),3==e.G){var t=e.V++,n=Mp(e.F);zp(n,"SID",e.J),zp(n,"RID",t),zp(n,"TYPE","terminate"),Kv(e,n),(t=new yp(e,e.h,t,void 0)).K=2,t.v=qp(Mp(n)),n=!1,hh.navigator&&hh.navigator.sendBeacon&&(n=hh.navigator.sendBeacon(t.v.toString(),"")),!n&&hh.Image&&((new Image).src=t.v,n=!0),n||(t.g=ad(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Ip(t)}rd(e)}function Bv(e){e.g&&(Yv(e),e.g.cancel(),e.g=null)}function zv(e){Bv(e),e.u&&(hh.clearTimeout(e.u),e.u=null),Qv(e),e.i.cancel(),e.m&&("number"===typeof e.m&&hh.clearTimeout(e.m),e.m=null)}function qv(e,t){e.l.push(new av(e.Za++,t)),3==e.G&&Hv(e)}function Hv(e){cv(e.i)||e.m||(e.m=!0,Pf(e.Ha,e),e.C=0)}function Gv(e,t){var n;n=t?t.m:e.V++;var r=Mp(e.F);zp(r,"SID",e.J),zp(r,"RID",n),zp(r,"AID",e.U),Kv(e,r),e.o&&e.s&&Mv(r,e.o,e.s),n=new yp(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Wv(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),fv(e.i,n),wp(n,r,t)}function Kv(e,t){e.j&&Dp({},(function(e,n){zp(t,n,e)}))}function Wv(e,t,n){n=Math.min(e.l.length,n);var r=e.j?kh(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{mv(l,o,"req"+c+"_")}catch(Rd){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function $v(e){e.g||e.u||(e.Y=1,Pf(e.Ga,e),e.A=0)}function Xv(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=ap(kh(e.Ga,e),td(e,e.A)),e.A++,!0)}function Yv(e){null!=e.B&&(hh.clearTimeout(e.B),e.B=null)}function Jv(e){e.g=new yp(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Mp(e.oa);zp(t,"RID","rpc"),zp(t,"SID",e.J),zp(t,"CI",e.N?"0":"1"),zp(t,"AID",e.U),Kv(e,t),zp(t,"TYPE","xmlhttp"),e.o&&e.s&&Mv(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=qp(Mp(t)),n.s=null,n.U=!0,_p(n,e)}function Qv(e){null!=e.v&&(hh.clearTimeout(e.v),e.v=null)}function ed(e,t){var n=null;if(e.g==t){Qv(e),Yv(e),e.g=null;var r=2}else{if(!hv(e.i,t))return;n=t.D,pv(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Sf(r=Qf(),new ip(r,n,t,i)),Hv(e)}else $v(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(lv(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=ap(kh(e.Ha,e,t),td(e,e.C)),e.C++,!0))}(e,t)||2==r&&Xv(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:nd(e,5);break;case 4:nd(e,10);break;case 3:nd(e,6);break;default:nd(e,2)}}function td(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function nd(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=kh(e.jb,e);n||(n=new Lp("//www.google.com/images/cleardot.gif"),hh.location&&"http"==hh.location.protocol||Up(n,"https"),qp(n)),function(e,t){var n=new $f;if(hh.Image){var r=new Image;r.onload=bh(gv,n,r,"TestLoadImage: loaded",!0,t),r.onerror=bh(gv,n,r,"TestLoadImage: error",!1,t),r.onabort=bh(gv,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=bh(gv,n,r,"TestLoadImage: timeout",!1,t),hh.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else rp(2);e.G=0,e.j&&e.j.va(t),rd(e),zv(e)}function rd(e){e.G=0,e.I=-1,e.j&&(0==vv(e.i).length&&0==e.l.length||(e.i.i.length=0,Sh(e.l),e.l.length=0),e.j.ua())}function id(e,t,n){var r=function(e){return e instanceof Lp?Mp(e):new Lp(e,void 0)}(n);if(""!=r.i)t&&Vp(r,t+"."+r.i),Zp(r,r.m);else{var i=hh.location;r=function(e,t,n,r){var i=new Lp(null,void 0);return e&&Up(i,e),t&&Vp(i,t),n&&Zp(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&jh(e.aa,(function(e,t){zp(r,t,e)})),t=e.D,n=e.sa,t&&n&&zp(r,t,n),zp(r,"VER",e.ma),Kv(e,r),r}function ad(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Iv(new kv({ib:!0})):new Iv(e.qa)).L=e.H,t}function od(){}function sd(){if(Bh&&!(10<=Number(tf)))throw Error("Environmental error: no available transport.")}function ud(e,t){If.call(this),this.g=new Vv(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Ah(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ah(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new hd(this)}function cd(e){pp.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ld(){vp.call(this),this.status=1}function hd(e){this.g=e}(sh=Iv.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():hp.g(),this.C=this.u?cp(this.u):cp(hp),this.g.onreadystatechange=kh(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Nv(this,a)}e=n||"";var i=new Rp(this.headers);r&&Dp(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Cv,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=hh.FormData&&e instanceof hh.FormData,!(0<=xh(Ov,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{jv(this),0<this.B&&((this.K=function(e){return Bh&&Qh()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=kh(this.pa,this)):this.A=Bf(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Nv(this,a)}},sh.pa=function(){"undefined"!=typeof lh&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Sf(this,"timeout"),this.abort(8))},sh.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Sf(this,"complete"),Sf(this,"abort"),Fv(this))},sh.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fv(this,!0)),Iv.Z.M.call(this)},sh.Fa=function(){this.s||(this.F||this.v||this.l?Rv(this):this.cb())},sh.cb=function(){Rv(this)},sh.ba=function(){try{return 2<Pv(this)?this.g.status:-1}catch(sv){return-1}},sh.ga=function(){try{return this.g?this.g.responseText:""}catch(sv){return""}},sh.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Tv(t)}},sh.Da=function(){return this.m},sh.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(sh=Vv.prototype).ma=8,sh.G=1,sh.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},sh.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new yp(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Mh(n=Ph(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Wv(this,t,r),zp(i=Mp(this.F),"RID",e),zp(i,"CVER",22),this.D&&zp(i,"X-HTTP-Session-Id",this.D),Kv(this,i),this.o&&n&&Mv(i,this.o,n),fv(this.i,t),this.Ra&&zp(i,"TYPE","init"),this.ja?(zp(i,"$req",r),zp(i,"SID","null"),t.$=!0,wp(t,i,null)):wp(t,i,r),this.G=2}}else 3==this.G&&(e?Gv(this,e):0==this.l.length||cv(this.i)||Gv(this))},sh.Ga=function(){if(this.u=null,Jv(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=ap(kh(this.bb,this),e)}},sh.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,rp(10),Bv(this),Jv(this))},sh.ab=function(){null!=this.v&&(this.v=null,Bv(this),Xv(this),rp(19))},sh.jb=function(e){e?(this.h.info("Successfully pinged google.com"),rp(2)):(this.h.info("Failed to ping google.com"),rp(1))},(sh=od.prototype).xa=function(){},sh.wa=function(){},sh.va=function(){},sh.ua=function(){},sh.Oa=function(){},sd.prototype.g=function(e,t){return new ud(e,t)},wh(ud,If),ud.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Pf(kh(e.hb,e,t))),rp(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=id(e,null,e.W),Hv(e)},ud.prototype.close=function(){Zv(this.g)},ud.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,qv(this.g,t)}else this.v?((t={}).__data__=Of(e),qv(this.g,t)):qv(this.g,e)},ud.prototype.M=function(){this.g.j=null,delete this.j,Zv(this.g),delete this.g,ud.Z.M.call(this)},wh(cd,pp),wh(ld,vp),wh(hd,od),hd.prototype.xa=function(){Sf(this.g,"a")},hd.prototype.wa=function(e){Sf(this.g,new cd(e))},hd.prototype.va=function(e){Sf(this.g,new ld(e))},hd.prototype.ua=function(){Sf(this.g,"b")},sd.prototype.createWebChannel=sd.prototype.g,ud.prototype.send=ud.prototype.u,ud.prototype.open=ud.prototype.m,ud.prototype.close=ud.prototype.close,op.NO_ERROR=0,op.TIMEOUT=8,op.HTTP_ERROR=6,sp.COMPLETE="complete",lp.EventType=fp,fp.OPEN="a",fp.CLOSE="b",fp.ERROR="c",fp.MESSAGE="d",If.prototype.listen=If.prototype.N,Iv.prototype.listenOnce=Iv.prototype.O,Iv.prototype.getLastError=Iv.prototype.La,Iv.prototype.getLastErrorCode=Iv.prototype.Da,Iv.prototype.getStatus=Iv.prototype.ba,Iv.prototype.getResponseJson=Iv.prototype.Qa,Iv.prototype.getResponseText=Iv.prototype.ga,Iv.prototype.send=Iv.prototype.ea;var fd=ch.createWebChannelTransport=function(){return new sd},pd=ch.getStatEventTarget=function(){return Qf()},vd=ch.ErrorCode=op,dd=ch.EventType=sp,yd=ch.Event=Yf,md=ch.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},gd=ch.FetchXmlHttpFactory=kv,kd=ch.WebChannel=lp,bd=ch.XhrIo=Iv,wd="@firebase/firestore",_d=function(){function e(t){Vr(this,e),this.uid=t}return Br(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();_d.UNAUTHENTICATED=new _d(null),_d.GOOGLE_CREDENTIALS=new _d("google-credentials-uid"),_d.FIRST_PARTY=new _d("first-party-uid"),_d.MOCK_USER=new _d("mock-user");var Ed="9.8.0",xd=new ko("@firebase/firestore");function Td(){return xd.logLevel}function Id(e){if(xd.logLevel<=ho.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Od);xd.debug.apply(xd,["Firestore (".concat(Ed,"): ").concat(e)].concat((0,Ur.Z)(i)))}}function Sd(e){if(xd.logLevel<=ho.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Od);xd.error.apply(xd,["Firestore (".concat(Ed,"): ").concat(e)].concat((0,Ur.Z)(i)))}}function Ad(e){if(xd.logLevel<=ho.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Od);xd.warn.apply(xd,["Firestore (".concat(Ed,"): ").concat(e)].concat((0,Ur.Z)(i)))}}function Od(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Cd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Ed,") INTERNAL ASSERTION FAILED: ")+e;throw Sd(t),new Error(t)}function Nd(e,t){e||Cd()}function Dd(e,t){return e}var Rd={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Fd=function(e){pi(n,e);var t=gi(n);function n(e,r){var i;return Vr(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Br(n)}($a),jd=Br((function e(){var t=this;Vr(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Pd=Br((function e(t,n){Vr(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Ld=function(){function e(){Vr(this,e)}return Br(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(_d.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Md=function(){function e(t){Vr(this,e),this.t=t,this.currentUser=_d.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Br(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new jd;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new jd,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable((0,ja.Z)(La().mark((function e(){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Id("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Id("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new jd)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Id("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Nd("string"==typeof n.accessToken),new Pd(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Nd(null===e||"string"==typeof e),new _d(e)}}]),e}(),Ud=Br((function e(t,n,r){Vr(this,e),this.type="FirstParty",this.user=_d.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Vd=function(){function e(t,n,r){Vr(this,e),this.h=t,this.l=n,this.m=r}return Br(e,[{key:"getToken",value:function(){return Promise.resolve(new Ud(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(_d.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Zd=Br((function e(t){Vr(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Bd=function(){function e(t){Vr(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return Br(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Id("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,Id("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Id("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):Id("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Nd("string"==typeof t.token),e.p=t.token,new Zd(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),zd=function(){function e(t,n){var r=this;Vr(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return Br(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function qd(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}zd.A=-1;var Hd=function(){function e(){Vr(this,e)}return Br(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=qd(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Gd(e,t){return e<t?-1:e>t?1:0}function Kd(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var Wd=function(){function e(t,n){if(Vr(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Fd(Rd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Fd(Rd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Fd(Rd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Fd(Rd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Br(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Gd(this.nanoseconds,e.nanoseconds):Gd(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),$d=function(){function e(t){Vr(this,e),this.timestamp=t}return Br(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Wd(0,0))}},{key:"max",value:function(){return new e(new Wd(253402300799,999999999))}}]),e}();function Xd(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Yd(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Jd(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Qd=function(){function e(t,n,r){Vr(this,e),void 0===n?n=0:n>t.length&&Cd(),void 0===r?r=t.length-n:r>t.length-n&&Cd(),this.segments=t,this.offset=n,this.len=r}return Br(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),ey=function(e){pi(n,e);var t=gi(n);function n(){return Vr(this,n),t.apply(this,arguments)}return Br(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Fd(Rd.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,(0,Ur.Z)(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Qd),ty=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ny=function(e){pi(n,e);var t=gi(n);function n(){return Vr(this,n),t.apply(this,arguments)}return Br(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return ty.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Fd(Rd.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Fd(Rd.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Fd(Rd.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Fd(Rd.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Qd),ry=function(){function e(t){Vr(this,e),this.fields=t,t.sort(ny.comparator)}return Br(e,[{key:"covers",value:function(e){var t,n=Mi(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Kd(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var iy=function(e){function t(e){Vr(this,t),this.binaryString=e}return Br(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Gd(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();iy.EMPTY_BYTE_STRING=new iy("");var ay=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oy(e){if(Nd(!!e),"string"==typeof e){var t=0,n=ay.exec(e);if(Nd(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:sy(e.seconds),nanos:sy(e.nanos)}}function sy(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function uy(e){return"string"==typeof e?iy.fromBase64String(e):iy.fromUint8Array(e)}function cy(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ly(e){var t=oy(e.mapValue.fields.__local_write_time__.timestampValue);return new Wd(t.seconds,t.nanos)}var hy=Br((function e(t,n,r,i,a,o,s,u){Vr(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),fy=function(){function e(t,n){Vr(this,e),this.projectId=t,this.database=n||"(default)"}return Br(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function py(e){return null==e}function vy(e){return 0===e&&1/e==-1/0}function dy(e){return"number"==typeof e&&Number.isInteger(e)&&!vy(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var yy=function(){function e(t){Vr(this,e),this.path=t}return Br(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===ey.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(ey.fromString(t))}},{key:"fromName",value:function(t){return new e(ey.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(ey.emptyPath())}},{key:"comparator",value:function(e,t){return ey.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new ey(t.slice()))}}]),e}(),my={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function gy(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?cy(e)?4:Oy(e)?9007199254740991:10:Cd()}function ky(e,t){if(e===t)return!0;var n=gy(e);if(n!==gy(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ly(e).isEqual(ly(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=oy(e.timestampValue),r=oy(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return uy(e.bytesValue).isEqual(uy(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return sy(e.geoPointValue.latitude)===sy(t.geoPointValue.latitude)&&sy(e.geoPointValue.longitude)===sy(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return sy(e.integerValue)===sy(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=sy(e.doubleValue),r=sy(t.doubleValue);return n===r?vy(n)===vy(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Kd(e.arrayValue.values||[],t.arrayValue.values||[],ky);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Xd(n)!==Xd(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ky(n[i],r[i])))return!1;return!0}(e,t);default:return Cd()}}function by(e,t){return void 0!==(e.values||[]).find((function(e){return ky(e,t)}))}function wy(e,t){if(e===t)return 0;var n=gy(e),r=gy(t);if(n!==r)return Gd(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Gd(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=sy(e.integerValue||e.doubleValue),r=sy(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return _y(e.timestampValue,t.timestampValue);case 4:return _y(ly(e),ly(t));case 5:return Gd(e.stringValue,t.stringValue);case 6:return function(e,t){var n=uy(e),r=uy(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Gd(n[i],r[i]);if(0!==a)return a}return Gd(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Gd(sy(e.latitude),sy(t.latitude));return 0!==n?n:Gd(sy(e.longitude),sy(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=wy(n[i],r[i]);if(a)return a}return Gd(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===my.mapValue&&t===my.mapValue)return 0;if(e===my.mapValue)return 1;if(t===my.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Gd(r[o],a[o]);if(0!==s)return s;var u=wy(n[r[o]],i[a[o]]);if(0!==u)return u}return Gd(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Cd()}}function _y(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Gd(e,t);var n=oy(e),r=oy(t),i=Gd(n.seconds,r.seconds);return 0!==i?i:Gd(n.nanos,r.nanos)}function Ey(e){return xy(e)}function xy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=oy(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?uy(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,yy.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Mi(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=xy(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Mi(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(xy(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Cd();var t,n}function Ty(e){return!!e&&"integerValue"in e}function Iy(e){return!!e&&"arrayValue"in e}function Sy(e){return!!e&&"mapValue"in e}function Ay(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Yd(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Ay(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ay(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Oy(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var Cy=function(){function e(t){Vr(this,e),this.value=t}return Br(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Sy(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ay(t)}},{key:"setAll",value:function(e){var t=this,n=ny.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Ay(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Sy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return ky(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Sy(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Yd(t,(function(t,n){return e[t]=n}));var r,i=Mi(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Ay(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Ny(e){var t=[];return Yd(e.fields,(function(e,n){var r=new ny([e]);if(Sy(n)){var i=Ny(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Mi(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new ry(t)}var Dy=function(){function e(t,n,r,i,a,o){Vr(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return Br(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Cy.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Cy.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,$d.min(),$d.min(),Cy.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,$d.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,$d.min(),Cy.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,$d.min(),Cy.empty(),2)}}]),e}(),Ry=Br((function e(t,n,r,i){Vr(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));Ry.UNKNOWN_ID=-1;function Fy(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=$d.fromTimestamp(1e9===r?new Wd(n+1,0):new Wd(n,r));return new Py(i,yy.empty(),t)}function jy(e){return new Py(e.readTime,e.key,-1)}var Py=function(){function e(t,n,r){Vr(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Br(e,null,[{key:"min",value:function(){return new e($d.min(),yy.empty(),-1)}},{key:"max",value:function(){return new e($d.max(),yy.empty(),-1)}}]),e}();function Ly(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=yy.comparator(e.documentKey,t.documentKey))?n:Gd(e.largestBatchId,t.largestBatchId)}var My=function(){function e(t,n){Vr(this,e),this.comparator=t,this.root=n||Vy.EMPTY}return Br(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Vy.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Vy.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Uy(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Uy(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Uy(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Uy(this.root,e,this.comparator,!0)}}]),e}(),Uy=function(){function e(t,n,r,i){Vr(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Br(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Vy=function(){function e(t,n,r,i,a){Vr(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Br(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Cd();if(this.right.isRed())throw Cd();var e=this.left.check();if(e!==this.right.check())throw Cd();return e+(this.isRed()?0:1)}}]),e}();Vy.EMPTY=null,Vy.RED=!0,Vy.BLACK=!1,Vy.EMPTY=new(function(){function e(){Vr(this,e),this.size=0}return Br(e,[{key:"key",get:function(){throw Cd()}},{key:"value",get:function(){throw Cd()}},{key:"color",get:function(){throw Cd()}},{key:"left",get:function(){throw Cd()}},{key:"right",get:function(){throw Cd()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Vy(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Zy=function(){function e(t){Vr(this,e),this.comparator=t,this.data=new My(this.comparator)}return Br(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new By(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new By(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),By=function(){function e(t){Vr(this,e),this.iter=t}return Br(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var zy=Br((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Vr(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.P=null}));function qy(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new zy(e,t,n,r,i,a,o)}function Hy(e){var t=Dd(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Ey(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),py(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Ey(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Ey(e)})).join(",")),t.P=n}return t.P}function Gy(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!im(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!ky(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!om(e.startAt,t.startAt)&&om(e.endAt,t.endAt)}var Ky=function(e){pi(n,e);var t=gi(n);function n(e,r,i){var a;return Vr(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Br(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(wy(t,this.value)):null!==t&&gy(this.value)===gy(t)&&this.v(wy(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Cd()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new Wy(e,t,r):"array-contains"===t?new Jy(e,r):"in"===t?new Qy(e,r):"not-in"===t?new em(e,r):"array-contains-any"===t?new tm(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new $y(e,n):new Xy(e,n)}}]),n}(function(){return Br((function e(){Vr(this,e)}))}()),Wy=function(e){pi(n,e);var t=gi(n);function n(e,r,i){var a;return Vr(this,n),(a=t.call(this,e,r,i)).key=yy.fromName(i.referenceValue),a}return Br(n,[{key:"matches",value:function(e){var t=yy.comparator(e.key,this.key);return this.v(t)}}]),n}(Ky),$y=function(e){pi(n,e);var t=gi(n);function n(e,r){var i;return Vr(this,n),(i=t.call(this,e,"in",r)).keys=Yy("in",r),i}return Br(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ky),Xy=function(e){pi(n,e);var t=gi(n);function n(e,r){var i;return Vr(this,n),(i=t.call(this,e,"not-in",r)).keys=Yy("not-in",r),i}return Br(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ky);function Yy(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return yy.fromName(e.referenceValue)}))}var Jy=function(e){pi(n,e);var t=gi(n);function n(e,r){return Vr(this,n),t.call(this,e,"array-contains",r)}return Br(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Iy(t)&&by(t.arrayValue,this.value)}}]),n}(Ky),Qy=function(e){pi(n,e);var t=gi(n);function n(e,r){return Vr(this,n),t.call(this,e,"in",r)}return Br(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&by(this.value.arrayValue,t)}}]),n}(Ky),em=function(e){pi(n,e);var t=gi(n);function n(e,r){return Vr(this,n),t.call(this,e,"not-in",r)}return Br(n,[{key:"matches",value:function(e){if(by(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!by(this.value.arrayValue,t)}}]),n}(Ky),tm=function(e){pi(n,e);var t=gi(n);function n(e,r){return Vr(this,n),t.call(this,e,"array-contains-any",r)}return Br(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Iy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return by(t.value.arrayValue,e)}))}}]),n}(Ky),nm=Br((function e(t,n){Vr(this,e),this.position=t,this.inclusive=n})),rm=Br((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Vr(this,e),this.field=t,this.dir=n}));function im(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function am(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?yy.comparator(yy.fromName(o.referenceValue),n.key):wy(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function om(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!ky(e.position[n],t.position[n]))return!1;return!0}var sm=Br((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Vr(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.D=null,this.C=null,this.startAt,this.endAt}));function um(e,t,n,r,i,a,o,s){return new sm(e,t,n,r,i,a,o,s)}function cm(e){return new sm(e)}function lm(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function hm(e){var t,n=Mi(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function fm(e){return null!==e.collectionGroup}function pm(e){var t=Dd(e);if(null===t.D){t.D=[];var n=hm(t),r=lm(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new rm(n)),t.D.push(new rm(ny.keyField(),"asc"));else{var i,a=!1,o=Mi(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.D.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new rm(ny.keyField(),u))}}}return t.D}function vm(e){var t=Dd(e);if(!t.C)if("F"===t.limitType)t.C=qy(t.path,t.collectionGroup,pm(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Mi(pm(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new rm(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new nm(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new nm(t.startAt.position,t.startAt.inclusive):null;t.C=qy(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.C}function dm(e,t,n){return new sm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ym(e,t){return Gy(vm(e),vm(t))&&e.limitType===t.limitType}function mm(e){return"".concat(Hy(vm(e)),"|lt:").concat(e.limitType)}function gm(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Ey(t.value));var t})).join(", "),"]")),py(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Ey(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Ey(e)})).join(",")),"Target(".concat(t,")")}(vm(e)),"; limitType=").concat(e.limitType,")")}function km(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):yy.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Mi(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Mi(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=am(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,pm(e),t))&&!(e.endAt&&!function(e,t,n){var r=am(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,pm(e),t))}(e,t)}function bm(e){return function(t,n){var r,i=!1,a=Mi(pm(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=wm(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function wm(e,t,n){var r=e.field.isKeyField()?yy.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?wy(r,i):Cd()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Cd()}}function _m(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vy(t)?"-0":t}}function Em(e){return{integerValue:""+e}}function xm(e,t){return dy(t)?Em(t):_m(e,t)}var Tm=Br((function e(){Vr(this,e),this._=void 0}));function Im(e,t,n){return e instanceof Om?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Cm?Nm(e,t):e instanceof Dm?Rm(e,t):function(e,t){var n=Am(e,t),r=jm(n)+jm(e.k);return Ty(n)&&Ty(e.k)?Em(r):_m(e.M,r)}(e,t)}function Sm(e,t,n){return e instanceof Cm?Nm(e,t):e instanceof Dm?Rm(e,t):n}function Am(e,t){return e instanceof Fm?Ty(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Om=function(e){pi(n,e);var t=gi(n);function n(){return Vr(this,n),t.apply(this,arguments)}return Br(n)}(Tm),Cm=function(e){pi(n,e);var t=gi(n);function n(e){var r;return Vr(this,n),(r=t.call(this)).elements=e,r}return Br(n)}(Tm);function Nm(e,t){var n,r=Pm(t),i=Mi(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return ky(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Dm=function(e){pi(n,e);var t=gi(n);function n(e){var r;return Vr(this,n),(r=t.call(this)).elements=e,r}return Br(n)}(Tm);function Rm(e,t){var n,r=Pm(t),i=Mi(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!ky(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Fm=function(e){pi(n,e);var t=gi(n);function n(e,r){var i;return Vr(this,n),(i=t.call(this)).M=e,i.k=r,i}return Br(n)}(Tm);function jm(e){return sy(e.integerValue||e.doubleValue)}function Pm(e){return Iy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Lm=Br((function e(t,n){Vr(this,e),this.version=t,this.transformResults=n})),Mm=function(){function e(t,n){Vr(this,e),this.updateTime=t,this.exists=n}return Br(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Um(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Vm=Br((function e(){Vr(this,e)}));function Zm(e,t,n){e instanceof Gm?function(e,t,n){var r=e.value.clone(),i=$m(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Km?function(e,t,n){if(Um(e.precondition,t)){var r=$m(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Wm(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Bm(e,t,n){e instanceof Gm?function(e,t,n){if(Um(e.precondition,t)){var r=e.value.clone(),i=Xm(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Hm(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Km?function(e,t,n){if(Um(e.precondition,t)){var r=Xm(e.fieldTransforms,n,t),i=t.data;i.setAll(Wm(e)),i.setAll(r),t.convertToFoundDocument(Hm(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Um(e.precondition,t)&&t.convertToNoDocument($d.min())}(e,t)}function zm(e,t){var n,r=null,i=Mi(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Am(a.transform,o||null);null!=s&&(null==r&&(r=Cy.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function qm(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Kd(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Cm&&t instanceof Cm||e instanceof Dm&&t instanceof Dm?Kd(e.elements,t.elements,ky):e instanceof Fm&&t instanceof Fm?ky(e.k,t.k):e instanceof Om&&t instanceof Om}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Hm(e){return e.isFoundDocument()?e.version:$d.min()}var Gm=function(e){pi(n,e);var t=gi(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Vr(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Br(n)}(Vm),Km=function(e){pi(n,e);var t=gi(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Vr(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return Br(n)}(Vm);function Wm(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function $m(e,t,n){var r=new Map;Nd(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Sm(o,s,n[i]))}return r}function Xm(e,t,n){var r,i=new Map,a=Mi(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Im(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Ym,Jm,Qm=function(e){pi(n,e);var t=gi(n);function n(e,r){var i;return Vr(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Br(n)}(Vm),eg=function(e){pi(n,e);var t=gi(n);function n(e,r){var i;return Vr(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Br(n)}(Vm);function tg(e){switch(e){default:return Cd();case Rd.CANCELLED:case Rd.UNKNOWN:case Rd.DEADLINE_EXCEEDED:case Rd.RESOURCE_EXHAUSTED:case Rd.INTERNAL:case Rd.UNAVAILABLE:case Rd.UNAUTHENTICATED:return!1;case Rd.INVALID_ARGUMENT:case Rd.NOT_FOUND:case Rd.ALREADY_EXISTS:case Rd.PERMISSION_DENIED:case Rd.FAILED_PRECONDITION:case Rd.ABORTED:case Rd.OUT_OF_RANGE:case Rd.UNIMPLEMENTED:case Rd.DATA_LOSS:return!0}}function ng(e){if(void 0===e)return Sd("GRPC error has no .code"),Rd.UNKNOWN;switch(e){case Ym.OK:return Rd.OK;case Ym.CANCELLED:return Rd.CANCELLED;case Ym.UNKNOWN:return Rd.UNKNOWN;case Ym.DEADLINE_EXCEEDED:return Rd.DEADLINE_EXCEEDED;case Ym.RESOURCE_EXHAUSTED:return Rd.RESOURCE_EXHAUSTED;case Ym.INTERNAL:return Rd.INTERNAL;case Ym.UNAVAILABLE:return Rd.UNAVAILABLE;case Ym.UNAUTHENTICATED:return Rd.UNAUTHENTICATED;case Ym.INVALID_ARGUMENT:return Rd.INVALID_ARGUMENT;case Ym.NOT_FOUND:return Rd.NOT_FOUND;case Ym.ALREADY_EXISTS:return Rd.ALREADY_EXISTS;case Ym.PERMISSION_DENIED:return Rd.PERMISSION_DENIED;case Ym.FAILED_PRECONDITION:return Rd.FAILED_PRECONDITION;case Ym.ABORTED:return Rd.ABORTED;case Ym.OUT_OF_RANGE:return Rd.OUT_OF_RANGE;case Ym.UNIMPLEMENTED:return Rd.UNIMPLEMENTED;case Ym.DATA_LOSS:return Rd.DATA_LOSS;default:return Cd()}}(Jm=Ym||(Ym={}))[Jm.OK=0]="OK",Jm[Jm.CANCELLED=1]="CANCELLED",Jm[Jm.UNKNOWN=2]="UNKNOWN",Jm[Jm.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jm[Jm.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jm[Jm.NOT_FOUND=5]="NOT_FOUND",Jm[Jm.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jm[Jm.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jm[Jm.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jm[Jm.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jm[Jm.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jm[Jm.ABORTED=10]="ABORTED",Jm[Jm.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jm[Jm.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jm[Jm.INTERNAL=13]="INTERNAL",Jm[Jm.UNAVAILABLE=14]="UNAVAILABLE",Jm[Jm.DATA_LOSS=15]="DATA_LOSS";var rg=function(){function e(t,n){Vr(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Br(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Mi(n);try{for(i.s();!(r=i.n()).done;){var a=(0,Pi.Z)(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Yd(this.inner,(function(t,n){var r,i=Mi(n);try{for(i.s();!(r=i.n()).done;){var a=(0,Pi.Z)(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Jd(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),ig=new My(yy.comparator);function ag(){return ig}var og=new My(yy.comparator);function sg(){for(var e=og,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function ug(){return new rg((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var cg=new My(yy.comparator),lg=new Zy(yy.comparator);function hg(){for(var e=lg,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var fg=new Zy(Gd);function pg(){return fg}var vg=Br((function e(t,n){Vr(this,e),this.databaseId=t,this.N=n}));function dg(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function yg(e,t){return e.N?t.toBase64():t.toUint8Array()}function mg(e,t){return dg(e,t.toTimestamp())}function gg(e){return Nd(!!e),$d.fromTimestamp(function(e){var t=oy(e);return new Wd(t.seconds,t.nanos)}(e))}function kg(e,t){return function(e){return new ey(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function bg(e){var t=ey.fromString(e);return Nd(Rg(t)),t}function wg(e,t){return kg(e.databaseId,t.path)}function _g(e){var t=bg(e);return 4===t.length?ey.emptyPath():xg(t)}function Eg(e){return new ey(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function xg(e){return Nd(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Tg(e,t,n){return{name:wg(e,t),fields:n.value.mapValue.fields}}function Ig(e,t){var n;if(t instanceof Gm)n={update:Tg(e,t.key,t.value)};else if(t instanceof Qm)n={delete:wg(e,t.key)};else if(t instanceof Km)n={update:Tg(e,t.key,t.data),updateMask:Dg(t.fieldMask)};else{if(!(t instanceof eg))return Cd();n={verify:wg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Om)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Cm)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Dm)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Fm)return{fieldPath:t.field.canonicalString(),increment:n.k};throw Cd()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:mg(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Cd()}(e,t.precondition)),n}function Sg(e){var t=_g(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Nd(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Ag(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new rm(Og(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return py(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new nm(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new nm(n,t)}(n.endAt)),um(t,i,s,o,u,"F",c,l)}function Ag(e){return e?void 0!==e.unaryFilter?[Ng(e)]:void 0!==e.fieldFilter?[Cg(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Ag(e)})).reduce((function(e,t){return e.concat(t)})):Cd():[]}function Og(e){return ny.fromServerFormat(e.fieldPath)}function Cg(e){return Ky.create(Og(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Cd()}}(e.fieldFilter.op),e.fieldFilter.value)}function Ng(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Og(e.unaryFilter.field);return Ky.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Og(e.unaryFilter.field);return Ky.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Og(e.unaryFilter.field);return Ky.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Og(e.unaryFilter.field);return Ky.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Cd()}}function Dg(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Rg(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Fg=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),jg=([].concat((0,Ur.Z)(Fg),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),Pg=([].concat(jg,["indexConfiguration","indexState","indexEntries"]),"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."),Lg=function(){function e(){Vr(this,e),this.onCommittedListeners=[]}return Br(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),Mg=function(){function e(t){var n=this;Vr(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Br(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Cd(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Mi(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}();function Ug(e){return"IndexedDbTransactionError"===e.name}var Vg=function(){function e(t,n,r,i){Vr(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Br(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Zm(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=Mi(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Bm(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,a=Mi(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&Bm(o,e,this.localWriteTime)}}catch(s){a.e(s)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument($d.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),hg())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Kd(this.mutations,e.mutations,(function(e,t){return qm(e,t)}))&&Kd(this.baseMutations,e.baseMutations,(function(e,t){return qm(e,t)}))}}]),e}(),Zg=function(){function e(t,n,r,i){Vr(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Br(e,null,[{key:"from",value:function(t,n,r){Nd(t.mutations.length===r.length);for(var i=cg,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Bg=function(){function e(t,n){Vr(this,e),this.largestBatchId=t,this.mutation=n}return Br(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),zg=Br((function e(t){Vr(this,e),this.Jt=t}));function qg(e){var t=Sg({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?dm(t,t.limit,"L"):t}var Hg=function(){function e(){Vr(this,e)}return Br(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(sy(e.integerValue));else if("doubleValue"in e){var n=sy(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),vy(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(uy(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?Oy(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Cd()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=Mi(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),yy.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();Hg.fe=new Hg;var Gg=function(){function e(){Vr(this,e),this.qe=new Kg}return Br(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),Mg.resolve()}},{key:"getCollectionParents",value:function(e,t){return Mg.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Mg.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Mg.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Mg.resolve(null)}},{key:"getIndexType",value:function(e,t){return Mg.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Mg.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Mg.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Mg.resolve(Py.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Mg.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Mg.resolve()}}]),e}(),Kg=function(){function e(){Vr(this,e),this.index={}}return Br(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Zy(ey.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Zy(ey.comparator)).toArray()}}]),e}();new Uint8Array(0);var Wg=function(){function e(t,n,r){Vr(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Br(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();Wg.DEFAULT_COLLECTION_PERCENTILE=10,Wg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wg.DEFAULT=new Wg(41943040,Wg.DEFAULT_COLLECTION_PERCENTILE,Wg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wg.DISABLED=new Wg(-1,0,0);var $g=function(){function e(t){Vr(this,e),this.mn=t}return Br(e,[{key:"next",value:function(){return this.mn+=2,this.mn}}],[{key:"gn",value:function(){return new e(0)}},{key:"yn",value:function(){return new e(-1)}}]),e}();function Xg(e){return Yg.apply(this,arguments)}function Yg(){return Yg=(0,ja.Z)(La().mark((function e(t){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Rd.FAILED_PRECONDITION&&t.message===Pg){e.next=2;break}throw t;case 2:Id("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Yg.apply(this,arguments)}var Jg=function(){function e(){Vr(this,e),this.changes=new rg((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Br(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Dy.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Mg.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var Qg=function(){function e(t,n,r){Vr(this,e),this.ds=t,this.Bs=n,this.indexManager=r}return Br(e,[{key:"Ls",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Us(e,t,r)}))}},{key:"Us",value:function(e,t,n){return this.ds.getEntry(e,t).next((function(e){var t,r=Mi(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"qs",value:function(e,t){e.forEach((function(e,n){var r,i=Mi(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Ks",value:function(e,t){var n=this;return this.ds.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.qs(t,e)}))}},{key:"Qs",value:function(e,t,n){return function(e){return yy.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.js(e,t.path):fm(t)?this.Ws(e,t,n):this.zs(e,t,n)}},{key:"js",value:function(e,t){return this.Ls(e,new yy(t)).next((function(e){var t=sg();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ws",value:function(e,t,n){var r=this,i=t.collectionGroup,a=sg();return this.indexManager.getCollectionParents(e,i).next((function(o){return Mg.forEach(o,(function(o){var s=function(e,t){return new sm(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.zs(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"zs",value:function(e,t,n){var r,i=this;return this.ds.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.Bs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=Mi(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=Mi(a.mutations);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=s.key,c=r.get(u);null==c&&(c=Dy.newInvalidDocument(u),r=r.insert(u,c)),Bm(s,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(u))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){km(t,n)||(r=r.remove(e))})),r}))}}]),e}(),ek=function(){function e(t,n,r,i){Vr(this,e),this.targetId=t,this.fromCache=n,this.Hs=r,this.Js=i}return Br(e,null,[{key:"Ys",value:function(t,n){var r,i=hg(),a=hg(),o=Mi(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),tk=function(){function e(){Vr(this,e),this.Xs=!1}return Br(e,[{key:"initialize",value:function(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}},{key:"Qs",value:function(e,t,n,r){var i=this;return this.ti(e,t).next((function(a){return a||i.ei(e,t,r,n)})).next((function(n){return n||i.ni(e,t)}))}},{key:"ti",value:function(e,t){return Mg.resolve(null)}},{key:"ei",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual($d.min())?this.ni(e,t):this.Zs.Ks(e,n).next((function(a){var o=i.si(t,a);return i.ii(t,o,n,r)?i.ni(e,t):(Td()<=ho.DEBUG&&Id("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),gm(t)),i.ri(e,o,t,Fy(r,-1)))}))}},{key:"si",value:function(e,t){var n=new Zy(bm(e));return t.forEach((function(t,r){km(e,r)&&(n=n.add(r))})),n}},{key:"ii",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"ni",value:function(e,t){return Td()<=ho.DEBUG&&Id("QueryEngine","Using full collection scan to execute query:",gm(t)),this.Zs.Qs(e,t,Py.min())}},{key:"ri",value:function(e,t,n,r){return this.Zs.Qs(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),nk=function(){function e(t,n,r,i){Vr(this,e),this.persistence=t,this.oi=n,this.M=i,this.ui=new My(Gd),this.ai=new rg((function(e){return Hy(e)}),Gy),this.ci=new Map,this.hi=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.li(r)}return Br(e,[{key:"li",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new Qg(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ui)}))}}]),e}();function rk(e,t,n,r){return new nk(e,t,n,r)}function ik(e,t){return ak.apply(this,arguments)}function ak(){return ak=(0,ja.Z)(La().mark((function e(t,n){var r;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Dd(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.Bs.getAllMutationBatches(e).next((function(i){return t=i,r.li(n),r.Bs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=hg(),u=Mi(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,h=Mi(c.mutations);try{for(h.s();!(l=h.n()).done;){var f=l.value;s=s.add(f.key)}}catch(k){h.e(k)}finally{h.f()}}}catch(k){u.e(k)}finally{u.f()}var p,v=Mi(n);try{for(v.s();!(p=v.n()).done;){var d=p.value;o.push(d.batchId);var y,m=Mi(d.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;s=s.add(g.key)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){v.e(k)}finally{v.f()}return r.fi.Ks(e,s).next((function(e){return{di:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),ak.apply(this,arguments)}function ok(e,t){var n=Dd(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.hi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Mg.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Nd(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.Bs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.fi.Ks(e,r)}))}))}function sk(e){var t=Dd(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.fs.getLastRemoteSnapshotVersion(e)}))}function uk(e,t){var n=Dd(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Bs.getNextMutationBatchAfterBatchId(e,t)}))}var ck=function(){function e(t){Vr(this,e),this.M=t,this.yi=new Map,this.pi=new Map}return Br(e,[{key:"getBundleMetadata",value:function(e,t){return Mg.resolve(this.yi.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.yi.set(t.id,{id:(n=t).id,version:n.version,createTime:gg(n.createTime)}),Mg.resolve()}},{key:"getNamedQuery",value:function(e,t){return Mg.resolve(this.pi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.pi.set(t.name,function(e){return{name:e.name,query:qg(e.bundledQuery),readTime:gg(e.readTime)}}(t)),Mg.resolve()}}]),e}(),lk=function(){function e(){Vr(this,e),this.overlays=new My(yy.comparator),this.Ii=new Map}return Br(e,[{key:"getOverlay",value:function(e,t){return Mg.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),Mg.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Ii.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Ii.delete(n)),Mg.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=ug(),i=t.length+1,a=new yy(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return Mg.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new My((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=ug(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=ug(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return Mg.resolve(u)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Ii.get(r.largestBatchId).delete(n.key);this.Ii.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Bg(t,n));var a=this.Ii.get(t);void 0===a&&(a=hg(),this.Ii.set(t,a)),this.Ii.set(t,a.add(n.key))}}}]),e}(),hk=function(){function e(){Vr(this,e),this.Ti=new Zy(fk.Ei),this.Ai=new Zy(fk.Ri)}return Br(e,[{key:"isEmpty",value:function(){return this.Ti.isEmpty()}},{key:"addReference",value:function(e,t){var n=new fk(e,t);this.Ti=this.Ti.add(n),this.Ai=this.Ai.add(n)}},{key:"bi",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Pi(new fk(e,t))}},{key:"Vi",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"vi",value:function(e){var t=this,n=new yy(new ey([])),r=new fk(n,e),i=new fk(n,e+1),a=[];return this.Ai.forEachInRange([r,i],(function(e){t.Pi(e),a.push(e.key)})),a}},{key:"Si",value:function(){var e=this;this.Ti.forEach((function(t){return e.Pi(t)}))}},{key:"Pi",value:function(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}},{key:"Di",value:function(e){var t=new yy(new ey([])),n=new fk(t,e),r=new fk(t,e+1),i=hg();return this.Ai.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new fk(e,0),n=this.Ti.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),fk=function(){function e(t,n){Vr(this,e),this.key=t,this.Ci=n}return Br(e,null,[{key:"Ei",value:function(e,t){return yy.comparator(e.key,t.key)||Gd(e.Ci,t.Ci)}},{key:"Ri",value:function(e,t){return Gd(e.Ci,t.Ci)||yy.comparator(e.key,t.key)}}]),e}(),pk=function(){function e(t,n){Vr(this,e),this.indexManager=t,this.referenceDelegate=n,this.Bs=[],this.xi=1,this.Ni=new Zy(fk.Ei)}return Br(e,[{key:"checkEmpty",value:function(e){return Mg.resolve(0===this.Bs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.xi;this.xi++,this.Bs.length>0&&this.Bs[this.Bs.length-1];var a=new Vg(i,t,n,r);this.Bs.push(a);var o,s=Mi(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.Ni=this.Ni.add(new fk(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return Mg.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Mg.resolve(this.ki(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Mi(n),i=r<0?0:r;return Mg.resolve(this.Bs.length>i?this.Bs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Mg.resolve(0===this.Bs.length?-1:this.xi-1)}},{key:"getAllMutationBatches",value:function(e){return Mg.resolve(this.Bs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new fk(t,0),i=new fk(t,Number.POSITIVE_INFINITY),a=[];return this.Ni.forEachInRange([r,i],(function(e){var t=n.ki(e.Ci);a.push(t)})),Mg.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Zy(Gd);return t.forEach((function(e){var t=new fk(e,0),i=new fk(e,Number.POSITIVE_INFINITY);n.Ni.forEachInRange([t,i],(function(e){r=r.add(e.Ci)}))})),Mg.resolve(this.Oi(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;yy.isDocumentKey(i)||(i=i.child(""));var a=new fk(new yy(i),0),o=new Zy(Gd);return this.Ni.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Ci)),!0)}),a),Mg.resolve(this.Oi(o))}},{key:"Oi",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ki(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Nd(0===this.Fi(t.batchId,"removed")),this.Bs.shift();var r=this.Ni;return Mg.forEach(t.mutations,(function(i){var a=new fk(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Ni=r}))}},{key:"_n",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new fk(t,0),r=this.Ni.firstAfterOrEqual(n);return Mg.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.Bs.length,Mg.resolve()}},{key:"Fi",value:function(e,t){return this.Mi(e)}},{key:"Mi",value:function(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}},{key:"ki",value:function(e){var t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}]),e}(),vk=function(){function e(t){Vr(this,e),this.$i=t,this.docs=new My(yy.comparator),this.size=0}return Br(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.$i(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Mg.resolve(n?n.document.mutableCopy():Dy.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=ag();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Dy.newInvalidDocument(e))})),Mg.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=ag(),i=new yy(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||Ly(jy(u),n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return Mg.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Cd()}},{key:"Bi",value:function(e,t){return Mg.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new dk(this)}},{key:"getSize",value:function(e){return Mg.resolve(this.size)}}]),e}(),dk=function(e){pi(n,e);var t=gi(n);function n(e){var r;return Vr(this,n),(r=t.call(this)).Kn=e,r}return Br(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Kn.addEntry(e,i)):t.Kn.removeEntry(r)})),Mg.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Kn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Kn.getEntries(e,t)}}]),n}(Jg),yk=function(){function e(t){Vr(this,e),this.persistence=t,this.Li=new rg((function(e){return Hy(e)}),Gy),this.lastRemoteSnapshotVersion=$d.min(),this.highestTargetId=0,this.Ui=0,this.qi=new hk,this.targetCount=0,this.Ki=$g.gn()}return Br(e,[{key:"forEachTarget",value:function(e,t){return this.Li.forEach((function(e,n){return t(n)})),Mg.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Mg.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Mg.resolve(this.Ui)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ki.next(),Mg.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ui&&(this.Ui=t),Mg.resolve()}},{key:"Tn",value:function(e){this.Li.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ki=new $g(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Tn(t),this.targetCount+=1,Mg.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Tn(t),Mg.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,Mg.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Li.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Li.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Mg.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Mg.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Li.get(t)||null;return Mg.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.qi.bi(t,n),Mg.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.qi.Vi(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Mg.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.qi.vi(t),Mg.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.qi.Di(t);return Mg.resolve(n)}},{key:"containsKey",value:function(e,t){return Mg.resolve(this.qi.containsKey(t))}}]),e}(),mk=function(){function e(t,n){var r=this;Vr(this,e),this.Gi={},this.overlays={},this.es=new zd(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new yk(this),this.indexManager=new Gg,this.ds=new vk((function(e){return r.referenceDelegate.Qi(e)})),this.M=new zg(n),this._s=new ck(this.M)}return Br(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.ns=!1,Promise.resolve()}},{key:"started",get:function(){return this.ns}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new lk,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Gi[e.toKey()];return n||(n=new pk(t,this.referenceDelegate),this.Gi[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;Id("MemoryPersistence","Starting transaction:",e);var i=new gk(this.es.next());return this.referenceDelegate.ji(),n(i).next((function(e){return r.referenceDelegate.Wi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"zi",value:function(e,t){return Mg.or(Object.values(this.Gi).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),gk=function(e){pi(n,e);var t=gi(n);function n(e){var r;return Vr(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Br(n)}(Lg),kk=function(){function e(t){Vr(this,e),this.persistence=t,this.Hi=new hk,this.Ji=null}return Br(e,[{key:"Xi",get:function(){if(this.Ji)return this.Ji;throw Cd()}},{key:"addReference",value:function(e,t,n){return this.Hi.addReference(n,t),this.Xi.delete(n.toString()),Mg.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Hi.removeReference(n,t),this.Xi.add(n.toString()),Mg.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Xi.add(t.toString()),Mg.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Hi.vi(t.targetId).forEach((function(e){return n.Xi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Xi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ji",value:function(){this.Ji=new Set}},{key:"Wi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Mg.forEach(this.Xi,(function(r){var i=yy.fromPath(r);return t.Zi(e,i).next((function(e){e||n.removeEntry(i,$d.min())}))})).next((function(){return t.Ji=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Zi(e,t).next((function(e){e?n.Xi.delete(t.toString()):n.Xi.add(t.toString())}))}},{key:"Qi",value:function(e){return 0}},{key:"Zi",value:function(e,t){var n=this;return Mg.or([function(){return Mg.resolve(n.Hi.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.zi(e,t)}])}}],[{key:"Yi",value:function(t){return new e(t)}}]),e}();var bk=function(){function e(){Vr(this,e),this.activeTargetIds=pg()}return Br(e,[{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"sr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"er",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),wk=function(){function e(){Vr(this,e),this.Ur=new bk,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Br(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Ur.nr(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Ur.sr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Ur.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Ur=new bk,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),_k=function(){function e(){Vr(this,e)}return Br(e,[{key:"Kr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Ek=function(){function e(){var t=this;Vr(this,e),this.Gr=function(){return t.Qr()},this.jr=function(){return t.Wr()},this.zr=[],this.Hr()}return Br(e,[{key:"Kr",value:function(e){this.zr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}},{key:"Hr",value:function(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}},{key:"Qr",value:function(){Id("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Mi(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Wr",value:function(){Id("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Mi(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),xk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Tk=function(){function e(t){Vr(this,e),this.Jr=t.Jr,this.Yr=t.Yr}return Br(e,[{key:"Xr",value:function(e){this.Zr=e}},{key:"eo",value:function(e){this.no=e}},{key:"onMessage",value:function(e){this.so=e}},{key:"close",value:function(){this.Yr()}},{key:"send",value:function(e){this.Jr(e)}},{key:"io",value:function(){this.Zr()}},{key:"ro",value:function(e){this.no(e)}},{key:"oo",value:function(e){this.so(e)}}]),e}(),Ik=function(e){pi(n,e);var t=gi(n);function n(e){var r;return Vr(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Br(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new bd;o.listenOnce(dd.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case vd.NO_ERROR:var t=o.getResponseJson();Id("Connection","XHR received:",JSON.stringify(t)),i(t);break;case vd.TIMEOUT:Id("Connection",'RPC "'+e+'" timed out'),a(new Fd(Rd.DEADLINE_EXCEEDED,"Request time out"));break;case vd.HTTP_ERROR:var n=o.getStatus();if(Id("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Rd).indexOf(t)>=0?t:Rd.UNKNOWN}(r.status);a(new Fd(s,r.message))}else a(new Fd(Rd.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Fd(Rd.UNAVAILABLE,"Connection failed."));break;default:Cd()}}finally{Id("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=fd(),a=pd(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new gd({})),this.lo(o.initMessageHeaders,t,n),Ha()||Ka()||qa().indexOf("Electron/")>=0||Wa()||qa().indexOf("MSAppHost/")>=0||Ga()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");Id("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,h=new Tk({Jr:function(e){l?Id("Connection","Not sending because WebChannel is closed:",e):(c||(Id("Connection","Opening WebChannel transport."),u.open(),c=!0),Id("Connection","WebChannel sending:",e),u.send(e))},Yr:function(){return u.close()}}),f=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(u,kd.EventType.OPEN,(function(){l||Id("Connection","WebChannel transport opened.")})),f(u,kd.EventType.CLOSE,(function(){l||(l=!0,Id("Connection","WebChannel transport closed"),h.ro())})),f(u,kd.EventType.ERROR,(function(e){l||(l=!0,Ad("Connection","WebChannel transport errored:",e),h.ro(new Fd(Rd.UNAVAILABLE,"The operation could not be completed")))})),f(u,kd.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Nd(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Id("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Ym[e];if(void 0!==t)return ng(t)}(a),s=i.message;void 0===o&&(o=Rd.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,h.ro(new Fd(o,s)),u.close()}else Id("Connection","WebChannel received:",n),h.oo(n)}})),f(a,yd.STAT_EVENT,(function(e){e.stat===md.PROXY?Id("Connection","Detected buffering proxy"):e.stat===md.NOPROXY&&Id("Connection","Detected no buffering proxy")})),setTimeout((function(){h.io()}),0),h}}]),n}(function(){function e(t){Vr(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.uo=n+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Br(e,[{key:"co",value:function(e,t,n,r,i){var a=this.ho(e,t);Id("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return Id("RestConnection","Received: ",e),e}),(function(t){throw Ad("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i){return this.co(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ed,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=xk[e];return"".concat(this.uo,"/v1/").concat(t,":").concat(n)}}]),e}());function Sk(){return"undefined"!=typeof document?document:null}function Ak(e){return new vg(e,!0)}var Ok=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Vr(this,e),this.Yn=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return Br(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&Id("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),Ck=function(){function e(t,n,r,i,a,o,s,u){Vr(this,e),this.Yn=t,this.Vo=r,this.vo=i,this.So=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new Ok(t,n)}return Br(e,[{key:"ko",value:function(){return 1===this.state||5===this.state||this.Mo()}},{key:"Mo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=(0,ja.Z)(La().mark((function e(){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.ko(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.state=0,this.No.reset()}},{key:"$o",value:function(){var e=this;this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,(function(){return e.Bo()})))}},{key:"Lo",value:function(e){this.Uo(),this.stream.send(e)}},{key:"Bo",value:function(){var e=(0,ja.Z)(La().mark((function e(){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Mo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"qo",value:function(){this.xo&&(this.xo.cancel(),this.xo=null)}},{key:"close",value:function(){var e=(0,ja.Z)(La().mark((function e(t,n){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Uo(),this.qo(),this.No.cancel(),this.Do++,4!==t?this.No.reset():n&&n.code===Rd.RESOURCE_EXHAUSTED?(Sd(n.toString()),Sd("Using maximum backoff delay to prevent overloading the backend."),this.No.Ao()):n&&n.code===Rd.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Ko(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.eo(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Ko",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=(0,Pi.Z)(t,2),i=r[0],a=r[1];e.Do===n&&e.Qo(i,a)}),(function(n){t((function(){var t=new Fd(Rd.UNKNOWN,"Fetching auth token failed: "+n.message);return e.jo(t)}))}))}},{key:"Qo",value:function(e,t){var n=this,r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr((function(){r((function(){return n.state=2,n.xo=n.Yn.enqueueAfterDelay(n.vo,1e4,(function(){return n.Mo()&&(n.state=3),Promise.resolve()})),n.listener.Xr()}))})),this.stream.eo((function(e){r((function(){return n.jo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.No.Ro((0,ja.Z)(La().mark((function t(){return La().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"jo",value:function(e){return Id("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Go",value:function(e){var t=this;return function(n){t.Yn.enqueueAndForget((function(){return t.Do===e?n():(Id("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Nk=function(e){pi(n,e);var t=gi(n);function n(e,r,i,a,o,s){var u;return Vr(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).M=o,u.Yo=!1,u}return Br(n,[{key:"Xo",get:function(){return this.Yo}},{key:"start",value:function(){this.Yo=!1,this.lastStreamToken=void 0,ta(vi(n.prototype),"start",this).call(this)}},{key:"Ko",value:function(){this.Yo&&this.Zo([])}},{key:"Wo",value:function(e,t){return this.So.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(Nd(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();var t=function(e,t){return e&&e.length>0?(Nd(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?gg(e.updateTime):gg(t);return n.isEqual($d.min())&&(n=gg(t)),new Lm(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=gg(e.commitTime);return this.listener.tu(n,t)}return Nd(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}},{key:"nu",value:function(){var e={};e.database=Eg(this.M),this.Lo(e)}},{key:"Zo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Ig(t.M,e)}))};this.Lo(n)}}]),n}(Ck),Dk=function(e){pi(n,e);var t=gi(n);function n(e,r,i,a){var o;return Vr(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.So=i,o.M=a,o.su=!1,o}return Br(n,[{key:"iu",value:function(){if(this.su)throw new Fd(Rd.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=(0,Pi.Z)(i,2),o=a[0],s=a[1];return r.So.co(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Rd.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Fd(Rd.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n){var r=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=(0,Pi.Z)(i,2),o=a[0],s=a[1];return r.So._o(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Rd.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Fd(Rd.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.su=!0}}]),n}(function(){return Br((function e(){Vr(this,e)}))}()),Rk=function(){function e(t,n){Vr(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}return Br(e,[{key:"au",value:function(){var e=this;0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ou=null,e.hu("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"lu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"hu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.uu?(Sd(t),this.uu=!1):Id("OnlineStateTracker",t)}},{key:"fu",value:function(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}]),e}(),Fk=Br((function e(t,n,r,i,a){var o=this;Vr(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=a,this.gu.Kr((function(e){r.enqueueAndForget((0,ja.Z)(La().mark((function e(){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Uk(o),!e.t0){e.next=5;break}return Id("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=(0,ja.Z)(La().mark((function e(t){var n;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Dd(t)).wu.add(4),e.next=4,Lk(n);case 4:return n.yu.set("Unknown"),n.wu.delete(4),e.next=8,jk(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.yu=new Rk(r,i)}));function jk(e){return Pk.apply(this,arguments)}function Pk(){return Pk=(0,ja.Z)(La().mark((function e(t){var n,r,i;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Uk(t)){e.next=18;break}n=Mi(t.mu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Pk.apply(this,arguments)}function Lk(e){return Mk.apply(this,arguments)}function Mk(){return Mk=(0,ja.Z)(La().mark((function e(t){var n,r,i;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Mi(t.mu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Mk.apply(this,arguments)}function Uk(e){return 0===Dd(e).wu.size}function Vk(e,t,n){return Zk.apply(this,arguments)}function Zk(){return Zk=(0,ja.Z)(La().mark((function e(t,n,r){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ug(n)){e.next=2;break}throw n;case 2:return t.wu.add(1),e.next=5,Lk(t);case 5:t.yu.set("Offline"),r||(r=function(){return sk(t.localStore)}),t.asyncQueue.enqueueRetryable((0,ja.Z)(La().mark((function e(){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Id("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.wu.delete(1),e.next=6,jk(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Zk.apply(this,arguments)}function Bk(e,t){return t().catch((function(n){return Vk(e,n,t)}))}function zk(e){return qk.apply(this,arguments)}function qk(){return qk=(0,ja.Z)(La().mark((function e(t){var n,r,i,a;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Dd(t),r=sb(n),i=n.du.length>0?n.du[n.du.length-1].batchId:-1;case 2:if(!Hk(n)){e.next=19;break}return e.prev=3,e.next=6,uk(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.du.length&&r.$o(),e.abrupt("break",19);case 10:i=a.batchId,Gk(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Vk(n,e.t0);case 17:e.next=2;break;case 19:Kk(n)&&Wk(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),qk.apply(this,arguments)}function Hk(e){return Uk(e)&&e.du.length<10}function Gk(e,t){e.du.push(t);var n=sb(e);n.Mo()&&n.Xo&&n.Zo(t.mutations)}function Kk(e){return Uk(e)&&!sb(e).ko()&&e.du.length>0}function Wk(e){sb(e).start()}function $k(e){return Xk.apply(this,arguments)}function Xk(){return Xk=(0,ja.Z)(La().mark((function e(t){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:sb(t).nu();case 1:case"end":return e.stop()}}),e)}))),Xk.apply(this,arguments)}function Yk(e){return Jk.apply(this,arguments)}function Jk(){return Jk=(0,ja.Z)(La().mark((function e(t){var n,r,i,a;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=sb(t),r=Mi(t.du);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Zo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Jk.apply(this,arguments)}function Qk(e,t,n){return eb.apply(this,arguments)}function eb(){return eb=(0,ja.Z)(La().mark((function e(t,n,r){var i,a;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.du.shift(),a=Zg.from(i,n,r),e.next=3,Bk(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,zk(t);case 5:case"end":return e.stop()}}),e)}))),eb.apply(this,arguments)}function tb(e,t){return nb.apply(this,arguments)}function nb(){return nb=(0,ja.Z)(La().mark((function e(t,n){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&sb(t).Xo,!e.t0){e.next=4;break}return e.next=4,function(){var e=(0,ja.Z)(La().mark((function e(t,n){var r,i;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!tg(i=n.code)||i===Rd.ABORTED){e.next=7;break}return r=t.du.shift(),sb(t).Fo(),e.next=5,Bk(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,zk(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Kk(t)&&Wk(t);case 5:case"end":return e.stop()}}),e)}))),nb.apply(this,arguments)}function rb(e,t){return ib.apply(this,arguments)}function ib(){return ib=(0,ja.Z)(La().mark((function e(t,n){var r,i;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Dd(t)).asyncQueue.verifyOperationInProgress(),Id("RemoteStore","RemoteStore received new credentials"),i=Uk(r),r.wu.add(3),e.next=6,Lk(r);case 6:return i&&r.yu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.wu.delete(3),e.next=12,jk(r);case 12:case"end":return e.stop()}}),e)}))),ib.apply(this,arguments)}function ab(e,t){return ob.apply(this,arguments)}function ob(){return ob=(0,ja.Z)(La().mark((function e(t,n){var r;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Dd(t),!n){e.next=7;break}return r.wu.delete(2),e.next=5,jk(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.wu.add(2),e.next=12,Lk(r);case 12:r.yu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),ob.apply(this,arguments)}function sb(e){return e.Tu||(e.Tu=function(e,t,n){var r=Dd(e);return r.iu(),new Nk(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Xr:$k.bind(null,e),eo:tb.bind(null,e),eu:Yk.bind(null,e),tu:Qk.bind(null,e)}),e.mu.push(function(){var t=(0,ja.Z)(La().mark((function t(n){return La().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Tu.Fo(),t.next=4,zk(e);case 4:t.next=9;break;case 6:return t.next=8,e.Tu.stop();case 8:e.du.length>0&&(Id("RemoteStore","Stopping write stream with ".concat(e.du.length," pending writes")),e.du=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Tu}var ub=function(){function e(t,n,r,i,a){Vr(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new jd,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Br(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fd(Rd.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function cb(e,t){if(Sd("AsyncQueue","".concat(t,": ").concat(e)),Ug(e))return new Fd(Rd.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var lb=Br((function e(){Vr(this,e),this.queries=new rg((function(e){return mm(e)}),ym),this.onlineState="Unknown",this.bu=new Set}));function hb(e){e.bu.forEach((function(e){e.next()}))}var fb=function(){function e(t,n,r,i,a,o){Vr(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sa={},this.ia=new rg((function(e){return mm(e)}),ym),this.ra=new Map,this.oa=new Set,this.ua=new My(yy.comparator),this.aa=new Map,this.ca=new hk,this.ha={},this.la=new Map,this.fa=$g.yn(),this.onlineState="Unknown",this.da=void 0}return Br(e,[{key:"isPrimaryClient",get:function(){return!0===this.da}}]),e}();function pb(e,t,n){return vb.apply(this,arguments)}function vb(){return vb=(0,ja.Z)(La().mark((function e(t,n,r){var i,a,o;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ib(t),e.prev=1,e.next=4,function(e,t){var n,r=Dd(e),i=Wd.now(),a=t.reduce((function(e,t){return e.add(t.key)}),hg());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.fi.Ks(e,a).next((function(a){n=a;var o,s=[],u=Mi(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=zm(c,n.get(c.key));null!=l&&s.push(new Km(c.key,l,Ny(l.value.mapValue),Mm.exists(!0)))}}catch(h){u.e(h)}finally{u.f()}return r.Bs.addMutationBatch(e,i,s,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ha[e.currentUser.toKey()];r||(r=new My(Gd)),r=r.insert(t,n),e.ha[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,_b(i,a.changes);case 9:return e.next=11,zk(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=cb(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),vb.apply(this,arguments)}function db(e,t,n){var r=Dd(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ia.forEach((function(e,n){var r=n.view.Pu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Dd(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Mi(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Pu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&hb(n)}(r.eventManager,t),i.length&&r.sa.zo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function yb(e,t){return mb.apply(this,arguments)}function mb(){return mb=(0,ja.Z)(La().mark((function e(t,n){var r,i,a;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Dd(t),i=n.batch.batchId,e.prev=1,e.next=4,ok(r.localStore,n);case 4:return a=e.sent,wb(r,i,null),bb(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,_b(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Xg(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),mb.apply(this,arguments)}function gb(e,t,n){return kb.apply(this,arguments)}function kb(){return kb=(0,ja.Z)(La().mark((function e(t,n,r){var i,a;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Dd(t),e.prev=1,e.next=4,function(e,t){var n=Dd(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Bs.lookupMutationBatch(e,t).next((function(t){return Nd(null!==t),r=t.keys(),n.Bs.removeMutationBatch(e,t)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.fi.Ks(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,wb(i,n,r),bb(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,_b(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Xg(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),kb.apply(this,arguments)}function bb(e,t){(e.la.get(t)||[]).forEach((function(e){e.resolve()})),e.la.delete(t)}function wb(e,t,n){var r=Dd(e),i=r.ha[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ha[r.currentUser.toKey()]=i}}function _b(e,t,n){return Eb.apply(this,arguments)}function Eb(){return Eb=(0,ja.Z)(La().mark((function e(t,n,r){var i,a,o,s;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Dd(t),a=[],o=[],s=[],e.t0=i.ia.isEmpty(),e.t0){e.next=9;break}return i.ia.forEach((function(e,t){s.push(i._a(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=ek.Ys(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.sa.zo(a),e.next=9,function(){var e=(0,ja.Z)(La().mark((function e(t,n){var r,i,a,o,s,u,c,l;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Dd(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Mg.forEach(n,(function(t){return Mg.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Mg.forEach(t.Js,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Ug(e.t0)){e.next=10;break}throw e.t0;case 10:Id("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Mi(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.ui.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.ui=r.ui.insert(s,l))}catch(h){i.e(h)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Eb.apply(this,arguments)}function xb(e,t){return Tb.apply(this,arguments)}function Tb(){return Tb=(0,ja.Z)(La().mark((function e(t,n){var r,i;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Dd(t)).currentUser.isEqual(n)){e.next=11;break}return Id("SyncEngine","User change. New user:",n.toKey()),e.next=5,ik(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.la.forEach((function(e){e.forEach((function(e){e.reject(new Fd(Rd.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.la.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,_b(r,i.di);case 11:case"end":return e.stop()}}),e)}))),Tb.apply(this,arguments)}function Ib(e){var t=Dd(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=yb.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=gb.bind(null,t),t}var Sb=function(){function e(){Vr(this,e),this.synchronizeTabs=!1}return Br(e,[{key:"initialize",value:function(){var e=(0,ja.Z)(La().mark((function e(t){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=Ak(t.databaseInfo.databaseId),this.sharedClientState=this.ga(t),this.persistence=this.ya(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.pa(t),this.localStore=this.Ia(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pa",value:function(e){return null}},{key:"Ia",value:function(e){return rk(this.persistence,new tk,e.initialUser,this.M)}},{key:"ya",value:function(e){return new mk(kk.Yi,this.M)}},{key:"ga",value:function(e){return new wk}},{key:"terminate",value:function(){var e=(0,ja.Z)(La().mark((function e(){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ab=function(){function e(){Vr(this,e)}return Br(e,[{key:"initialize",value:function(){var e=(0,ja.Z)(La().mark((function e(t,n){var r=this;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return db(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=xb.bind(null,this.syncEngine),e.next=12,ab(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new lb}},{key:"createDatastore",value:function(e){var t,n=Ak(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Ik(t));return function(e,t,n,r){return new Dk(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return db(o.syncEngine,e,0)},a=Ek.vt()?new Ek:new _k,new Fk(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new fb(e,t,n,r,i,a);return o&&(s.da=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=(0,ja.Z)(La().mark((function e(t){var n;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Dd(t),Id("RemoteStore","RemoteStore shutting down."),n.wu.add(5),e.next=5,Lk(n);case 5:n.gu.shutdown(),n.yu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var Ob=function(){function e(t,n,r,i){var a=this;Vr(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=_d.UNAUTHENTICATED,this.clientId=Hd.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=(0,ja.Z)(La().mark((function e(t){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Id("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Id("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Br(e,[{key:"getConfiguration",value:function(){var e=(0,ja.Z)(La().mark((function e(){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Fd(Rd.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new jd;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ja.Z)(La().mark((function n(){var r;return La().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=cb(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Cb(e,t){return Nb.apply(this,arguments)}function Nb(){return Nb=(0,ja.Z)(La().mark((function e(t,n){var r,i;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Id("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=(0,ja.Z)(La().mark((function e(t){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,ik(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Nb.apply(this,arguments)}function Db(e,t){return Rb.apply(this,arguments)}function Rb(){return Rb=(0,ja.Z)(La().mark((function e(t,n){var r,i;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Fb(t);case 3:return r=e.sent,Id("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return rb(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return rb(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Rb.apply(this,arguments)}function Fb(e){return jb.apply(this,arguments)}function jb(){return jb=(0,ja.Z)(La().mark((function e(t){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Id("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Cb(t,new Sb);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),jb.apply(this,arguments)}function Pb(e){return Lb.apply(this,arguments)}function Lb(){return Lb=(0,ja.Z)(La().mark((function e(t){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Id("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Db(t,new Ab);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),Lb.apply(this,arguments)}function Mb(e){return Pb(e).then((function(e){return e.syncEngine}))}var Ub=new Map;function Vb(e,t,n){if(!n)throw new Fd(Rd.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Zb(e){if(!yy.isDocumentKey(e))throw new Fd(Rd.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Bb(e){if(yy.isDocumentKey(e))throw new Fd(Rd.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function zb(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Cd()}function qb(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Fd(Rd.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=zb(e);throw new Fd(Rd.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var Hb=function(){function e(t){var n;if(Vr(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Fd(Rd.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Fd(Rd.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new Fd(Rd.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Br(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Gb=function(){function e(t,n,r){Vr(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hb({}),this._settingsFrozen=!1,t instanceof fy?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Fd(Rd.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fy(e.options.projectId)}(t))}return Br(e,[{key:"app",get:function(){if(!this._app)throw new Fd(Rd.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Fd(Rd.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hb(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ld;switch(e.type){case"gapi":var t=e.client;return Nd(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Vd(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Fd(Rd.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Ub.get(e);t&&(Id("ComponentProvider","Removing Datastore"),Ub.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();var Kb=function(){function e(t,n,r){Vr(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Br(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new $b(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Wb=function(){function e(t,n,r){Vr(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Br(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),$b=function(e){pi(n,e);var t=gi(n);function n(e,r,i){var a;return Vr(this,n),(a=t.call(this,e,r,cm(i)))._path=i,a.type="collection",a}return Br(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Kb(this.firestore,null,new yy(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Wb);function Xb(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=oo(e),Vb("collection","path",t),e instanceof Gb){var a=ey.fromString.apply(ey,[t].concat(r));return Bb(a),new $b(e,null,a)}if(!(e instanceof Kb||e instanceof $b))throw new Fd(Rd.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ey.fromString.apply(ey,[t].concat(r)));return Bb(o),new $b(e.firestore,null,o)}var Yb=function(){function e(){var t=this;Vr(this,e),this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new Ok(this,"async_queue_retry"),this.Qa=function(){var e=Sk();e&&Id("AsyncQueue","Visibility state changed to "+e.visibilityState),t.No.Po()};var n=Sk();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Qa)}return Br(e,[{key:"isShuttingDown",get:function(){return this.Ba}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.ja(),this.Wa(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;var t=Sk();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}},{key:"enqueue",value:function(e){var t=this;if(this.ja(),this.Ba)return new Promise((function(){}));var n=new jd;return this.Wa((function(){return t.Ba&&t.Ka?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.$a.push(e),t.za()}))}},{key:"za",value:function(){var e=(0,ja.Z)(La().mark((function e(){var t=this;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.$a.length){e.next=14;break}return e.prev=1,e.next=4,this.$a[0]();case 4:this.$a.shift(),this.No.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Ug(e.t0)){e.next=12;break}throw e.t0;case 12:Id("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.$a.length>0&&this.No.Ro((function(){return t.za()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Wa",value:function(e){var t=this,n=this.Fa.then((function(){return t.qa=!0,e().catch((function(e){t.Ua=e,t.qa=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Sd("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.qa=!1,e}))}));return this.Fa=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.ja(),this.Ga.indexOf(e)>-1&&(t=0);var i=ub.createAndSchedule(this,e,t,n,(function(e){return r.Ha(e)}));return this.La.push(i),i}},{key:"ja",value:function(){this.Ua&&Cd()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Ja",value:function(){var e=(0,ja.Z)(La().mark((function e(){var t;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Fa,e.next=3,t;case 3:if(t!==this.Fa){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ya",value:function(e){var t,n=Mi(this.La);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Xa",value:function(e){var t=this;return this.Ja().then((function(){t.La.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Mi(t.La);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Ja()}))}},{key:"Za",value:function(e){this.Ga.push(e)}},{key:"Ha",value:function(e){var t=this.La.indexOf(e);this.La.splice(t,1)}}]),e}();var Jb=function(e){pi(n,e);var t=gi(n);function n(e,r,i){var a;return Vr(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new Yb,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return Br(n,[{key:"_terminate",value:function(){return this._firestoreClient||ew(this),this._firestoreClient.terminate()}}]),n}(Gb);function Qb(e){return e._firestoreClient||ew(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ew(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new hy(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Ob(e._authCredentials,e._appCheckCredentials,e._queue,r)}var tw=function(){function e(){Vr(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Fd(Rd.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ny(n)}return Br(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var nw=function(){function e(t){Vr(this,e),this._byteString=t}return Br(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(iy.fromBase64String(t))}catch(t){throw new Fd(Rd.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(iy.fromUint8Array(t))}}]),e}(),rw=Br((function e(t){Vr(this,e),this._methodName=t})),iw=function(){function e(t,n){if(Vr(this,e),!isFinite(t)||t<-90||t>90)throw new Fd(Rd.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Fd(Rd.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Br(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Gd(this._lat,e._lat)||Gd(this._long,e._long)}}]),e}(),aw=/^__.*__$/,ow=function(){function e(t,n,r){Vr(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Br(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Km(e,this.data,this.fieldMask,t,this.fieldTransforms):new Gm(e,this.data,t,this.fieldTransforms)}}]),e}();function sw(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Cd()}}var uw=function(){function e(t,n,r,i,a,o){Vr(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.tc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Br(e,[{key:"path",get:function(){return this.settings.path}},{key:"ec",get:function(){return this.settings.ec}},{key:"nc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"sc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:n,ic:!1});return r.rc(e),r}},{key:"oc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:n,ic:!1});return r.tc(),r}},{key:"uc",value:function(e){return this.nc({path:void 0,ic:!0})}},{key:"ac",value:function(e){return kw(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"tc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.rc(this.path.get(e))}},{key:"rc",value:function(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(sw(this.ec)&&aw.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}]),e}(),cw=function(){function e(t,n,r){Vr(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||Ak(t)}return Br(e,[{key:"lc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new uw({ec:e,methodName:t,hc:n,path:ny.emptyPath(),ic:!1,cc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function lw(e){var t=e._freezeSettings(),n=Ak(e._databaseId);return new cw(e._databaseId,!!t.ignoreUndefinedProperties,n)}function hw(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.lc(a.merge||a.mergeFields?2:0,t,n,i);dw("Data must be an object, but it was:",o,r);var s,u,c=pw(r,o);if(a.merge)s=new ry(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,h=[],f=Mi(a.mergeFields);try{for(f.s();!(l=f.n()).done;){var p=l.value,v=yw(t,p,n);if(!o.contains(v))throw new Fd(Rd.INVALID_ARGUMENT,"Field '".concat(v,"' is specified in your field mask but missing from your input data."));bw(h,v)||h.push(v)}}catch(d){f.e(d)}finally{f.f()}s=new ry(h),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new ow(new Cy(c),s,u)}function fw(e,t){if(vw(e=oo(e)))return dw("Unsupported field value:",t,e),pw(e,t);if(e instanceof rw)return function(e,t){if(!sw(t.ec))throw t.ac("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ac("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ic&&4!==t.ec)throw t.ac("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Mi(e);try{for(a.s();!(n=a.n()).done;){var o=fw(n.value,t.uc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=oo(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return xm(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Wd.fromDate(e);return{timestampValue:dg(t.M,n)}}if(e instanceof Wd){var r=new Wd(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:dg(t.M,r)}}if(e instanceof iw)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof nw)return{bytesValue:yg(t.M,e._byteString)};if(e instanceof Kb){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ac("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:kg(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ac("Unsupported field value: ".concat(zb(e)))}(e,t)}function pw(e,t){var n={};return Jd(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Yd(e,(function(e,r){var i=fw(r,t.sc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function vw(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Wd||e instanceof iw||e instanceof nw||e instanceof Kb||e instanceof rw)}function dw(e,t,n){if(!vw(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=zb(n);throw"an object"===r?t.ac(e+" a custom object"):t.ac(e+" "+r)}}function yw(e,t,n){if((t=oo(t))instanceof tw)return t._internalPath;if("string"==typeof t)return gw(e,t);throw kw("Field path arguments must be of type string or ",e,!1,void 0,n)}var mw=new RegExp("[~\\*/\\[\\]]");function gw(e,t,n){if(t.search(mw)>=0)throw kw("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return ki(tw,(0,Ur.Z)(t.split(".")))._internalPath}catch(r){throw kw("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function kw(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Fd(Rd.INVALID_ARGUMENT,s+e+u)}function bw(e,t){return e.some((function(e){return e.isEqual(t)}))}function ww(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}function _w(e,t){var n=qb(e.firestore,Jb),r=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=oo(e),1===arguments.length&&(t=Hd.R()),Vb("doc","path",t),e instanceof Gb){var a=ey.fromString.apply(ey,[t].concat(r));return Zb(a),new Kb(e,null,new yy(a))}if(!(e instanceof Kb||e instanceof $b))throw new Fd(Rd.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ey.fromString.apply(ey,[t].concat(r)));return Zb(o),new Kb(e.firestore,e instanceof $b?e.converter:null,new yy(o))}(e),i=ww(e.converter,t);return Ew(n,[hw(lw(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Mm.exists(!1))]).then((function(){return r}))}function Ew(e,t){return function(e,t){var n=new jd;return e.asyncQueue.enqueueAndForget((0,ja.Z)(La().mark((function r(){return La().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=pb,r.next=3,Mb(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Qb(e),t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Ed="9.8.1",Ko(new so("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new Jb(i,new Md(e.getProvider("auth-internal")),new Bd(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),es(wd,"3.4.9",e),es(wd,"3.4.9","esm2017")}();var xw=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Bo,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Xo.create("bad-app-name",{appName:String(i)});var a=qo.get(i);if(a){if(Qa(e,a.options)&&Qa(r,a.config))return a;throw Xo.create("duplicate-app",{appName:i})}var o,s=new fo(i),u=Mi(Ho.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(h){u.e(h)}finally{u.f()}var l=new Yo(e,r,s);return qo.set(i,l),l}({apiKey:"AIzaSyCexNwHPGURyPRYiwj0FAkUNaty6dGOdm8",authDomain:"eccomerce-app-2d526.firebaseapp.com",projectId:"eccomerce-app-2d526",storageBucket:"eccomerce-app-2d526.appspot.com",messagingSenderId:"624840179034",appId:"1:624840179034:web:651fc6218c7c16ecee4763",measurementId:"G-9SEJBD31KH"}),Tw=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qo();return Wo(e,"firestore").getImmediate()}(xw),Iw=(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qo(),t=Wo(e,"auth");t.isInitialized()?t.getImmediate():Ns(e,{popupRedirectResolver:th,persistence:[Qc,Ac,Cc]})}(xw),function(){var e=(0,ja.Z)(La().mark((function e(t,n){var r;return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_w(Xb(Tw,"".concat(n)),(0,Fa.Z)({},t));case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(new Error(e.t0)));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),Sw=n(3876),Aw=n(184),Ow=Ca({name:sa().required("Name is required").min(3,"Name is too short").max(30,"Name is too long"),email:sa().email("This must be an email").required("Password is required"),subject:sa().min(12,"Subject is too short").max(200,"Subject is too long").required("Subject is required"),message:sa().min(25,"Message is too short").required("Message is required")}),Cw={name:"",email:"",subject:"",message:""},Nw=function(){var e=function(e,t){return t||e?t&&e?"input--error":!t&&e?"input--successfull":void 0:"input--ok"};return(0,Aw.jsxs)("div",{children:[(0,Aw.jsx)("h1",{className:"contact-header",children:"Get In Touch"}),(0,Aw.jsx)("p",{className:"max-w-[34.375rem] contact-text mt-5",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mattis neque ultrices tristique amet erat vitae eget dolor los vitae lobortis quis bibendum quam."}),(0,Aw.jsx)(xr,{initialValues:Cw,onSubmit:function(e,t){var n=t.resetForm;!function(e){var t=Iw(e,"support-messages");Sw.Am.promise(t,{pending:"Your message is being sent...",success:"Your message was sent",error:"Your message wasn't sent"})}(e),n()},validationSchema:Ow,validateOnBlur:!0,children:function(t){var n=t.errors,r=t.touched,i=t.isValid,a=t.dirty,o=t.values;return(0,Aw.jsxs)(Cr,{className:"mt-10 max-w-[34.375rem]",children:[(0,Aw.jsxs)("div",{className:"mb-5 flex tn:flex-row flex-col gap-y-5 tn:gap-y-0 tn:gap-x-6",children:[(0,Aw.jsxs)("div",{className:"input-error-container",children:[(0,Aw.jsx)(Or,{id:"name",name:"name",placeholder:"Your Name*",value:o.name,className:"input ".concat(e(r.name,n.name)),required:!0}),(0,Aw.jsx)(Mr,{name:"name",component:"span",className:"input-error-msg"})]}),(0,Aw.jsxs)("div",{className:"input-error-container",children:[(0,Aw.jsx)(Or,{id:"email",name:"email",placeholder:"Your Email*",value:o.email,className:"input ".concat(e(r.email,n.email)),required:!0}),(0,Aw.jsx)(Mr,{name:"email",component:"span",className:"input-error-msg"})]})]}),(0,Aw.jsxs)("div",{children:[(0,Aw.jsxs)("div",{className:"input-error-container",children:[(0,Aw.jsx)(Or,{id:"subject",name:"subject",placeholder:"Subject*",value:o.subject,className:"input ".concat(e(r.subject,n.subject)),required:!0}),(0,Aw.jsx)(Mr,{name:"subject",component:"span",className:"input-error-msg"})]}),(0,Aw.jsxs)("div",{className:"input-error-container mt-5",children:[(0,Aw.jsx)(Or,{id:"message",as:"textarea",name:"message",placeholder:"Type Your Message*",required:!0,value:o.message,className:"contact-textarea ".concat(e(r.message,n.message))}),(0,Aw.jsx)(Mr,{name:"message",component:"span",className:"input-error-msg"})]})]}),(0,Aw.jsx)(Ra.z,{className:"mt-4 font-josefin-sans",type:"submit",disabled:!(a&&i),children:"Send Mail"})]})}})]})},Dw=function(){return(0,Aw.jsxs)("div",{children:[(0,Aw.jsx)(i.c,{link:"contact",children:"Contact Us"}),(0,Aw.jsxs)("section",{className:"main-container flex flex-col",children:[(0,Aw.jsxs)("div",{className:"flex sm:flex-row flex-col gap-x-14 xl:gap-x-28 mb-[7.5rem] xl:gap-y-0 gap-y-9",children:[(0,Aw.jsxs)("div",{className:"xl:max-w-[34.375rem] flex-1",children:[(0,Aw.jsx)("h1",{className:"contact-header",children:"Information About us"}),(0,Aw.jsx)("p",{className:"contact-text mt-3",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mattis neque ultrices mattis aliquam, malesuada diam est. Malesuada sem tristique amet erat vitae eget dolor lobortis. Accumsan faucibus vitae lobortis quis bibendum quam."}),(0,Aw.jsxs)("div",{className:"flex mt-[70px] gap-x-3",children:[(0,Aw.jsx)("div",{className:"contact-color-sm bg-color-circles-violet"}),(0,Aw.jsx)("div",{className:"contact-color-sm bg-color-circles-pink"}),(0,Aw.jsx)("div",{className:"contact-color-sm bg-color-circles-turquoise"})]})]}),(0,Aw.jsxs)("div",{className:"flex-1 flex flex-col lg:items-start md:items-center items-start",children:[(0,Aw.jsx)("h1",{className:"contact-header",children:"Contact Way"}),(0,Aw.jsxs)("div",{className:"grid lg:grid-cols-2 lg:grid-rows-2 sm:grid-cols-1 tn:grid-cols-2 tn:grid-rows-2 grid-cols-1 gap-3 sm:gap-6 xl:gap-12 mt-7",children:[(0,Aw.jsxs)("div",{className:"flex",children:[(0,Aw.jsx)("div",{className:"tn1:contact-color-lg contact-color-sm bg-color-circles-violet mt-3 md:mt-0"}),(0,Aw.jsxs)("div",{className:"tn1:ml-4 ml-2",children:[(0,Aw.jsx)("a",{className:"contact-text block",href:"tel:877-67-88-99",children:"Tel: 877-67-88-99"}),(0,Aw.jsx)("a",{className:"contact-text block",href:"email:shop@store.com",children:"E-Mail: shop@store.com"})]})]}),(0,Aw.jsxs)("div",{className:"flex",children:[(0,Aw.jsx)("div",{className:"tn1:contact-color-lg contact-color-sm bg-color-circles-pink mt-3 md:mt-0"}),(0,Aw.jsxs)("div",{className:"tn1:ml-4 ml-2",children:[(0,Aw.jsx)("p",{className:"contact-text",children:"Support Forum"}),(0,Aw.jsx)("p",{className:"contact-text",children:"For over 24hr"})]})]}),(0,Aw.jsxs)("div",{className:"flex",children:[(0,Aw.jsx)("div",{className:"tn1:contact-color-lg contact-color-sm bg-color-circles-orange mt-3 md:mt-0"}),(0,Aw.jsxs)("div",{className:"tn1:ml-4 ml-2",children:[(0,Aw.jsx)("p",{className:"contact-text",children:"20 Margaret st, London"}),(0,Aw.jsx)("p",{className:"contact-text",children:"Great britain, 3NM98-LK"})]})]}),(0,Aw.jsxs)("div",{className:"flex",children:[(0,Aw.jsx)("div",{className:"tn1:contact-color-lg contact-color-sm bg-color-circles-green mt-3 md:mt-0"}),(0,Aw.jsxs)("div",{className:"tn1:ml-4 ml-2",children:[(0,Aw.jsx)("p",{className:"contact-text",children:"Free standard shipping"}),(0,Aw.jsx)("p",{className:"contact-text",children:"on all orders."})]})]})]})]})]}),(0,Aw.jsxs)("div",{className:"flex md:flex-row flex-col lg:gap-y-0 gap-y-4 items-center",children:[(0,Aw.jsx)(Nw,{}),(0,Aw.jsx)("img",{src:r,alt:"contact_img",className:"md:max-w-[50%]"})]})]})]})}},908:function(e,t,n){var r=n(8136)(n(7009),"DataView");e.exports=r},9676:function(e,t,n){var r=n(5403),i=n(2747),a=n(6037),o=n(4154),s=n(7728);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},8384:function(e,t,n){var r=n(3894),i=n(8699),a=n(4957),o=n(7184),s=n(7109);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},5797:function(e,t,n){var r=n(8136)(n(7009),"Map");e.exports=r},8059:function(e,t,n){var r=n(4086),i=n(9255),a=n(9186),o=n(3423),s=n(3739);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},8319:function(e,t,n){var r=n(8136)(n(7009),"Promise");e.exports=r},3924:function(e,t,n){var r=n(8136)(n(7009),"Set");e.exports=r},692:function(e,t,n){var r=n(8059),i=n(5774),a=n(1596);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=i,o.prototype.has=a,e.exports=o},2854:function(e,t,n){var r=n(8384),i=n(511),a=n(835),o=n(707),s=n(8832),u=n(5077);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=s,c.prototype.set=u,e.exports=c},7197:function(e,t,n){var r=n(7009).Symbol;e.exports=r},6219:function(e,t,n){var r=n(7009).Uint8Array;e.exports=r},7091:function(e,t,n){var r=n(8136)(n(7009),"WeakMap");e.exports=r},4903:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}},7538:function(e,t,n){var r=n(6478),i=n(4963),a=n(3629),o=n(5174),s=n(6800),u=n(9102),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),l=!n&&i(e),h=!n&&!l&&o(e),f=!n&&!l&&!h&&u(e),p=n||l||h||f,v=p?r(e.length,String):[],d=v.length;for(var y in e)!t&&!c.call(e,y)||p&&("length"==y||h&&("offset"==y||"parent"==y)||f&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||s(y,d))||v.push(y);return v}},8950:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},1705:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},2095:function(e){e.exports=function(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}},7897:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},4622:function(e){e.exports=function(e){return e.split("")}},240:function(e){var t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(t)||[]}},7112:function(e,t,n){var r=n(9231);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},2526:function(e,t,n){var r=n(8528);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},5099:function(e,t,n){var r=n(372)();e.exports=r},5358:function(e,t,n){var r=n(5099),i=n(2742);e.exports=function(e,t){return e&&r(e,t,i)}},8667:function(e,t,n){var r=n(3082),i=n(9793);e.exports=function(e,t){for(var n=0,a=(t=r(t,e)).length;null!=e&&n<a;)e=e[i(t[n++])];return n&&n==a?e:void 0}},1986:function(e,t,n){var r=n(1705),i=n(3629);e.exports=function(e,t,n){var a=t(e);return i(e)?a:r(a,n(e))}},9066:function(e,t,n){var r=n(7197),i=n(1587),a=n(3581),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):a(e)}},7852:function(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e,n){return null!=e&&t.call(e,n)}},529:function(e){e.exports=function(e,t){return null!=e&&t in Object(e)}},4906:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},1848:function(e,t,n){var r=n(3355),i=n(3141);e.exports=function e(t,n,a,o,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,a,o,e,s))}},3355:function(e,t,n){var r=n(2854),i=n(5305),a=n(2206),o=n(8078),s=n(8383),u=n(3629),c=n(5174),l=n(9102),h="[object Arguments]",f="[object Array]",p="[object Object]",v=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,d,y,m){var g=u(e),k=u(t),b=g?f:s(e),w=k?f:s(t),_=(b=b==h?p:b)==p,E=(w=w==h?p:w)==p,x=b==w;if(x&&c(e)){if(!c(t))return!1;g=!0,_=!1}if(x&&!_)return m||(m=new r),g||l(e)?i(e,t,n,d,y,m):a(e,t,b,n,d,y,m);if(!(1&n)){var T=_&&v.call(e,"__wrapped__"),I=E&&v.call(t,"__wrapped__");if(T||I){var S=T?e.value():e,A=I?t.value():t;return m||(m=new r),y(S,A,n,d,m)}}return!!x&&(m||(m=new r),o(e,t,n,d,y,m))}},8856:function(e,t,n){var r=n(2854),i=n(1848);e.exports=function(e,t,n,a){var o=n.length,s=o,u=!a;if(null==e)return!s;for(e=Object(e);o--;){var c=n[o];if(u&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<s;){var l=(c=n[o])[0],h=e[l],f=c[1];if(u&&c[2]){if(void 0===h&&!(l in e))return!1}else{var p=new r;if(a)var v=a(h,f,l,e,t,p);if(!(void 0===v?i(f,h,3,a,p):v))return!1}}return!0}},6703:function(e,t,n){var r=n(4786),i=n(257),a=n(8092),o=n(7907),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,h=c.hasOwnProperty,f=RegExp("^"+l.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||i(e))&&(r(e)?f:s).test(o(e))}},8150:function(e,t,n){var r=n(9066),i=n(4635),a=n(3141),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&i(e.length)&&!!o[r(e)]}},6025:function(e,t,n){var r=n(7080),i=n(4322),a=n(2100),o=n(3629),s=n(38);e.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?o(e)?i(e[0],e[1]):r(e):s(e)}},3654:function(e,t,n){var r=n(2936),i=n(8836),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},7080:function(e,t,n){var r=n(8856),i=n(9091),a=n(284);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},4322:function(e,t,n){var r=n(1848),i=n(6181),a=n(5658),o=n(5823),s=n(5072),u=n(284),c=n(9793);e.exports=function(e,t){return o(e)&&s(t)?u(c(e),t):function(n){var o=i(n,e);return void 0===o&&o===t?a(n,e):r(t,o,3)}}},9586:function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},4084:function(e,t,n){var r=n(8667);e.exports=function(e){return function(t){return r(t,e)}}},4632:function(e){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},2646:function(e){e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}},6478:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},2446:function(e,t,n){var r=n(7197),i=n(8950),a=n(3629),o=n(152),s=r?r.prototype:void 0,u=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return i(t,e)+"";if(o(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},6194:function(e){e.exports=function(e){return function(t){return e(t)}}},75:function(e){e.exports=function(e,t){return e.has(t)}},3082:function(e,t,n){var r=n(3629),i=n(5823),a=n(170),o=n(3518);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:a(o(e))}},9813:function(e,t,n){var r=n(2646);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},5525:function(e,t,n){var r=n(7009)["__core-js_shared__"];e.exports=r},372:function(e){e.exports=function(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var u=o[e?s:++i];if(!1===n(a[u],u,a))break}return t}}},322:function(e,t,n){var r=n(9813),i=n(7302),a=n(7580),o=n(3518);e.exports=function(e){return function(t){t=o(t);var n=i(t)?a(t):void 0,s=n?n[0]:t.charAt(0),u=n?r(n,1).join(""):t.slice(1);return s[e]()+u}}},7810:function(e,t,n){var r=n(2095),i=n(4857),a=n(5660),o=RegExp("['\u2019]","g");e.exports=function(e){return function(t){return r(a(i(t).replace(o,"")),e,"")}}},5868:function(e,t,n){var r=n(4632)({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"});e.exports=r},8528:function(e,t,n){var r=n(8136),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},5305:function(e,t,n){var r=n(692),i=n(7897),a=n(75);e.exports=function(e,t,n,o,s,u){var c=1&n,l=e.length,h=t.length;if(l!=h&&!(c&&h>l))return!1;var f=u.get(e),p=u.get(t);if(f&&p)return f==t&&p==e;var v=-1,d=!0,y=2&n?new r:void 0;for(u.set(e,t),u.set(t,e);++v<l;){var m=e[v],g=t[v];if(o)var k=c?o(g,m,v,t,e,u):o(m,g,v,e,t,u);if(void 0!==k){if(k)continue;d=!1;break}if(y){if(!i(t,(function(e,t){if(!a(y,t)&&(m===e||s(m,e,n,o,u)))return y.push(t)}))){d=!1;break}}else if(m!==g&&!s(m,g,n,o,u)){d=!1;break}}return u.delete(e),u.delete(t),d}},2206:function(e,t,n){var r=n(7197),i=n(6219),a=n(9231),o=n(5305),s=n(234),u=n(2230),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,h,f){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!h(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=s;case"[object Set]":var v=1&r;if(p||(p=u),e.size!=t.size&&!v)return!1;var d=f.get(e);if(d)return d==t;r|=2,f.set(e,t);var y=o(p(e),p(t),r,c,h,f);return f.delete(e),y;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},8078:function(e,t,n){var r=n(8248),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,o,s){var u=1&n,c=r(e),l=c.length;if(l!=r(t).length&&!u)return!1;for(var h=l;h--;){var f=c[h];if(!(u?f in t:i.call(t,f)))return!1}var p=s.get(e),v=s.get(t);if(p&&v)return p==t&&v==e;var d=!0;s.set(e,t),s.set(t,e);for(var y=u;++h<l;){var m=e[f=c[h]],g=t[f];if(a)var k=u?a(g,m,f,t,e,s):a(m,g,f,e,t,s);if(!(void 0===k?m===g||o(m,g,n,a,s):k)){d=!1;break}y||(y="constructor"==f)}if(d&&!y){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(d=!1)}return s.delete(e),s.delete(t),d}},1032:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},8248:function(e,t,n){var r=n(1986),i=n(5918),a=n(2742);e.exports=function(e){return r(e,a,i)}},2799:function(e,t,n){var r=n(5964);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},9091:function(e,t,n){var r=n(5072),i=n(2742);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var a=t[n],o=e[a];t[n]=[a,o,r(o)]}return t}},8136:function(e,t,n){var r=n(6703),i=n(40);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},1587:function(e,t,n){var r=n(7197),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(u){}var i=o.call(e);return r&&(t?e[s]=n:delete e[s]),i}},5918:function(e,t,n){var r=n(4903),i=n(8174),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(e){return null==e?[]:(e=Object(e),r(o(e),(function(t){return a.call(e,t)})))}:i;e.exports=s},8383:function(e,t,n){var r=n(908),i=n(5797),a=n(8319),o=n(3924),s=n(7091),u=n(9066),c=n(7907),l="[object Map]",h="[object Promise]",f="[object Set]",p="[object WeakMap]",v="[object DataView]",d=c(r),y=c(i),m=c(a),g=c(o),k=c(s),b=u;(r&&b(new r(new ArrayBuffer(1)))!=v||i&&b(new i)!=l||a&&b(a.resolve())!=h||o&&b(new o)!=f||s&&b(new s)!=p)&&(b=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case d:return v;case y:return l;case m:return h;case g:return f;case k:return p}return t}),e.exports=b},40:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},6417:function(e,t,n){var r=n(3082),i=n(4963),a=n(3629),o=n(6800),s=n(4635),u=n(9793);e.exports=function(e,t,n){for(var c=-1,l=(t=r(t,e)).length,h=!1;++c<l;){var f=u(t[c]);if(!(h=null!=e&&n(e,f)))break;e=e[f]}return h||++c!=l?h:!!(l=null==e?0:e.length)&&s(l)&&o(f,l)&&(a(e)||i(e))}},7302:function(e){var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},7137:function(e){var t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return t.test(e)}},5403:function(e,t,n){var r=n(9620);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},2747:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},6037:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},4154:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},7728:function(e,t,n){var r=n(9620);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},6800:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},5823:function(e,t,n){var r=n(3629),i=n(152),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(o.test(e)||!a.test(e)||null!=t&&e in Object(t))}},5964:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},257:function(e,t,n){var r=n(5525),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},2936:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},5072:function(e,t,n){var r=n(8092);e.exports=function(e){return e===e&&!r(e)}},3894:function(e){e.exports=function(){this.__data__=[],this.size=0}},8699:function(e,t,n){var r=n(7112),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},4957:function(e,t,n){var r=n(7112);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7184:function(e,t,n){var r=n(7112);e.exports=function(e){return r(this.__data__,e)>-1}},7109:function(e,t,n){var r=n(7112);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},4086:function(e,t,n){var r=n(9676),i=n(8384),a=n(5797);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||i),string:new r}}},9255:function(e,t,n){var r=n(2799);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},9186:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).get(e)}},3423:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).has(e)}},3739:function(e,t,n){var r=n(2799);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},234:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},284:function(e){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},4634:function(e,t,n){var r=n(9151);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},9620:function(e,t,n){var r=n(8136)(Object,"create");e.exports=r},8836:function(e,t,n){var r=n(2709)(Object.keys,Object);e.exports=r},9494:function(e,t,n){e=n.nmd(e);var r=n(1032),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i&&r.process,s=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=s},3581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},2709:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},7009:function(e,t,n){var r=n(1032),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();e.exports=a},5774:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1596:function(e){e.exports=function(e){return this.__data__.has(e)}},2230:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},511:function(e,t,n){var r=n(8384);e.exports=function(){this.__data__=new r,this.size=0}},835:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},707:function(e){e.exports=function(e){return this.__data__.get(e)}},8832:function(e){e.exports=function(e){return this.__data__.has(e)}},5077:function(e,t,n){var r=n(8384),i=n(5797),a=n(8059);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!i||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(o)}return n.set(e,t),this.size=n.size,this}},7580:function(e,t,n){var r=n(4622),i=n(7302),a=n(2129);e.exports=function(e){return i(e)?a(e):r(e)}},170:function(e,t,n){var r=n(4634),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,o=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(a,"$1"):n||e)})),t}));e.exports=o},9793:function(e,t,n){var r=n(152);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},7907:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},2129:function(e){var t="[\\ud800-\\udfff]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",o="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:"+n+"|"+r+")"+"?",u="[\\ufe0e\\ufe0f]?",c=u+s+("(?:\\u200d(?:"+[i,a,o].join("|")+")"+u+s+")*"),l="(?:"+[i+n+"?",n,a,o,t].join("|")+")",h=RegExp(r+"(?="+r+")|"+l+c,"g");e.exports=function(e){return e.match(h)||[]}},1029:function(e){var t="\\u2700-\\u27bf",n="a-z\\xdf-\\xf6\\xf8-\\xff",r="A-Z\\xc0-\\xd6\\xd8-\\xde",i="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",a="["+i+"]",o="\\d+",s="[\\u2700-\\u27bf]",u="["+n+"]",c="[^\\ud800-\\udfff"+i+o+t+n+r+"]",l="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",f="["+r+"]",p="(?:"+u+"|"+c+")",v="(?:"+f+"|"+c+")",d="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",y="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",m="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",g="[\\ufe0e\\ufe0f]?",k=g+m+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",l,h].join("|")+")"+g+m+")*"),b="(?:"+[s,l,h].join("|")+")"+k,w=RegExp([f+"?"+u+"+"+d+"(?="+[a,f,"$"].join("|")+")",v+"+"+y+"(?="+[a,f+p,"$"].join("|")+")",f+"?"+p+"+"+d,f+"+"+y,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",o,b].join("|"),"g");e.exports=function(e){return e.match(w)||[]}},567:function(e,t,n){var r=n(3131),i=n(7810)((function(e,t,n){return t=t.toLowerCase(),e+(n?r(t):t)}));e.exports=i},3131:function(e,t,n){var r=n(3518),i=n(2085);e.exports=function(e){return i(r(e).toLowerCase())}},4857:function(e,t,n){var r=n(5868),i=n(3518),a=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,o=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=i(e))&&e.replace(a,r).replace(o,"")}},9231:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},6181:function(e,t,n){var r=n(8667);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},7805:function(e,t,n){var r=n(7852),i=n(6417);e.exports=function(e,t){return null!=e&&i(e,t,r)}},5658:function(e,t,n){var r=n(529),i=n(6417);e.exports=function(e,t){return null!=e&&i(e,t,r)}},2100:function(e){e.exports=function(e){return e}},4963:function(e,t,n){var r=n(4906),i=n(3141),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},3629:function(e){var t=Array.isArray;e.exports=t},1473:function(e,t,n){var r=n(4786),i=n(4635);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},5174:function(e,t,n){e=n.nmd(e);var r=n(7009),i=n(9488),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,s=o&&o.exports===a?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;e.exports=u},4786:function(e,t,n){var r=n(9066),i=n(8092);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},4635:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},8092:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},152:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},9102:function(e,t,n){var r=n(8150),i=n(6194),a=n(9494),o=a&&a.isTypedArray,s=o?i(o):r;e.exports=s},2742:function(e,t,n){var r=n(7538),i=n(3654),a=n(1473);e.exports=function(e){return a(e)?r(e):i(e)}},9029:function(e,t,n){var r=n(2526),i=n(5358),a=n(6025);e.exports=function(e,t){var n={};return t=a(t,3),i(e,(function(e,i,a){r(n,t(e,i,a),e)})),n}},7702:function(e,t,n){var r=n(2526),i=n(5358),a=n(6025);e.exports=function(e,t){var n={};return t=a(t,3),i(e,(function(e,i,a){r(n,i,t(e,i,a))})),n}},9151:function(e,t,n){var r=n(8059);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},38:function(e,t,n){var r=n(9586),i=n(4084),a=n(5823),o=n(9793);e.exports=function(e){return a(e)?r(o(e)):i(e)}},7499:function(e,t,n){var r=n(7810)((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));e.exports=r},8174:function(e){e.exports=function(){return[]}},9488:function(e){e.exports=function(){return!1}},3518:function(e,t,n){var r=n(2446);e.exports=function(e){return null==e?"":r(e)}},2085:function(e,t,n){var r=n(322)("toUpperCase");e.exports=r},5660:function(e,t,n){var r=n(240),i=n(7137),a=n(3518),o=n(1029);e.exports=function(e,t,n){return e=a(e),void 0===(t=n?void 0:t)?i(e)?o(e):r(e):e.match(t)||[]}},2758:function(e){"use strict";function t(e){this._maxSize=e,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(e){return this._values[e]},t.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var n=/[^.^\]^[]+|(?=\[\]|\.\.)/g,r=/^\d+$/,i=/^\d/,a=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,o=/^\s*(['"]?)(.*?)(\1)\s*$/,s=new t(512),u=new t(512),c=new t(512);function l(e){return s.get(e)||s.set(e,h(e).map((function(e){return e.replace(o,"$2")})))}function h(e){return e.match(n)||[""]}function f(e){return"string"===typeof e&&e&&-1!==["'",'"'].indexOf(e.charAt(0))}function p(e){return!f(e)&&(function(e){return e.match(i)&&!e.match(r)}(e)||function(e){return a.test(e)}(e))}e.exports={Cache:t,split:h,normalizePath:l,setter:function(e){var t=l(e);return u.get(e)||u.set(e,(function(e,n){for(var r=0,i=t.length,a=e;r<i-1;){var o=t[r];if("__proto__"===o||"constructor"===o||"prototype"===o)return e;a=a[t[r++]]}a[t[r]]=n}))},getter:function(e,t){var n=l(e);return c.get(e)||c.set(e,(function(e){for(var r=0,i=n.length;r<i;){if(null==e&&t)return;e=e[n[r++]]}return e}))},join:function(e){return e.reduce((function(e,t){return e+(f(t)||r.test(t)?"["+t+"]":(e?".":"")+t)}),"")},forEach:function(e,t,n){!function(e,t,n){var r,i,a,o,s=e.length;for(i=0;i<s;i++)(r=e[i])&&(p(r)&&(r='"'+r+'"'),a=!(o=f(r))&&/^\d+$/.test(r),t.call(n,r,o,a,i,e))}(Array.isArray(e)?e:h(e),t,n)}}},77:function(e){"use strict";var t=Array.isArray,n=Object.keys,r=Object.prototype.hasOwnProperty,i="undefined"!==typeof Element;function a(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){var s,u,c,l=t(e),h=t(o);if(l&&h){if((u=e.length)!=o.length)return!1;for(s=u;0!==s--;)if(!a(e[s],o[s]))return!1;return!0}if(l!=h)return!1;var f=e instanceof Date,p=o instanceof Date;if(f!=p)return!1;if(f&&p)return e.getTime()==o.getTime();var v=e instanceof RegExp,d=o instanceof RegExp;if(v!=d)return!1;if(v&&d)return e.toString()==o.toString();var y=n(e);if((u=y.length)!==n(o).length)return!1;for(s=u;0!==s--;)if(!r.call(o,y[s]))return!1;if(i&&e instanceof Element&&o instanceof Element)return e===o;for(s=u;0!==s--;)if(("_owner"!==(c=y[s])||!e.$$typeof)&&!a(e[c],o[c]))return!1;return!0}return e!==e&&o!==o}e.exports=function(e,t){try{return a(e,t)}catch(n){if(n.message&&n.message.match(/stack|recursion/i)||-2146828260===n.number)return console.warn("Warning: react-fast-compare does not handle circular references.",n.name,n.message),!1;throw n}}},6514:function(e){function t(e,t){var n=e.length,r=new Array(n),i={},a=n,o=function(e){for(var t=new Map,n=0,r=e.length;n<r;n++){var i=e[n];t.has(i[0])||t.set(i[0],new Set),t.has(i[1])||t.set(i[1],new Set),t.get(i[0]).add(i[1])}return t}(t),s=function(e){for(var t=new Map,n=0,r=e.length;n<r;n++)t.set(e[n],n);return t}(e);for(t.forEach((function(e){if(!s.has(e[0])||!s.has(e[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")}));a--;)i[a]||u(e[a],a,new Set);return r;function u(e,t,a){if(a.has(e)){var c;try{c=", node was:"+JSON.stringify(e)}catch(f){c=""}throw new Error("Cyclic dependency"+c)}if(!s.has(e))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(e));if(!i[t]){i[t]=!0;var l=o.get(e)||new Set;if(t=(l=Array.from(l)).length){a.add(e);do{var h=l[--t];u(h,s.get(h),a)}while(t);a.delete(e)}r[--n]=e}}}e.exports=function(e){return t(function(e){for(var t=new Set,n=0,r=e.length;n<r;n++){var i=e[n];t.add(i[0]),t.add(i[1])}return Array.from(t)}(e),e)},e.exports.array=t}}]);
//# sourceMappingURL=105.ab1bdaf0.chunk.js.map